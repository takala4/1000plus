<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang xml:lang>
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <meta name="author" content="Takala" />
  <title>20200102</title>
  <style>
    html {
      line-height: 1.5;
      font-family: Georgia, serif;
      font-size: 20px;
      color: #1a1a1a;
      background-color: #fdfdfd;
    }
    body {
      margin: 0 auto;
      max-width: 36em;
      padding-left: 50px;
      padding-right: 50px;
      padding-top: 50px;
      padding-bottom: 50px;
      hyphens: auto;
      word-wrap: break-word;
      text-rendering: optimizeLegibility;
      font-kerning: normal;
    }
    @media (max-width: 600px) {
      body {
        font-size: 0.9em;
        padding: 1em;
      }
    }
    @media print {
      body {
        background-color: transparent;
        color: black;
        font-size: 12pt;
      }
      p, h2, h3 {
        orphans: 3;
        widows: 3;
      }
      h2, h3, h4 {
        page-break-after: avoid;
      }
    }
    p {
      margin: 1em 0;
    }
    a {
      color: #1a1a1a;
    }
    a:visited {
      color: #1a1a1a;
    }
    img {
      max-width: 100%;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 1.4em;
    }
    h5, h6 {
      font-size: 1em;
      font-style: italic;
    }
    h6 {
      font-weight: normal;
    }
    ol, ul {
      padding-left: 1.7em;
      margin-top: 1em;
    }
    li > ol, li > ul {
      margin-top: 0;
    }
    blockquote {
      margin: 1em 0 1em 1.7em;
      padding-left: 1em;
      border-left: 2px solid #e6e6e6;
      color: #606060;
    }
    code {
      font-family: Menlo, Monaco, 'Lucida Console', Consolas, monospace;
      font-size: 85%;
      margin: 0;
    }
    pre {
      margin: 1em 0;
      overflow: auto;
    }
    pre code {
      padding: 0;
      overflow: visible;
    }
    .sourceCode {
     background-color: transparent;
     overflow: visible;
    }
    hr {
      background-color: #1a1a1a;
      border: none;
      height: 1px;
      margin: 1em 0;
    }
    table {
      margin: 1em 0;
      border-collapse: collapse;
      width: 100%;
      overflow-x: auto;
      display: block;
      font-variant-numeric: lining-nums tabular-nums;
    }
    table caption {
      margin-bottom: 0.75em;
    }
    tbody {
      margin-top: 0.5em;
      border-top: 1px solid #1a1a1a;
      border-bottom: 1px solid #1a1a1a;
    }
    th {
      border-top: 1px solid #1a1a1a;
      padding: 0.25em 0.5em 0.25em 0.5em;
    }
    td {
      padding: 0.125em 0.5em 0.25em 0.5em;
    }
    header {
      margin-bottom: 4em;
      text-align: center;
    }
    #TOC li {
      list-style: none;
    }
    #TOC a:not(:hover) {
      text-decoration: none;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
  
  
  
</head>
<style>
   @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@100;300;400;500;700;900&display=swap');

 body {
     font-family: "Noto Sans JP", "Hiragino Kaku Gothic ProN", Meiryo, sans-serif;
 }

 .square_center {
     width: 0;
     height: 0;
     border-top: solid 10px #000000;
     border-right: solid 10px #000000;
     border-bottom: solid 10px #000000;
     border-left: solid 10px #000000;
     display: inline-block;
     margin-top: 10px;
     margin-bottom: 10px;
     margin-right: 20px;
     margin-left: 20px;
 }

 .triangle_right {
     width: 0;
     height: 0;
     border-top: solid 20px transparent;
     border-right: solid 20px transparent;
     border-bottom: solid 20px transparent;
     border-left: solid 20px #000000;
     display: inline-block;
 }

 .triangle_left {
     width: 0;
     height: 0;
     border-top: solid 20px transparent;
     border-right: solid 20px #000000;
     border-bottom: solid 20px transparent;
     border-left: solid 20px transparent;
     display: inline-block;
 }
</style>
<body>
<header id="title-block-header">
<h1 class="title">20200102</h1>
<p class="author"><a href="index.html">Takala</a></p>
</header>
<p>この年末年始，「左利きのエレン」という漫画にドはまりしている．</p>
<p>「天才になれなかった全ての人へ」というなんともグッとくるサブタイトルに惹かれて読み始めたのだが， はまってしまった．</p>
<p>この「左利きのエレン」は，何者にもなれない僕は何になるのか問題をテーマに， 主人公の職場・人生の葛藤を描く漫画なのだが，かなり哲学的で示唆に富む場面が多い．</p>
<p>そのひとつに，「集中力の質」についての言及する場面がある．</p>
<blockquote class="twitter-tweet">
<p lang="ja" dir="ltr">
【今日の <a href="https://twitter.com/hashtag/%E5%B7%A6%E3%81%8D%E3%81%8D%E3%81%AE%E3%82%A8%E3%83%AC%E3%83%B3?src=hash&amp;ref_src=twsrc%5Etfw">#左ききのエレン</a> 】<br><br>集中力は「深さ」「長さ」「早さ」のかけ算だと思う<br><br>第３巻に登場した集中力理論。あなたの集中力はどのタイプ？ <a href="https://t.co/7OQvdwpNuo">pic.twitter.com/7OQvdwpNuo</a>
</p>
— 「左ききのエレン」宣伝部 (<span class="citation" data-cites="SAYURI_stART">@SAYURI_stART</span>) <a href="https://twitter.com/SAYURI_stART/status/801331546552696832?ref_src=twsrc%5Etfw">November 23, 2016</a>
</blockquote>
<script async src="data:application/javascript; charset=utf-8;base64,RnVuY3Rpb24mJkZ1bmN0aW9uLnByb3RvdHlwZSYmRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQmJigvKE1TSUUgKFs2Nzg5XXwxMHwxMSkpfFRyaWRlbnQvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCl8fCh3aW5kb3cuX190d3R0ciYmd2luZG93Ll9fdHd0dHIud2lkZ2V0cyYmd2luZG93Ll9fdHd0dHIud2lkZ2V0cy5sb2FkZWQmJndpbmRvdy50d3R0ci53aWRnZXRzLmxvYWQmJndpbmRvdy50d3R0ci53aWRnZXRzLmxvYWQoKSx3aW5kb3cuX190d3R0ciYmd2luZG93Ll9fdHd0dHIud2lkZ2V0cyYmd2luZG93Ll9fdHd0dHIud2lkZ2V0cy5pbml0fHxmdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe2Zvcih2YXIgbixpLG89ZVswXSxzPWVbMV0sYT0wLGM9W107YTxvLmxlbmd0aDthKyspaT1vW2FdLHJbaV0mJmMucHVzaChyW2ldWzBdKSxyW2ldPTA7Zm9yKG4gaW4gcylPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocyxuKSYmKHRbbl09c1tuXSk7Zm9yKHUmJnUoZSk7Yy5sZW5ndGg7KWMuc2hpZnQoKSgpfXZhciBuPXt9LHI9ezE6MH07ZnVuY3Rpb24gaShlKXtpZihuW2VdKXJldHVybiBuW2VdLmV4cG9ydHM7dmFyIHI9bltlXT17aTplLGw6ITEsZXhwb3J0czp7fX07cmV0dXJuIHRbZV0uY2FsbChyLmV4cG9ydHMscixyLmV4cG9ydHMsaSksci5sPSEwLHIuZXhwb3J0c31pLmU9ZnVuY3Rpb24odCl7dmFyIGU9W10sbj1yW3RdO2lmKDAhPT1uKWlmKG4pZS5wdXNoKG5bMl0pO2Vsc2V7dmFyIG89bmV3IFByb21pc2UoZnVuY3Rpb24oZSxpKXtuPXJbdF09W2UsaV19KTtlLnB1c2goblsyXT1vKTt2YXIgcyxhPWRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJoZWFkIilbMF0sdT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKTt1LmNoYXJzZXQ9InV0Zi04Iix1LnRpbWVvdXQ9MTIwLGkubmMmJnUuc2V0QXR0cmlidXRlKCJub25jZSIsaS5uYyksdS5zcmM9ZnVuY3Rpb24odCl7cmV0dXJuIGkucCsianMvIisoezA6Im1vbWVudH50aW1lbGluZSIsMjoiZG1fYnV0dG9uIiwzOiJidXR0b24iLDQ6Im1vbWVudCIsNToicGVyaXNjb3BlX29uX2FpciIsNjoiaG9yaXpvbl90aW1lbGluZSIsNzoidGltZWxpbmUiLDg6Imhvcml6b25fdHdlZXQifVt0XXx8dCkrIi4iK3swOiJiY2IxY2FmYTkyMzQ4MmY0ODI2ZTMyNzQxZmUxNmE5OCIsMjoiMzU0MjFkODFiOTQ3OWUxYTBhMzMzYmJlODc5ZjNmNmYiLDM6IjU1NzNjOTc0ZGMzMWJiZGFiNWVhNzkyM2EwYmQ1Y2YzIiw0OiI3MmEyMzBiMzZkOGI5ZDc4ZGVmODBmMjcyYmNmODk1ZiIsNToiNWRjODE0YWQyYTE2NWEwMWY5OTRjYzdkZDM2ZGNkM2IiLDY6ImY1MmIxYjhjNmQ0ODM1MmUxOTExOWQyZjYwNmIwM2JlIiw3OiIyOGVjZGE5NjY3ZWViOGUxYjE4ODk4Yjk5ZmVlNmMzMSIsODoiOWExNDg2YzU2Y2U0NTQyNmI0YjQwMmEzODc3MmE0ZDIifVt0XSsiLmpzIn0odCkscz1mdW5jdGlvbihlKXt1Lm9uZXJyb3I9dS5vbmxvYWQ9bnVsbCxjbGVhclRpbWVvdXQoYyk7dmFyIG49clt0XTtpZigwIT09bil7aWYobil7dmFyIGk9ZSYmKCJsb2FkIj09PWUudHlwZT8ibWlzc2luZyI6ZS50eXBlKSxvPWUmJmUudGFyZ2V0JiZlLnRhcmdldC5zcmMscz1uZXcgRXJyb3IoIkxvYWRpbmcgY2h1bmsgIit0KyIgZmFpbGVkLlxuKCIraSsiOiAiK28rIikiKTtzLnR5cGU9aSxzLnJlcXVlc3Q9byxuWzFdKHMpfXJbdF09dm9pZCAwfX07dmFyIGM9c2V0VGltZW91dChmdW5jdGlvbigpe3Moe3R5cGU6InRpbWVvdXQiLHRhcmdldDp1fSl9LDEyZTQpO3Uub25lcnJvcj11Lm9ubG9hZD1zLGEuYXBwZW5kQ2hpbGQodSl9cmV0dXJuIFByb21pc2UuYWxsKGUpfSxpLm09dCxpLmM9bixpLmQ9ZnVuY3Rpb24odCxlLG4pe2kubyh0LGUpfHxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxlLHtlbnVtZXJhYmxlOiEwLGdldDpufSl9LGkucj1mdW5jdGlvbih0KXsidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmU3ltYm9sLnRvU3RyaW5nVGFnJiZPYmplY3QuZGVmaW5lUHJvcGVydHkodCxTeW1ib2wudG9TdHJpbmdUYWcse3ZhbHVlOiJNb2R1bGUifSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pfSxpLnQ9ZnVuY3Rpb24odCxlKXtpZigxJmUmJih0PWkodCkpLDgmZSlyZXR1cm4gdDtpZig0JmUmJiJvYmplY3QiPT10eXBlb2YgdCYmdCYmdC5fX2VzTW9kdWxlKXJldHVybiB0O3ZhciBuPU9iamVjdC5jcmVhdGUobnVsbCk7aWYoaS5yKG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLCJkZWZhdWx0Iix7ZW51bWVyYWJsZTohMCx2YWx1ZTp0fSksMiZlJiYic3RyaW5nIiE9dHlwZW9mIHQpZm9yKHZhciByIGluIHQpaS5kKG4scixmdW5jdGlvbihlKXtyZXR1cm4gdFtlXX0uYmluZChudWxsLHIpKTtyZXR1cm4gbn0saS5uPWZ1bmN0aW9uKHQpe3ZhciBlPXQmJnQuX19lc01vZHVsZT9mdW5jdGlvbigpe3JldHVybiB0LmRlZmF1bHR9OmZ1bmN0aW9uKCl7cmV0dXJuIHR9O3JldHVybiBpLmQoZSwiYSIsZSksZX0saS5vPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGUpfSxpLnA9Imh0dHBzOi8vcGxhdGZvcm0udHdpdHRlci5jb20vIixpLm9lPWZ1bmN0aW9uKHQpe3Rocm93IGNvbnNvbGUuZXJyb3IodCksdH07dmFyIG89d2luZG93Ll9fdHd0dHJsbD13aW5kb3cuX190d3R0cmxsfHxbXSxzPW8ucHVzaC5iaW5kKG8pO28ucHVzaD1lLG89by5zbGljZSgpO2Zvcih2YXIgYT0wO2E8by5sZW5ndGg7YSsrKWUob1thXSk7dmFyIHU9cztpKGkucz05MSl9KFtmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxKTtmdW5jdGlvbiBpKHQsZSl7dmFyIG47Zm9yKG4gaW4gdCl0Lmhhc093blByb3BlcnR5JiYhdC5oYXNPd25Qcm9wZXJ0eShuKXx8ZShuLHRbbl0pO3JldHVybiB0fWZ1bmN0aW9uIG8odCl7cmV0dXJue30udG9TdHJpbmcuY2FsbCh0KS5tYXRjaCgvXHMoW2EtekEtWl0rKS8pWzFdLnRvTG93ZXJDYXNlKCl9ZnVuY3Rpb24gcyh0KXtyZXR1cm4gdD09PU9iamVjdCh0KX1mdW5jdGlvbiBhKHQpe3ZhciBlO2lmKCFzKHQpKXJldHVybiExO2lmKE9iamVjdC5rZXlzKXJldHVybiFPYmplY3Qua2V5cyh0KS5sZW5ndGg7Zm9yKGUgaW4gdClpZih0Lmhhc093blByb3BlcnR5KGUpKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIHUodCl7cmV0dXJuIHQ/QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodCk6W119dC5leHBvcnRzPXthdWc6ZnVuY3Rpb24odCl7cmV0dXJuIHUoYXJndW1lbnRzKS5zbGljZSgxKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2koZSxmdW5jdGlvbihlLG4pe3RbZV09bn0pfSksdH0sYXN5bmM6ZnVuY3Rpb24odCxlKXtyLnNldFRpbWVvdXQoZnVuY3Rpb24oKXt0LmNhbGwoZXx8bnVsbCl9LDApfSxjb21wYWN0OmZ1bmN0aW9uIHQoZSl7cmV0dXJuIGkoZSxmdW5jdGlvbihuLHIpe3MocikmJih0KHIpLGEocikmJmRlbGV0ZSBlW25dKSx2b2lkIDAhPT1yJiZudWxsIT09ciYmIiIhPT1yfHxkZWxldGUgZVtuXX0pLGV9LGNvbnRhaW5zOmZ1bmN0aW9uKHQsZSl7cmV0dXJuISghdHx8IXQuaW5kZXhPZikmJnQuaW5kZXhPZihlKT4tMX0sZm9ySW46aSxpc09iamVjdDpzLGlzRW1wdHlPYmplY3Q6YSx0b1R5cGU6byxpc1R5cGU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD09byhlKX0sdG9SZWFsQXJyYXk6dX19LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPXdpbmRvd30sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNik7dC5leHBvcnRzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLnByb21pc2U9bmV3IHIoZnVuY3Rpb24oZSxuKXt0LnJlc29sdmU9ZSx0LnJlamVjdD1ufSl9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxMSksaT0vKD86XnwoPzpodHRwcz86KT9cL1wvKD86d3d3XC4pP3R3aXR0ZXJcLmNvbSg/OjpcZCspPyg/OlwvaW50ZW50XC8oPzpmb2xsb3d8dXNlcilcLz9cP3NjcmVlbl9uYW1lPXwoPzpcLyMhKT9cLykpQD8oW1x3XSspKD86XD98JnwkKS9pLG89Lyg/Ol58KD86aHR0cHM/Oik/XC9cLyg/Ond3d1wuKT90d2l0dGVyXC5jb20oPzo6XGQrKT9cLyg/OiMhXC8pP1tcd19dK1wvc3RhdHVzKD86ZXMpP1wvKShcZCspL2kscz0vXmh0dHAocz8pOlwvXC8oXHcrXC4pKnR3aXR0ZXJcLmNvbShbOi9dfCQpL2ksYT0vXmh0dHAocz8pOlwvXC8odG9ufHBicylcLnR3aW1nXC5jb20vLHU9L14jPyhbXi4sPD4hXHMvI1wtKCknIl0rKSQvLGM9L3R3aXR0ZXJcLmNvbSg/OjpcZHsyLDR9KT9cL2ludGVudFwvKFx3KykvLGQ9L15odHRwcz86XC9cLyg/Ond3d1wuKT90d2l0dGVyXC5jb21cL1x3K1wvdGltZWxpbmVzXC8oXGQrKS9pLGw9L15odHRwcz86XC9cLyg/Ond3d1wuKT90d2l0dGVyXC5jb21cL2lcL21vbWVudHNcLyhcZCspL2ksZj0vXmh0dHBzPzpcL1wvKD86d3d3XC4pP3R3aXR0ZXJcLmNvbVwvKFx3KylcLyg/Omxpa2VzfGZhdm9yaXRlcykvaSxoPS9eaHR0cHM/OlwvXC8oPzp3d3dcLik/dHdpdHRlclwuY29tXC8oXHcrKVwvbGlzdHNcLyhbXHctJV0rKS9pLHA9L15odHRwcz86XC9cLyg/Ond3d1wuKT90d2l0dGVyXC5jb21cL2lcL2xpdmVcLyhcZCspL2ksbT0vXmh0dHBzPzpcL1wvc3luZGljYXRpb25cLnR3aXR0ZXJcLmNvbVwvc2V0dGluZ3MvaSx2PS9eaHR0cHM/OlwvXC8obG9jYWxob3N0fHBsYXRmb3JtKVwudHdpdHRlclwuY29tKD86OlxkKyk/XC93aWRnZXRzXC93aWRnZXRfaWZyYW1lXC4oLispL2ksZz0vXmh0dHBzPzpcL1wvKD86d3d3XC4pP3R3aXR0ZXJcLmNvbVwvc2VhcmNoXD9xPShcdyspL2k7ZnVuY3Rpb24gdyh0KXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIHQmJmkudGVzdCh0KSYmUmVnRXhwLiQxLmxlbmd0aDw9MjB9ZnVuY3Rpb24geSh0KXtpZih3KHQpKXJldHVybiBSZWdFeHAuJDF9ZnVuY3Rpb24gYih0LGUpe3ZhciBuPXIuZGVjb2RlVVJMKHQpO2lmKGU9ZXx8ITEsbi5zY3JlZW5fbmFtZT15KHQpLG4uc2NyZWVuX25hbWUpcmV0dXJuIHIudXJsKCJodHRwczovL3R3aXR0ZXIuY29tL2ludGVudC8iKyhlPyJmb2xsb3ciOiJ1c2VyIiksbil9ZnVuY3Rpb24gXyh0KXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIHQmJnUudGVzdCh0KX1mdW5jdGlvbiBFKHQpe3JldHVybiJzdHJpbmciPT10eXBlb2YgdCYmby50ZXN0KHQpfXQuZXhwb3J0cz17aXNIYXNoVGFnOl8saGFzaFRhZzpmdW5jdGlvbih0LGUpe2lmKGU9dm9pZCAwPT09ZXx8ZSxfKHQpKXJldHVybihlPyIjIjoiIikrUmVnRXhwLiQxfSxpc1NjcmVlbk5hbWU6dyxzY3JlZW5OYW1lOnksaXNTdGF0dXM6RSxzdGF0dXM6ZnVuY3Rpb24odCl7cmV0dXJuIEUodCkmJlJlZ0V4cC4kMX0saW50ZW50Rm9yUHJvZmlsZVVSTDpiLGludGVudEZvckZvbGxvd1VSTDpmdW5jdGlvbih0KXtyZXR1cm4gYih0LCEwKX0saXNUd2l0dGVyVVJMOmZ1bmN0aW9uKHQpe3JldHVybiBzLnRlc3QodCl9LGlzVHdpbWdVUkw6ZnVuY3Rpb24odCl7cmV0dXJuIGEudGVzdCh0KX0saXNJbnRlbnRVUkw6ZnVuY3Rpb24odCl7cmV0dXJuIGMudGVzdCh0KX0saXNTZXR0aW5nc1VSTDpmdW5jdGlvbih0KXtyZXR1cm4gbS50ZXN0KHQpfSxpc1dpZGdldElmcmFtZVVSTDpmdW5jdGlvbih0KXtyZXR1cm4gdi50ZXN0KHQpfSxpc1NlYXJjaFVybDpmdW5jdGlvbih0KXtyZXR1cm4gZy50ZXN0KHQpfSxyZWdleGVuOntwcm9maWxlOml9LG1vbWVudElkOmZ1bmN0aW9uKHQpe3JldHVybiBsLnRlc3QodCkmJlJlZ0V4cC4kMX0sY29sbGVjdGlvbklkOmZ1bmN0aW9uKHQpe3JldHVybiBkLnRlc3QodCkmJlJlZ0V4cC4kMX0saW50ZW50VHlwZTpmdW5jdGlvbih0KXtyZXR1cm4gYy50ZXN0KHQpJiZSZWdFeHAuJDF9LGxpa2VzU2NyZWVuTmFtZTpmdW5jdGlvbih0KXtyZXR1cm4gZi50ZXN0KHQpJiZSZWdFeHAuJDF9LGxpc3RTY3JlZW5OYW1lQW5kU2x1ZzpmdW5jdGlvbih0KXt2YXIgZSxuLHI7aWYoaC50ZXN0KHQpKXtlPVJlZ0V4cC4kMSxuPVJlZ0V4cC4kMjt0cnl7cj1kZWNvZGVVUklDb21wb25lbnQobil9Y2F0Y2godCl7fXJldHVybntvd25lclNjcmVlbk5hbWU6ZSxzbHVnOnJ8fG59fXJldHVybiExfSxldmVudElkOmZ1bmN0aW9uKHQpe3JldHVybiBwLnRlc3QodCkmJlJlZ0V4cC4kMX19fSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1kb2N1bWVudH0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMCksaT1bITAsMSwiMSIsIm9uIiwiT04iLCJ0cnVlIiwiVFJVRSIsInllcyIsIllFUyJdLG89WyExLDAsIjAiLCJvZmYiLCJPRkYiLCJmYWxzZSIsIkZBTFNFIiwibm8iLCJOTyJdO2Z1bmN0aW9uIHModCl7cmV0dXJuIHZvaWQgMCE9PXQmJm51bGwhPT10JiYiIiE9PXR9ZnVuY3Rpb24gYSh0KXtyZXR1cm4gYyh0KSYmdCUxPT0wfWZ1bmN0aW9uIHUodCl7cmV0dXJuIGModCkmJiFhKHQpfWZ1bmN0aW9uIGModCl7cmV0dXJuIHModCkmJiFpc05hTih0KX1mdW5jdGlvbiBkKHQpe3JldHVybiByLmNvbnRhaW5zKG8sdCl9ZnVuY3Rpb24gbCh0KXtyZXR1cm4gci5jb250YWlucyhpLHQpfXQuZXhwb3J0cz17aGFzVmFsdWU6cyxpc0ludDphLGlzRmxvYXQ6dSxpc051bWJlcjpjLGlzU3RyaW5nOmZ1bmN0aW9uKHQpe3JldHVybiJzdHJpbmciPT09ci50b1R5cGUodCl9LGlzQXJyYXk6ZnVuY3Rpb24odCl7cmV0dXJuIHModCkmJiJhcnJheSI9PXIudG9UeXBlKHQpfSxpc1RydXRoVmFsdWU6bCxpc0ZhbHNlVmFsdWU6ZCxhc0ludDpmdW5jdGlvbih0KXtpZihhKHQpKXJldHVybiBwYXJzZUludCh0LDEwKX0sYXNGbG9hdDpmdW5jdGlvbih0KXtpZih1KHQpKXJldHVybiB0fSxhc051bWJlcjpmdW5jdGlvbih0KXtpZihjKHQpKXJldHVybiB0fSxhc0Jvb2xlYW46ZnVuY3Rpb24odCl7cmV0dXJuISghcyh0KXx8IWwodCkmJihkKHQpfHwhdCkpfX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDEpLGk9bigyMSksbz1uKDQ5KTtpLmhhc1Byb21pc2VTdXBwb3J0KCl8fChyLlByb21pc2U9byksdC5leHBvcnRzPXIuUHJvbWlzZX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMCk7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7dmFyIG49QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDIpO3JldHVybiBmdW5jdGlvbigpe3ZhciBpPXIudG9SZWFsQXJyYXkoYXJndW1lbnRzKTtyZXR1cm4gdC5hcHBseShlLG4uY29uY2F0KGkpKX19fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9big1MSk7dC5leHBvcnRzPW5ldyByKCJfX3R3dHRyIil9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWxvY2F0aW9ufSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigwKSxpPS9cYihbXHctX10rKVxiL2c7ZnVuY3Rpb24gbyh0KXtyZXR1cm4gbmV3IFJlZ0V4cCgiXFxiIit0KyJcXGIiLCJnIil9ZnVuY3Rpb24gcyh0LGUpe3QuY2xhc3NMaXN0P3QuY2xhc3NMaXN0LmFkZChlKTpvKGUpLnRlc3QodC5jbGFzc05hbWUpfHwodC5jbGFzc05hbWUrPSIgIitlKX1mdW5jdGlvbiBhKHQsZSl7dC5jbGFzc0xpc3Q/dC5jbGFzc0xpc3QucmVtb3ZlKGUpOnQuY2xhc3NOYW1lPXQuY2xhc3NOYW1lLnJlcGxhY2UobyhlKSwiICIpfWZ1bmN0aW9uIHUodCxlKXtyZXR1cm4gdC5jbGFzc0xpc3Q/dC5jbGFzc0xpc3QuY29udGFpbnMoZSk6ci5jb250YWlucyhjKHQpLGUpfWZ1bmN0aW9uIGModCl7cmV0dXJuIHIudG9SZWFsQXJyYXkodC5jbGFzc0xpc3Q/dC5jbGFzc0xpc3Q6dC5jbGFzc05hbWUubWF0Y2goaSkpfXQuZXhwb3J0cz17YWRkOnMscmVtb3ZlOmEscmVwbGFjZTpmdW5jdGlvbih0LGUsbil7aWYodC5jbGFzc0xpc3QmJnUodCxlKSlyZXR1cm4gYSh0LGUpLHZvaWQgcyh0LG4pO3QuY2xhc3NOYW1lPXQuY2xhc3NOYW1lLnJlcGxhY2UobyhlKSxuKX0sdG9nZ2xlOmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdm9pZCAwPT09biYmdC5jbGFzc0xpc3QmJnQuY2xhc3NMaXN0LnRvZ2dsZT90LmNsYXNzTGlzdC50b2dnbGUoZSxuKToobj9zKHQsZSk6YSh0LGUpLG4pfSxwcmVzZW50OnUsbGlzdDpjfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNSksaT1uKDApO2Z1bmN0aW9uIG8odCl7cmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudCh0KS5yZXBsYWNlKC9cKy9nLCIlMkIiKS5yZXBsYWNlKC8nL2csIiUyNyIpfWZ1bmN0aW9uIHModCl7cmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudCh0KX1mdW5jdGlvbiBhKHQpe3ZhciBlPVtdO3JldHVybiBpLmZvckluKHQsZnVuY3Rpb24odCxuKXt2YXIgcz1vKHQpO2kuaXNUeXBlKCJhcnJheSIsbil8fChuPVtuXSksbi5mb3JFYWNoKGZ1bmN0aW9uKHQpe3IuaGFzVmFsdWUodCkmJmUucHVzaChzKyI9IitvKHQpKX0pfSksZS5zb3J0KCkuam9pbigiJiIpfWZ1bmN0aW9uIHUodCl7dmFyIGU9e307cmV0dXJuIHQ/KHQuc3BsaXQoIiYiKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBuPXQuc3BsaXQoIj0iKSxyPXMoblswXSksbz1zKG5bMV0pO2lmKDI9PW4ubGVuZ3RoKXtpZighaS5pc1R5cGUoImFycmF5IixlW3JdKSlyZXR1cm4gciBpbiBlPyhlW3JdPVtlW3JdXSx2b2lkIGVbcl0ucHVzaChvKSk6dm9pZChlW3JdPW8pO2Vbcl0ucHVzaChvKX19KSxlKTp7fX10LmV4cG9ydHM9e3VybDpmdW5jdGlvbih0LGUpe3JldHVybiBhKGUpLmxlbmd0aD4wP2kuY29udGFpbnModCwiPyIpP3QrIiYiK2EoZSk6dCsiPyIrYShlKTp0fSxkZWNvZGVVUkw6ZnVuY3Rpb24odCl7dmFyIGU9dCYmdC5zcGxpdCgiPyIpO3JldHVybiAyPT1lLmxlbmd0aD91KGVbMV0pOnt9fSxkZWNvZGU6dSxlbmNvZGU6YSxlbmNvZGVQYXJ0Om8sZGVjb2RlUGFydDpzfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oOSksaT1uKDEpLG89bigwKSxzPXt9LGE9by5jb250YWlucyhyLmhyZWYsInR3X2RlYnVnPXRydWUiKTtmdW5jdGlvbiB1KCl7fWZ1bmN0aW9uIGMoKXt9ZnVuY3Rpb24gZCgpe3JldHVybiBpLnBlcmZvcm1hbmNlJiYraS5wZXJmb3JtYW5jZS5ub3coKXx8K25ldyBEYXRlfWZ1bmN0aW9uIGwodCxlKXtpZihpLmNvbnNvbGUmJmkuY29uc29sZVt0XSlzd2l0Y2goZS5sZW5ndGgpe2Nhc2UgMTppLmNvbnNvbGVbdF0oZVswXSk7YnJlYWs7Y2FzZSAyOmkuY29uc29sZVt0XShlWzBdLGVbMV0pO2JyZWFrO2Nhc2UgMzppLmNvbnNvbGVbdF0oZVswXSxlWzFdLGVbMl0pO2JyZWFrO2Nhc2UgNDppLmNvbnNvbGVbdF0oZVswXSxlWzFdLGVbMl0sZVszXSk7YnJlYWs7Y2FzZSA1OmkuY29uc29sZVt0XShlWzBdLGVbMV0sZVsyXSxlWzNdLGVbNF0pO2JyZWFrO2RlZmF1bHQ6MCE9PWUubGVuZ3RoJiZpLmNvbnNvbGUud2FybiYmaS5jb25zb2xlLndhcm4oInRvbyBtYW55IHBhcmFtcyBwYXNzZWQgdG8gbG9nZ2VyLiIrdCl9fXQuZXhwb3J0cz17ZGV2RXJyb3I6dSxkZXZJbmZvOmMsZGV2T2JqZWN0OmZ1bmN0aW9uKHQsZSl7fSxwdWJsaWNFcnJvcjpmdW5jdGlvbigpe2woImVycm9yIixvLnRvUmVhbEFycmF5KGFyZ3VtZW50cykpfSxwdWJsaWNMb2c6ZnVuY3Rpb24oKXtsKCJpbmZvIixvLnRvUmVhbEFycmF5KGFyZ3VtZW50cykpfSxwdWJsaWNXYXJuOmZ1bmN0aW9uKCl7bCgid2FybiIsby50b1JlYWxBcnJheShhcmd1bWVudHMpKX0sdGltZTpmdW5jdGlvbih0KXthJiYoc1t0XT1kKCkpfSx0aW1lRW5kOmZ1bmN0aW9uKHQpe2EmJnNbdF0mJihkKCksc1t0XSl9fX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMTkpLGk9big1KSxvPW4oMTEpLHM9bigwKSxhPW4oMTE1KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGU9dC5ocmVmJiZ0LmhyZWYuc3BsaXQoIj8iKVsxXSxuPWU/by5kZWNvZGUoZSk6e30sdT17bGFuZzphKHQpLHdpZHRoOnQuZ2V0QXR0cmlidXRlKCJkYXRhLXdpZHRoIil8fHQuZ2V0QXR0cmlidXRlKCJ3aWR0aCIpLGhlaWdodDp0LmdldEF0dHJpYnV0ZSgiZGF0YS1oZWlnaHQiKXx8dC5nZXRBdHRyaWJ1dGUoImhlaWdodCIpLHJlbGF0ZWQ6dC5nZXRBdHRyaWJ1dGUoImRhdGEtcmVsYXRlZCIpLHBhcnRuZXI6dC5nZXRBdHRyaWJ1dGUoImRhdGEtcGFydG5lciIpfTtyZXR1cm4gaS5hc0Jvb2xlYW4odC5nZXRBdHRyaWJ1dGUoImRhdGEtZG50IikpJiZyLnNldE9uKCkscy5mb3JJbih1LGZ1bmN0aW9uKHQsZSl7dmFyIHI9blt0XTtuW3RdPWkuaGFzVmFsdWUocik/cjplfSkscy5jb21wYWN0KG4pfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNzcpLGk9bigyMik7dC5leHBvcnRzPWZ1bmN0aW9uKCl7dmFyIHQ9ImRhdGEtdHdpdHRlci1leHRyYWN0ZWQtIitpLmdlbmVyYXRlKCk7cmV0dXJuIGZ1bmN0aW9uKGUsbil7cmV0dXJuIHIoZSxuKS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIWUuaGFzQXR0cmlidXRlKHQpfSkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLnNldEF0dHJpYnV0ZSh0LCJ0cnVlIiksZX0pfX19LGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbih0LGUsbixyLGksbyxzKXt0aGlzLmZhY3Rvcnk9dCx0aGlzLlNhbmRib3g9ZSx0aGlzLnNyY0VsPW8sdGhpcy50YXJnZXRFbD1pLHRoaXMucGFyYW1ldGVycz1yLHRoaXMuY2xhc3NOYW1lPW4sdGhpcy5vcHRpb25zPXN9bi5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuc3JjRWw9dGhpcy50YXJnZXRFbD1udWxsfSx0LmV4cG9ydHM9bn0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9e0RNX0JVVFRPTjoidHdpdHRlci1kbS1idXR0b24iLEZPTExPV19CVVRUT046InR3aXR0ZXItZm9sbG93LWJ1dHRvbiIsSEFTSFRBR19CVVRUT046InR3aXR0ZXItaGFzaHRhZy1idXR0b24iLE1FTlRJT05fQlVUVE9OOiJ0d2l0dGVyLW1lbnRpb24tYnV0dG9uIixNT01FTlQ6InR3aXR0ZXItbW9tZW50IixQRVJJU0NPUEU6InBlcmlzY29wZS1vbi1haXIiLFNIQVJFX0JVVFRPTjoidHdpdHRlci1zaGFyZS1idXR0b24iLFRJTUVMSU5FOiJ0d2l0dGVyLXRpbWVsaW5lIixUV0VFVDoidHdpdHRlci10d2VldCJ9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9big2KSxpPW4oMTkpLG89big1Mykscz1uKDM2KSxhPW4oNSksdT1uKDApO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUsbil7dmFyIGM7cmV0dXJuIHQ9dHx8W10sZT1lfHx7fSxjPSLGkigiK3Quam9pbigiLCAiKSsiLCB0YXJnZXQsIFtvcHRpb25zXSk7IixmdW5jdGlvbigpe3ZhciBkLGwsZixoLHA9QXJyYXkucHJvdG90eXBlLnNsaWNlLmFwcGx5KGFyZ3VtZW50cyxbMCx0Lmxlbmd0aF0pLG09QXJyYXkucHJvdG90eXBlLnNsaWNlLmFwcGx5KGFyZ3VtZW50cyxbdC5sZW5ndGhdKTtyZXR1cm4gbS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3QmJih0Lm5vZGVUeXBlIT09Tm9kZS5FTEVNRU5UX05PREU/dS5pc1R5cGUoImZ1bmN0aW9uIix0KT9kPXQ6dS5pc1R5cGUoIm9iamVjdCIsdCkmJihsPXQpOmY9dCl9KSxwLmxlbmd0aCE9PXQubGVuZ3RofHwwPT09bS5sZW5ndGg/KGQmJnUuYXN5bmMoZnVuY3Rpb24oKXtkKCExKX0pLHIucmVqZWN0KG5ldyBFcnJvcigiTm90IGVub3VnaCBwYXJhbWV0ZXJzLiBFeHBlY3RlZDogIitjKSkpOmY/KGw9dS5hdWcoe30sbHx8e30sZSksdC5mb3JFYWNoKGZ1bmN0aW9uKHQpe2xbdF09cC5zaGlmdCgpfSksYS5hc0Jvb2xlYW4obC5kbnQpJiZpLnNldE9uKCksaD1zLmdldEV4cGVyaW1lbnRzKCkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gby5hZGRXaWRnZXQobihsLGYsdm9pZCAwLHQpKX0pLGQmJmgudGhlbihkLGZ1bmN0aW9uKCl7ZCghMSl9KSxoKTooZCYmdS5hc3luYyhmdW5jdGlvbigpe2QoITEpfSksci5yZWplY3QobmV3IEVycm9yKCJObyB0YXJnZXQgZWxlbWVudCBzcGVjaWZpZWQuIEV4cGVjdGVkOiAiK2MpKSl9fX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oOTgpLGk9bigyKSxvPW4oMCk7ZnVuY3Rpb24gcyh0LGUpe3JldHVybiBmdW5jdGlvbigpe3RyeXtlLnJlc29sdmUodC5jYWxsKHRoaXMpKX1jYXRjaCh0KXtlLnJlamVjdCh0KX19fXQuZXhwb3J0cz17c3luYzpmdW5jdGlvbih0LGUpe3QuY2FsbChlKX0scmVhZDpmdW5jdGlvbih0LGUpe3ZhciBuPW5ldyBpO3JldHVybiByLnJlYWQocyh0LG4pLGUpLG4ucHJvbWlzZX0sd3JpdGU6ZnVuY3Rpb24odCxlKXt2YXIgbj1uZXcgaTtyZXR1cm4gci53cml0ZShzKHQsbiksZSksbi5wcm9taXNlfSxkZWZlcjpmdW5jdGlvbih0LGUsbil7dmFyIGE9bmV3IGk7cmV0dXJuIG8uaXNUeXBlKCJmdW5jdGlvbiIsdCkmJihuPWUsZT10LHQ9MSksci5kZWZlcih0LHMoZSxhKSxuKSxhLnByb21pc2V9fX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNCksaT1uKDkpLG89bigzOCkscz1uKDEwMiksYT1uKDUpLHU9bigzMyksYz0hMSxkPS9odHRwcz86XC9cLyhbXi9dKykuKi9pO3QuZXhwb3J0cz17c2V0T246ZnVuY3Rpb24oKXtjPSEwfSxlbmFibGVkOmZ1bmN0aW9uKHQsZSl7cmV0dXJuISEoY3x8YS5hc0Jvb2xlYW4odS52YWwoImRudCIpKXx8cy5pc1VybFNlbnNpdGl2ZShlfHxpLmhvc3QpfHxvLmlzRnJhbWVkKCkmJnMuaXNVcmxTZW5zaXRpdmUoby5yb290RG9jdW1lbnRMb2NhdGlvbigpKXx8KHQ9ZC50ZXN0KHR8fHIucmVmZXJyZXIpJiZSZWdFeHAuJDEpJiZzLmlzVXJsU2Vuc2l0aXZlKHQpKX19fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9big4KSxpPVsiaHR0cHM6Ly9zeW5kaWNhdGlvbi50d2l0dGVyLmNvbSIsImh0dHBzOi8vY2RuLnN5bmRpY2F0aW9uLnR3aW1nLmNvbSIsImh0dHBzOi8vbG9jYWxob3N0LnR3aXR0ZXIuY29tOjg0NDQiXSxvPVsiaHR0cHM6Ly9zeW5kaWNhdGlvbi50d2l0dGVyLmNvbSIsImh0dHBzOi8vbG9jYWxob3N0LnR3aXR0ZXIuY29tOjg0NDUiXSxzPVsiaHR0cHM6Ly9wbGF0Zm9ybS50d2l0dGVyLmNvbS9lbWJlZCIsImh0dHBzOi8vbG9jYWxob3N0LnR3aXR0ZXIuY29tIiwvXmh0dHBzOlwvXC90b25cLnNtZjFcLnR3aXR0ZXJcLmNvbVwvc3luZGljYXRpb24taW50ZXJuYWxcL2VtYmVkLWlmcmFtZVwvWzAtOUEtWmEtel8tXStcL2FwcC9dLGE9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5zb21lKGZ1bmN0aW9uKHQpe3JldHVybiB0IGluc3RhbmNlb2YgUmVnRXhwP3QudGVzdChlKTp0PT09ZX0pfSx1PWZ1bmN0aW9uKCl7dmFyIHQ9ci5nZXQoImJhY2tlbmRIb3N0Iik7cmV0dXJuIHQmJmEoaSx0KT90OiJodHRwczovL2Nkbi5zeW5kaWNhdGlvbi50d2ltZy5jb20ifSxjPWZ1bmN0aW9uKCl7dmFyIHQ9ci5nZXQoInNldHRpbmdzU3ZjSG9zdCIpO3JldHVybiB0JiZhKG8sdCk/dDoiaHR0cHM6Ly9zeW5kaWNhdGlvbi50d2l0dGVyLmNvbSJ9LGQ9ZnVuY3Rpb24odCl7dmFyIGU9ci5nZXQoImVtYmVkSWZyYW1lVVJMIik7cmV0dXJuIWUmJnQ/Imh0dHBzOi8vcGxhdGZvcm0udHdpdHRlci5jb20vZW1iZWQtaG9sZGJhY2siOmUmJmEocyxlKT9lOiJodHRwczovL3BsYXRmb3JtLnR3aXR0ZXIuY29tL2VtYmVkIn07ZnVuY3Rpb24gbCh0LGUpe3ZhciBuPVt0XTtyZXR1cm4gZS5mb3JFYWNoKGZ1bmN0aW9uKHQpe24ucHVzaChmdW5jdGlvbih0KXt2YXIgZT0odHx8IiIpLnRvU3RyaW5nKCksbj0iLyI9PT1lLnNsaWNlKDAsMSk/MTowLHI9ZnVuY3Rpb24odCl7cmV0dXJuIi8iPT09dC5zbGljZSgtMSl9KGUpPy0xOnZvaWQgMDtyZXR1cm4gZS5zbGljZShuLHIpfSh0KSl9KSxuLmpvaW4oIi8iKX10LmV4cG9ydHM9e2Nvb2tpZUNvbnNlbnQ6ZnVuY3Rpb24odCl7dmFyIGU9dHx8W107cmV0dXJuIGUudW5zaGlmdCgiY29va2llL2NvbnNlbnQiKSxsKGMoKSxlKX0sZW1iZWRJZnJhbWU6ZnVuY3Rpb24odCxlKXt2YXIgbj10fHxbXTtyZXR1cm4gbChkKGUpLG4pKyIuaHRtbCJ9LGV2ZW50VmlkZW86ZnVuY3Rpb24odCl7dmFyIGU9dHx8W107cmV0dXJuIGUudW5zaGlmdCgidmlkZW8vZXZlbnQiKSxsKHUoKSxlKX0sZ3JpZDpmdW5jdGlvbih0KXt2YXIgZT10fHxbXTtyZXR1cm4gZS51bnNoaWZ0KCJncmlkL2NvbGxlY3Rpb24iKSxsKHUoKSxlKX0sbW9tZW50OmZ1bmN0aW9uKHQpe3ZhciBlPXR8fFtdO3JldHVybiBlLnVuc2hpZnQoIm1vbWVudHMiKSxsKHUoKSxlKX0sc2V0dGluZ3M6ZnVuY3Rpb24odCl7dmFyIGU9dHx8W107cmV0dXJuIGUudW5zaGlmdCgic2V0dGluZ3MiKSxsKGMoKSxlKX0sdGltZWxpbmU6ZnVuY3Rpb24odCl7dmFyIGU9dHx8W107cmV0dXJuIGUudW5zaGlmdCgidGltZWxpbmUiKSxsKHUoKSxlKX0sdHdlZXRCYXRjaDpmdW5jdGlvbih0KXt2YXIgZT10fHxbXTtyZXR1cm4gZS51bnNoaWZ0KCJ0d2VldHMuanNvbiIpLGwodSgpLGUpfSx2aWRlbzpmdW5jdGlvbih0KXt2YXIgZT10fHxbXTtyZXR1cm4gZS51bnNoaWZ0KCJ3aWRnZXRzL3ZpZGVvIiksbCh1KCksZSl9fX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNCksaT1uKDkyKSxvPW4oMSkscz1uKDApLGE9aS51c2VyQWdlbnQ7ZnVuY3Rpb24gdSh0KXtyZXR1cm4vKFRyaWRlbnR8TVNJRXxFZGdlWy8gXT9cZCkvLnRlc3QodD10fHxhKX10LmV4cG9ydHM9e3JldGluYTpmdW5jdGlvbih0KXtyZXR1cm4odD10fHxvKS5kZXZpY2VQaXhlbFJhdGlvP3QuZGV2aWNlUGl4ZWxSYXRpbz49MS41OiEhdC5tYXRjaE1lZGlhJiZ0Lm1hdGNoTWVkaWEoIm9ubHkgc2NyZWVuIGFuZCAobWluLXJlc29sdXRpb246IDE0NGRwaSkiKS5tYXRjaGVzfSxhbnlJRTp1LGllOTpmdW5jdGlvbih0KXtyZXR1cm4vTVNJRSA5Ly50ZXN0KHQ9dHx8YSl9LGllMTA6ZnVuY3Rpb24odCl7cmV0dXJuL01TSUUgMTAvLnRlc3QodD10fHxhKX0saW9zOmZ1bmN0aW9uKHQpe3JldHVybi8oaVBhZHxpUGhvbmV8aVBvZCkvLnRlc3QodD10fHxhKX0sYW5kcm9pZDpmdW5jdGlvbih0KXtyZXR1cm4vXk1vemlsbGFcLzVcLjAgXChMaW51eDsgKFU7ICk/QW5kcm9pZC8udGVzdCh0PXR8fGEpfSxjYW5Qb3N0TWVzc2FnZTpmdW5jdGlvbih0LGUpe3JldHVybiB0PXR8fG8sZT1lfHxhLHQucG9zdE1lc3NhZ2UmJiEodShlKSYmdC5vcGVuZXIpfSx0b3VjaDpmdW5jdGlvbih0LGUsbil7cmV0dXJuIHQ9dHx8byxlPWV8fGksbj1ufHxhLCJvbnRvdWNoc3RhcnQiaW4gdHx8L09wZXJhIE1pbmkvLnRlc3Qobil8fGUubXNNYXhUb3VjaFBvaW50cz4wfSxjc3NUcmFuc2l0aW9uczpmdW5jdGlvbigpe3ZhciB0PXIuYm9keS5zdHlsZTtyZXR1cm4gdm9pZCAwIT09dC50cmFuc2l0aW9ufHx2b2lkIDAhPT10LndlYmtpdFRyYW5zaXRpb258fHZvaWQgMCE9PXQubW96VHJhbnNpdGlvbnx8dm9pZCAwIT09dC5vVHJhbnNpdGlvbnx8dm9pZCAwIT09dC5tc1RyYW5zaXRpb259LGhhc1Byb21pc2VTdXBwb3J0OmZ1bmN0aW9uKCl7cmV0dXJuISEoby5Qcm9taXNlJiZvLlByb21pc2UucmVzb2x2ZSYmby5Qcm9taXNlLnJlamVjdCYmby5Qcm9taXNlLmFsbCYmby5Qcm9taXNlLnJhY2UmJihuZXcgby5Qcm9taXNlKGZ1bmN0aW9uKGUpe3Q9ZX0pLHMuaXNUeXBlKCJmdW5jdGlvbiIsdCkpKTt2YXIgdH0saGFzSW50ZXJzZWN0aW9uT2JzZXJ2ZXJTdXBwb3J0OmZ1bmN0aW9uKCl7cmV0dXJuISFvLkludGVyc2VjdGlvbk9ic2VydmVyfSxoYXNQZXJmb3JtYW5jZUluZm9ybWF0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIG8ucGVyZm9ybWFuY2UmJm8ucGVyZm9ybWFuY2UuZ2V0RW50cmllc0J5VHlwZX19fSxmdW5jdGlvbih0LGUpe3ZhciBuPSJpIixyPTAsaT0wO3QuZXhwb3J0cz17Z2VuZXJhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gbitTdHJpbmcoK25ldyBEYXRlKStNYXRoLmZsb29yKDFlNSpNYXRoLnJhbmRvbSgpKStyKyt9LGRldGVybWluaXN0aWM6ZnVuY3Rpb24oKXtyZXR1cm4gbitTdHJpbmcoaSsrKX19fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9big1MCksaT1uKDUyKSxvPW4oMCk7dC5leHBvcnRzPW8uYXVnKHIuZ2V0KCJldmVudHMiKXx8e30saS5FbWl0dGVyKX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNiksaT1uKDIpO2Z1bmN0aW9uIG8odCxlKXtyZXR1cm4gdC50aGVuKGUsZSl9ZnVuY3Rpb24gcyh0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIHJ9dC5leHBvcnRzPXthbHdheXM6byxhbGxSZXNvbHZlZDpmdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4gdm9pZCAwPT09dD9yLnJlamVjdChuZXcgRXJyb3IoInVuZGVmaW5lZCBpcyBub3QgYW4gb2JqZWN0IikpOkFycmF5LmlzQXJyYXkodCk/KGU9dC5sZW5ndGgpP25ldyByKGZ1bmN0aW9uKG4scil7dmFyIGk9MCxvPVtdO2Z1bmN0aW9uIGEoKXsoaSs9MSk9PT1lJiYoMD09PW8ubGVuZ3RoP3IoKTpuKG8pKX1mdW5jdGlvbiB1KHQpe28ucHVzaCh0KSxhKCl9dC5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ModCk/dC50aGVuKHUsYSk6dSh0KX0pfSk6ci5yZXNvbHZlKFtdKTpyLnJlamVjdChuZXcgRXJyb3IoIlR5cGUgZXJyb3IiKSl9LHNvbWU6ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuIGU9KHQ9dHx8W10pLmxlbmd0aCx0PXQuZmlsdGVyKHMpLGU/ZSE9PXQubGVuZ3RoP3IucmVqZWN0KCJub24tUHJvbWlzZSBwYXNzZWQgdG8gLnNvbWUiKTpuZXcgcihmdW5jdGlvbihlLG4pe3ZhciByPTA7ZnVuY3Rpb24gaSgpeyhyKz0xKT09PXQubGVuZ3RoJiZuKCl9dC5mb3JFYWNoKGZ1bmN0aW9uKHQpe3QudGhlbihlLGkpfSl9KTpyLnJlamVjdCgibm8gcHJvbWlzZXMgcGFzc2VkIHRvIC5zb21lIil9LGlzUHJvbWlzZTpzLGFsbFNldHRsZWQ6ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gci5hbGwoKHR8fFtdKS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIG8odCxlKX0pKX0sdGltZW91dDpmdW5jdGlvbih0LGUpe3ZhciBuPW5ldyBpO3JldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bi5yZWplY3QobmV3IEVycm9yKCJQcm9taXNlIHRpbWVkIG91dCIpKX0sZSksdC50aGVuKGZ1bmN0aW9uKHQpe24ucmVzb2x2ZSh0KX0sZnVuY3Rpb24odCl7bi5yZWplY3QodCl9KSxuLnByb21pc2V9fX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMSkuSlNPTjt0LmV4cG9ydHM9e3N0cmluZ2lmeTpyLnN0cmluZ2lmeXx8ci5lbmNvZGUscGFyc2U6ci5wYXJzZXx8ci5kZWNvZGV9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigyNyksaT1uKDEwOCk7dC5leHBvcnRzPXIuYnVpbGQoW2ldKX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMzkpLGk9bigxMDUpLG89big3KTsocj1PYmplY3QuY3JlYXRlKHIpKS5idWlsZD1vKHIuYnVpbGQsbnVsbCxpKSx0LmV4cG9ydHM9cn0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMzkpLGk9big0MCksbz1uKDcpOyhyPU9iamVjdC5jcmVhdGUocikpLmJ1aWxkPW8oci5idWlsZCxudWxsLGkpLHQuZXhwb3J0cz1yfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9big3OSksaT1uKDgwKSxvPW4oODEpLHM9big5KSxhPW4oNzEpLHU9big4MiksYz1uKDE5KSxkPW4oNSksbD1uKDIyKSxmPW4oMCk7ZnVuY3Rpb24gaCh0KXtpZighdHx8IXQuaGVhZGVycyl0aHJvdyBuZXcgRXJyb3IoInVuZXhwZWN0ZWQgcmVzcG9uc2Ugc2NoZW1hIik7cmV0dXJue2h0bWw6dC5ib2R5LGNvbmZpZzp0LmNvbmZpZyxwb2xsSW50ZXJ2YWw6MWUzKnBhcnNlSW50KHQuaGVhZGVycy54UG9sbGluZywxMCl8fG51bGwsbWF4Q3Vyc29yUG9zaXRpb246dC5oZWFkZXJzLm1heFBvc2l0aW9uLG1pbkN1cnNvclBvc2l0aW9uOnQuaGVhZGVycy5taW5Qb3NpdGlvbn19ZnVuY3Rpb24gcCh0KXtpZih0JiZ0LmhlYWRlcnMpdGhyb3cgbmV3IEVycm9yKHQuaGVhZGVycy5zdGF0dXMpO3Rocm93IHQgaW5zdGFuY2VvZiBFcnJvcj90Om5ldyBFcnJvcih0KX10LmV4cG9ydHM9ZnVuY3Rpb24odCl7dC5wYXJhbXMoe2luc3RhbmNlSWQ6e3JlcXVpcmVkOiEwLGZhbGxiYWNrOmwuZGV0ZXJtaW5pc3RpY30sbGFuZzp7cmVxdWlyZWQ6ITAsdHJhbnNmb3JtOmEubWF0Y2hMYW5ndWFnZSxmYWxsYmFjazoiZW4ifSx0d2VldExpbWl0Ont0cmFuc2Zvcm06ZC5hc0ludH19KSx0LmRlZmluZVByb3BlcnR5KCJlbmRwb2ludCIse2dldDpmdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcigiZW5kcG9pbnQgbm90IHNwZWNpZmllZCIpfX0pLHQuZGVmaW5lUHJvcGVydHkoInBvbGxFbmRwb2ludCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVuZHBvaW50fX0pLHQuZGVmaW5lKCJjYklkIixmdW5jdGlvbih0KXt2YXIgZT10PyJfbmV3IjoiX29sZCI7cmV0dXJuInRsXyIrdGhpcy5wYXJhbXMuaW5zdGFuY2VJZCsiXyIrdGhpcy5pZCtlfSksdC5kZWZpbmUoInF1ZXJ5UGFyYW1zIixmdW5jdGlvbigpe3JldHVybntsYW5nOnRoaXMucGFyYW1zLmxhbmcsdHo6dS5nZXRUaW1lem9uZU9mZnNldCgpLHQ6cigpLGRvbWFpbjpzLmhvc3QsdHdlZXRfbGltaXQ6dGhpcy5wYXJhbXMudHdlZXRMaW1pdCxkbnQ6Yy5lbmFibGVkKCl9fSksdC5kZWZpbmUoImZldGNoIixmdW5jdGlvbigpe3JldHVybiBpLmZldGNoKHRoaXMuZW5kcG9pbnQsdGhpcy5xdWVyeVBhcmFtcygpLG8sdGhpcy5jYklkKCkpLnRoZW4oaCxwKX0pLHQuZGVmaW5lKCJwb2xsIixmdW5jdGlvbih0LGUpe3ZhciBuLHI7cmV0dXJuIG49e3NpbmNlX2lkOih0PXR8fHt9KS5zaW5jZUlkLG1heF9pZDp0Lm1heElkLG1pbl9wb3NpdGlvbjp0Lm1pblBvc2l0aW9uLG1heF9wb3NpdGlvbjp0Lm1heFBvc2l0aW9ufSxyPWYuYXVnKHRoaXMucXVlcnlQYXJhbXMoKSxuKSxpLmZldGNoKHRoaXMucG9sbEVuZHBvaW50LHIsbyx0aGlzLmNiSWQoZSkpLnRoZW4oaCxwKX0pfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNTIpLm1ha2VFbWl0dGVyKCk7dC5leHBvcnRzPXtlbWl0dGVyOnIsU1RBUlQ6InN0YXJ0IixBTExfV0lER0VUU19SRU5ERVJfU1RBUlQ6ImFsbF93aWRnZXRzX3JlbmRlcl9zdGFydCIsQUxMX1dJREdFVFNfUkVOREVSX0VORDoiYWxsX3dpZGdldHNfcmVuZGVyX2VuZCIsQUxMX1dJREdFVFNfQU5EX0lNQUdFU19MT0FERUQ6ImFsbF93aWRnZXRzX2FuZF9pbWFnZXNfbG9hZGVkIn19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDQpLGk9bigwKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlLG4pe3ZhciBvO2lmKG49bnx8cix0PXR8fHt9LGU9ZXx8e30sdC5uYW1lKXt0cnl7bz1uLmNyZWF0ZUVsZW1lbnQoJzxpZnJhbWUgbmFtZT0iJyt0Lm5hbWUrJyI+PC9pZnJhbWU+Jyl9Y2F0Y2goZSl7KG89bi5jcmVhdGVFbGVtZW50KCJpZnJhbWUiKSkubmFtZT10Lm5hbWV9ZGVsZXRlIHQubmFtZX1lbHNlIG89bi5jcmVhdGVFbGVtZW50KCJpZnJhbWUiKTtyZXR1cm4gdC5pZCYmKG8uaWQ9dC5pZCxkZWxldGUgdC5pZCksby5hbGxvd3RyYW5zcGFyZW5jeT0idHJ1ZSIsby5zY3JvbGxpbmc9Im5vIixvLnNldEF0dHJpYnV0ZSgiZnJhbWVCb3JkZXIiLDApLG8uc2V0QXR0cmlidXRlKCJhbGxvd1RyYW5zcGFyZW5jeSIsITApLGkuZm9ySW4odCxmdW5jdGlvbih0LGUpe28uc2V0QXR0cmlidXRlKHQsZSl9KSxpLmZvckluKGUsZnVuY3Rpb24odCxlKXtvLnN0eWxlW3RdPWV9KSxvfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMjcpLGk9bigxMjIpO3QuZXhwb3J0cz1yLmJ1aWxkKFtpXSl9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcixpPW4oNCk7ZnVuY3Rpb24gbyh0KXt2YXIgZSxuLG8scz0wO2ZvcihyPXt9LGU9KHQ9dHx8aSkuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIm1ldGEiKTtlW3NdO3MrKyl7aWYobj1lW3NdLC9edHdpdHRlcjovLnRlc3Qobi5nZXRBdHRyaWJ1dGUoIm5hbWUiKSkpbz1uLmdldEF0dHJpYnV0ZSgibmFtZSIpLnJlcGxhY2UoL150d2l0dGVyOi8sIiIpO2Vsc2V7aWYoIS9edHdpdHRlcjovLnRlc3Qobi5nZXRBdHRyaWJ1dGUoInByb3BlcnR5IikpKWNvbnRpbnVlO289bi5nZXRBdHRyaWJ1dGUoInByb3BlcnR5IikucmVwbGFjZSgvXnR3aXR0ZXI6LywiIil9cltvXT1uLmdldEF0dHJpYnV0ZSgiY29udGVudCIpfHxuLmdldEF0dHJpYnV0ZSgidmFsdWUiKX19bygpLHQuZXhwb3J0cz17aW5pdDpvLHZhbDpmdW5jdGlvbih0KXtyZXR1cm4gclt0XX19fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigwKSxpPW4oNDUpO3QuZXhwb3J0cz17Y2xvc2VzdDpmdW5jdGlvbiB0KGUsbixvKXt2YXIgcztpZihuKXJldHVybiBvPW98fG4mJm4ub3duZXJEb2N1bWVudCxzPXIuaXNUeXBlKCJmdW5jdGlvbiIsZSk/ZTpmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuISFlLnRhZ05hbWUmJmkoZSx0KX19KGUpLG49PT1vP3Mobik/bjp2b2lkIDA6cyhuKT9uOnQocyxuLnBhcmVudE5vZGUsbyl9fX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMTApLGk9e30sbz0tMSxzPXt9O2Z1bmN0aW9uIGEodCl7dmFyIGU9dC5nZXRBdHRyaWJ1dGUoImRhdGEtdHdpdHRlci1ldmVudC1pZCIpO3JldHVybiBlfHwodC5zZXRBdHRyaWJ1dGUoImRhdGEtdHdpdHRlci1ldmVudC1pZCIsKytvKSxvKX1mdW5jdGlvbiB1KHQsZSxuKXt2YXIgcj0wLGk9dCYmdC5sZW5ndGh8fDA7Zm9yKHI9MDtyPGk7cisrKWlmKHRbcl0uY2FsbChlLG4sZSksbi5jZWFzZUltbWVkaWF0ZWx5KXJldHVybiExfWZ1bmN0aW9uIGModCxlLG4pe2Zvcih2YXIgaT1ufHx0LnRhcmdldHx8dC5zcmNFbGVtZW50LG89ci5saXN0KGkpLm1hcChmdW5jdGlvbih0KXtyZXR1cm4iLiIrdH0pLmNvbmNhdChpLnRhZ05hbWUpLHM9MCxhPW8ubGVuZ3RoO3M8YTtzKyspaWYoITE9PT11KGVbb1tzXV0saSx0KSlyZXR1cm47dC5jZWFzZXx8aSE9PXRoaXMmJmMuY2FsbCh0aGlzLHQsZSxpLnBhcmVudEVsZW1lbnR8fGkucGFyZW50Tm9kZSl9ZnVuY3Rpb24gZCh0LGUsbixyKXtmdW5jdGlvbiBpKHIpe2MuY2FsbCh0LHIsbltlXSl9IWZ1bmN0aW9uKHQsZSxuLHIpe3QuaWQmJihzW3QuaWRdPXNbdC5pZF18fFtdLHNbdC5pZF0ucHVzaCh7ZWw6dCxsaXN0ZW5lcjplLHR5cGU6bixyb290SWQ6cn0pKX0odCxpLGUsciksdC5hZGRFdmVudExpc3RlbmVyKGUsaSwhMSl9ZnVuY3Rpb24gbCh0KXt0JiZ0LnByZXZlbnREZWZhdWx0P3QucHJldmVudERlZmF1bHQoKTp0LnJldHVyblZhbHVlPSExfWZ1bmN0aW9uIGYodCl7dCYmKHQuY2Vhc2U9ITApJiZ0LnN0b3BQcm9wYWdhdGlvbj90LnN0b3BQcm9wYWdhdGlvbigpOnQuY2FuY2VsQnViYmxlPSEwfXQuZXhwb3J0cz17c3RvcDpmdW5jdGlvbih0KXtyZXR1cm4gZih0KSxsKHQpLCExfSxzdG9wUHJvcGFnYXRpb246ZixzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb246ZnVuY3Rpb24odCl7dCYmKHQuY2Vhc2VJbW1lZGlhdGVseT0hMCxmKHQpLHQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCkpfSxwcmV2ZW50RGVmYXVsdDpsLGRlbGVnYXRlOmZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBvPWEodCk7aVtvXT1pW29dfHx7fSxpW29dW2VdfHwoaVtvXVtlXT17fSxkKHQsZSxpW29dLG8pKSxpW29dW2VdW25dPWlbb11bZV1bbl18fFtdLGlbb11bZV1bbl0ucHVzaChyKX0sc2ltdWxhdGU6ZnVuY3Rpb24odCxlLG4pe3ZhciByPWEoZSksbz1pW3JdJiZpW3JdO2MuY2FsbChlLHt0YXJnZXQ6bn0sb1t0XSl9LHJlbW92ZURlbGVnYXRlc0ZvcldpZGdldDpmdW5jdGlvbih0KXt2YXIgZT1zW3RdO2UmJihlLmZvckVhY2goZnVuY3Rpb24odCl7dC5lbC5yZW1vdmVFdmVudExpc3RlbmVyKHQudHlwZSx0Lmxpc3RlbmVyLCExKSxkZWxldGUgaVt0LnJvb3RJZF19KSxkZWxldGUgc1t0XSl9fX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMTExKSxpPW4oNjApLG89bigyNSkscz1uKDEpO2Z1bmN0aW9uIGEodCl7dmFyIGU9IiI7aWYoIXQpcmV0dXJuIiI7dHJ5e3JldHVybiBlPW8uc3RyaW5naWZ5KHQpLHMuYnRvYShlKX1jYXRjaCh0KXtyZXR1cm4iIn19ZnVuY3Rpb24gdSh0KXtyZXR1cm4gci5zZXR0aW5nc0xvYWRlZCgpLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIGVbdF19KX1mdW5jdGlvbiBjKCl7cmV0dXJuIHUoImZlYXR1cmVzIil9dC5leHBvcnRzPXtlbmNvZGVGZWF0dXJlczphLHNob3VsZE9idGFpbkNvb2tpZUNvbnNlbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdSgic2hvdWxkT2J0YWluQ29va2llQ29uc2VudCIpfSxnZXRFeHBlcmltZW50czpjLGdldEV4cGVyaW1lbnQ6ZnVuY3Rpb24odCl7cmV0dXJuIGMoKS50aGVuKGZ1bmN0aW9uKGUpe2lmKCFlW3RdKXRocm93IG5ldyBFcnJvcigiRXhwZXJpbWVudCBub3QgZm91bmQiKTtyZXR1cm4gZVt0XX0pfSxnZXRIb3Jpem9uU2V0dGluZ3M6ZnVuY3Rpb24oKXtyZXR1cm4gci5zZXR0aW5nc0xvYWRlZCgpLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJue2ZlYXR1cmVzOnQuZmVhdHVyZXMsc2Vzc2lvbklkOnQuc2Vzc2lvbklkLGlzSW5Ib2xkYmFjazppLmlzSW5Ib3Jpem9uVGVhbUhvbGRiYWNrKHQuZmVhdHVyZXMpfX0pfSxnZXRBY3RpdmVFeHBlcmltZW50RGF0YVN0cmluZzpmdW5jdGlvbigpe3JldHVybiBjKCkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gYSh0KX0pfSxnZXRFeHBlcmltZW50S2V5czpmdW5jdGlvbigpe3JldHVybiBjKCkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmtleXModCl9KX0sbG9hZDpmdW5jdGlvbigpe3IubG9hZCgpfX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDQ2KSxpPW4oNCksbz1uKDE5KSxzPW4oMzQpLGE9big3MyksdT1uKDI1KSxjPW4oOCksZD1uKDMpLGw9bigwKSxmPTEsaD1yLnZlcnNpb24scD1jLmdldCgiY2xpZW50RXZlbnRFbmRwb2ludCIpfHwiaHR0cHM6Ly9zeW5kaWNhdGlvbi50d2l0dGVyLmNvbS9pL2pvdCI7ZnVuY3Rpb24gbSh0KXtyZXR1cm4gbC5hdWcoe2NsaWVudDoidGZ3In0sdHx8e30pfWZ1bmN0aW9uIHYodCxlLG4pe3JldHVybiBlPWV8fHt9LGwuYXVnKHt9LGUse19jYXRlZ29yeV86dCx0cmlnZ2VyZWRfb246ZS50cmlnZ2VyZWRfb258fCtuZXcgRGF0ZSxkbnQ6by5lbmFibGVkKG4pfSl9dC5leHBvcnRzPXtleHRyYWN0VGVybXNGcm9tRE9NOmZ1bmN0aW9uIHQoZSxuKXt2YXIgcjtyZXR1cm4gbj1ufHx7fSxlJiZlLm5vZGVUeXBlPT09Tm9kZS5FTEVNRU5UX05PREU/KChyPWUuZ2V0QXR0cmlidXRlKCJkYXRhLXNjcmliZSIpKSYmci5zcGxpdCgiICIpLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIGU9dC50cmltKCkuc3BsaXQoIjoiKSxyPWVbMF0saT1lWzFdO3ImJmkmJiFuW3JdJiYobltyXT1pKX0pLHQoZS5wYXJlbnROb2RlLG4pKTpufSxjbGlja0V2ZW50RWxlbWVudDpmdW5jdGlvbih0KXt2YXIgZT1zLmNsb3Nlc3QoIltkYXRhLWV4cGFuZGVkLXVybF0iLHQpLG49ZSYmZS5nZXRBdHRyaWJ1dGUoImRhdGEtZXhwYW5kZWQtdXJsIik7cmV0dXJuIG4mJmQuaXNUd2l0dGVyVVJMKG4pPyJ0d2l0dGVyX3VybCI6InVybCJ9LGZsYXR0ZW5DbGllbnRFdmVudFBheWxvYWQ6ZnVuY3Rpb24odCxlKXtyZXR1cm4gbC5hdWcoe30sZSx7ZXZlbnRfbmFtZXNwYWNlOnR9KX0sZm9ybWF0R2VuZXJpY0V2ZW50RGF0YTp2LGZvcm1hdENsaWVudEV2ZW50RGF0YTpmdW5jdGlvbih0LGUsbil7dmFyIHI9dCYmdC53aWRnZXRfb3JpZ2lufHxpLnJlZmVycmVyO3JldHVybih0PXYoInRmd19jbGllbnRfZXZlbnQiLHQscikpLmNsaWVudF92ZXJzaW9uPWgsdC5mb3JtYXRfdmVyc2lvbj12b2lkIDAhPT1uP246MSxlfHwodC53aWRnZXRfb3JpZ2luPXIpLHR9LGZvcm1hdENsaWVudEV2ZW50TmFtZXNwYWNlOm0sZm9ybWF0SG9yaXpvblR3ZWV0RGF0YTpmdW5jdGlvbih0KXt2YXIgZT17aXRlbV9pZHM6W10saXRlbV9kZXRhaWxzOnt9fTtyZXR1cm4gZS5pdGVtX2lkcy5wdXNoKHQpLGUuaXRlbV9kZXRhaWxzW3RdPXtpdGVtX3R5cGU6YS5UV0VFVH0sZX0sZm9ybWF0VHdlZXRBc3NvY2lhdGlvbjpmdW5jdGlvbih0LGUpe3ZhciBuPXt9O3JldHVybihlPWV8fHt9KS5hc3NvY2lhdGlvbl9uYW1lc3BhY2U9bSh0KSxuW2ZdPWUsbn0sbm90aWNlU2VlbjpmdW5jdGlvbih0KXtyZXR1cm4ibm90aWNlIj09PXQuZWxlbWVudCYmInNlZW4iPT09dC5hY3Rpb259LHNwbGl0TG9nRW50cnk6ZnVuY3Rpb24odCl7dmFyIGUsbixyLGksbztyZXR1cm4gdC5pdGVtX2lkcyYmdC5pdGVtX2lkcy5sZW5ndGg+MT8oZT1NYXRoLmZsb29yKHQuaXRlbV9pZHMubGVuZ3RoLzIpLG49dC5pdGVtX2lkcy5zbGljZSgwLGUpLHI9e30saT10Lml0ZW1faWRzLnNsaWNlKGUpLG89e30sbi5mb3JFYWNoKGZ1bmN0aW9uKGUpe3JbZV09dC5pdGVtX2RldGFpbHNbZV19KSxpLmZvckVhY2goZnVuY3Rpb24oZSl7b1tlXT10Lml0ZW1fZGV0YWlsc1tlXX0pLFtsLmF1Zyh7fSx0LHtpdGVtX2lkczpuLGl0ZW1fZGV0YWlsczpyfSksbC5hdWcoe30sdCx7aXRlbV9pZHM6aSxpdGVtX2RldGFpbHM6b30pXSk6W3RdfSxzdHJpbmdpZnk6ZnVuY3Rpb24odCl7dmFyIGUsbj1BcnJheS5wcm90b3R5cGUudG9KU09OO3JldHVybiBkZWxldGUgQXJyYXkucHJvdG90eXBlLnRvSlNPTixlPXUuc3RyaW5naWZ5KHQpLG4mJihBcnJheS5wcm90b3R5cGUudG9KU09OPW4pLGV9LENMSUVOVF9FVkVOVF9FTkRQT0lOVDpwLFJVRk9VU19SRURJUkVDVDoiaHR0cHM6Ly9wbGF0Zm9ybS50d2l0dGVyLmNvbS9qb3QuaHRtbCJ9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9big5KSxpPW4oNzUpLG89bigwKSxzPWkuZ2V0Q2Fub25pY2FsVVJMKCl8fHIuaHJlZixhPXM7dC5leHBvcnRzPXtpc0ZyYW1lZDpmdW5jdGlvbigpe3JldHVybiBzIT09YX0scm9vdERvY3VtZW50TG9jYXRpb246ZnVuY3Rpb24odCl7cmV0dXJuIHQmJm8uaXNUeXBlKCJzdHJpbmciLHQpJiYocz10KSxzfSxjdXJyZW50RG9jdW1lbnRMb2NhdGlvbjpmdW5jdGlvbigpe3JldHVybiBhfX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDEwMyksaT1uKDEwNCksbz1uKDApO3QuZXhwb3J0cz17Y291cGxlOmZ1bmN0aW9uKCl7cmV0dXJuIG8udG9SZWFsQXJyYXkoYXJndW1lbnRzKX0sYnVpbGQ6ZnVuY3Rpb24odCxlLG4pe3ZhciBvPW5ldyB0O3JldHVybihlPWkocihlfHxbXSkpKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3QuY2FsbChudWxsLG8pfSksby5idWlsZChuKX19fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxMDYpLGk9bigwKSxvPW4oNDEpO2Z1bmN0aW9uIHMoKXt0aGlzLkNvbXBvbmVudD10aGlzLmZhY3RvcnkoKSx0aGlzLl9hZHZpY2VBcmdzPVtdLHRoaXMuX2xhc3RBcmdzPVtdfWkuYXVnKHMucHJvdG90eXBlLHtmYWN0b3J5Om8sYnVpbGQ6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztyZXR1cm4gdGhpcy5Db21wb25lbnQsaS5hdWcodGhpcy5Db21wb25lbnQucHJvdG90eXBlLmJvdW5kUGFyYW1zLHQpLHRoaXMuX2FkdmljZUFyZ3MuY29uY2F0KHRoaXMuX2xhc3RBcmdzKS5mb3JFYWNoKGZ1bmN0aW9uKHQpeyhmdW5jdGlvbih0LGUsbil7dmFyIHI9dGhpc1tlXTtpZighcil0aHJvdyBuZXcgRXJyb3IoZSsiIGRvZXMgbm90IGV4aXN0Iik7dGhpc1tlXT10KHIsbil9KS5hcHBseShlLkNvbXBvbmVudC5wcm90b3R5cGUsdCl9KSxkZWxldGUgdGhpcy5fbGFzdEFyZ3MsZGVsZXRlIHRoaXMuX2FkdmljZUFyZ3MsdGhpcy5Db21wb25lbnR9LHBhcmFtczpmdW5jdGlvbih0KXt2YXIgZT10aGlzLkNvbXBvbmVudC5wcm90b3R5cGUucGFyYW1Db25maWdzO3Q9dHx8e30sdGhpcy5Db21wb25lbnQucHJvdG90eXBlLnBhcmFtQ29uZmlncz1pLmF1Zyh7fSx0LGUpfSxkZWZpbmU6ZnVuY3Rpb24odCxlKXtpZih0IGluIHRoaXMuQ29tcG9uZW50LnByb3RvdHlwZSl0aHJvdyBuZXcgRXJyb3IodCsiIGhhcyBwcmV2aW91c2x5IGJlZW4gZGVmaW5lZCIpO3RoaXMub3ZlcnJpZGUodCxlKX0sZGVmaW5lU3RhdGljOmZ1bmN0aW9uKHQsZSl7dGhpcy5Db21wb25lbnRbdF09ZX0sb3ZlcnJpZGU6ZnVuY3Rpb24odCxlKXt0aGlzLkNvbXBvbmVudC5wcm90b3R5cGVbdF09ZX0sZGVmaW5lUHJvcGVydHk6ZnVuY3Rpb24odCxlKXtpZih0IGluIHRoaXMuQ29tcG9uZW50LnByb3RvdHlwZSl0aHJvdyBuZXcgRXJyb3IodCsiIGhhcyBwcmV2aW91c2x5IGJlZW4gZGVmaW5lZCIpO3RoaXMub3ZlcnJpZGVQcm9wZXJ0eSh0LGUpfSxvdmVycmlkZVByb3BlcnR5OmZ1bmN0aW9uKHQsZSl7dmFyIG49aS5hdWcoe2NvbmZpZ3VyYWJsZTohMH0sZSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMuQ29tcG9uZW50LnByb3RvdHlwZSx0LG4pfSxiZWZvcmU6ZnVuY3Rpb24odCxlKXt0aGlzLl9hZHZpY2VBcmdzLnB1c2goW3IuYmVmb3JlLHQsZV0pfSxhZnRlcjpmdW5jdGlvbih0LGUpe3RoaXMuX2FkdmljZUFyZ3MucHVzaChbci5hZnRlcix0LGVdKX0sYXJvdW5kOmZ1bmN0aW9uKHQsZSl7dGhpcy5fYWR2aWNlQXJncy5wdXNoKFtyLmFyb3VuZCx0LGVdKX0sbGFzdDpmdW5jdGlvbih0LGUpe3RoaXMuX2xhc3RBcmdzLnB1c2goW3IuYWZ0ZXIsdCxlXSl9fSksdC5leHBvcnRzPXN9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDApO2Z1bmN0aW9uIGkoKXtyZXR1cm4hMH1mdW5jdGlvbiBvKHQpe3JldHVybiB0fXQuZXhwb3J0cz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dmFyIGU9dGhpczt0PXR8fHt9LHRoaXMucGFyYW1zPU9iamVjdC5rZXlzKHRoaXMucGFyYW1Db25maWdzKS5yZWR1Y2UoZnVuY3Rpb24obixzKXt2YXIgYT1bXSx1PWUuYm91bmRQYXJhbXMsYz1lLnBhcmFtQ29uZmlnc1tzXSxkPWMudmFsaWRhdGV8fGksbD1jLnRyYW5zZm9ybXx8bztpZihzIGluIHUmJmEucHVzaCh1W3NdKSxzIGluIHQmJmEucHVzaCh0W3NdKSxhPSJmYWxsYmFjayJpbiBjP2EuY29uY2F0KGMuZmFsbGJhY2spOmEsbltzXT1mdW5jdGlvbih0LGUsbil7dmFyIGk9bnVsbDtyZXR1cm4gdC5zb21lKGZ1bmN0aW9uKHQpe2lmKHQ9ci5pc1R5cGUoImZ1bmN0aW9uIix0KT90KCk6dCxlKHQpKXJldHVybiBpPW4odCksITB9KSxpfShhLGQsbCksYy5yZXF1aXJlZCYmbnVsbD09bltzXSl0aHJvdyBuZXcgRXJyb3IocysiIGlzIGEgcmVxdWlyZWQgcGFyYW1ldGVyIik7cmV0dXJuIG59LHt9KSx0aGlzLmluaXRpYWxpemUoKX1yZXR1cm4gci5hdWcodC5wcm90b3R5cGUse3BhcmFtQ29uZmlnczp7fSxib3VuZFBhcmFtczp7fSxpbml0aWFsaXplOmZ1bmN0aW9uKCl7fX0pLHR9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxMDEpLGk9big3Niksbz1uZXcobigxMTApKShmdW5jdGlvbih0KXsoIWZ1bmN0aW9uKHQpe3JldHVybiAxPT09dC5sZW5ndGgmJmkuY2FuRmx1c2hPbmVJdGVtKHRbMF0pfSh0KT9mdW5jdGlvbih0KXtyLmluaXQoKSx0LmZvckVhY2goZnVuY3Rpb24odCl7dmFyIGU9dC5pbnB1dC5uYW1lc3BhY2Usbj10LmlucHV0LmRhdGEsaT10LmlucHV0Lm9mZnNpdGUsbz10LmlucHV0LnZlcnNpb247ci5jbGllbnRFdmVudChlLG4saSxvKX0pLHIuZmx1c2goKS50aGVuKGZ1bmN0aW9uKCl7dC5mb3JFYWNoKGZ1bmN0aW9uKHQpe3QudGFza0RvbmVEZWZlcnJlZC5yZXNvbHZlKCl9KX0sZnVuY3Rpb24oKXt0LmZvckVhY2goZnVuY3Rpb24odCl7dC50YXNrRG9uZURlZmVycmVkLnJlamVjdCgpfSl9KX06ZnVuY3Rpb24odCl7dC5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBlPXQuaW5wdXQubmFtZXNwYWNlLG49dC5pbnB1dC5kYXRhLHI9dC5pbnB1dC5vZmZzaXRlLG89dC5pbnB1dC52ZXJzaW9uO2kuY2xpZW50RXZlbnQoZSxuLHIsbyksdC50YXNrRG9uZURlZmVycmVkLnJlc29sdmUoKX0pfSkodCl9KTt0LmV4cG9ydHM9e3NjcmliZTpmdW5jdGlvbih0LGUsbixyKXtyZXR1cm4gby5hZGQoe25hbWVzcGFjZTp0LGRhdGE6ZSxvZmZzaXRlOm4sdmVyc2lvbjpyfSl9LHBhdXNlOmZ1bmN0aW9uKCl7by5wYXVzZSgpfSxyZXN1bWU6ZnVuY3Rpb24oKXtvLnJlc3VtZSgpfX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcixpPW4oMTApLG89big0KSxzPW4oMSksYT1uKDMzKSx1PW4oNTQpLGM9big1KSxkPW4oMjIpLGw9ImNzcHRlc3QiO3QuZXhwb3J0cz17aW5saW5lU3R5bGU6ZnVuY3Rpb24oKXt2YXIgdD1sK2QuZ2VuZXJhdGUoKSxlPW8uY3JlYXRlRWxlbWVudCgiZGl2Iiksbj1vLmNyZWF0ZUVsZW1lbnQoInN0eWxlIiksZj0iLiIrdCsiIHsgdmlzaWJpbGl0eTogaGlkZGVuOyB9IjtyZXR1cm4hIW8uYm9keSYmKGMuYXNCb29sZWFuKGEudmFsKCJ3aWRnZXRzOmNzcCIpKSYmKHI9ITEpLHZvaWQgMCE9PXI/cjooZS5zdHlsZS5kaXNwbGF5PSJub25lIixpLmFkZChlLHQpLG4udHlwZT0idGV4dC9jc3MiLG4uYXBwZW5kQ2hpbGQoby5jcmVhdGVUZXh0Tm9kZShmKSksby5ib2R5LmFwcGVuZENoaWxkKG4pLG8uYm9keS5hcHBlbmRDaGlsZChlKSxyPSJoaWRkZW4iPT09cy5nZXRDb21wdXRlZFN0eWxlKGUpLnZpc2liaWxpdHksdShlKSx1KG4pLHIpKX19fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlLG4pe3ZhciBpLG89MDtyZXR1cm4gbj1ufHxudWxsLGZ1bmN0aW9uIHMoKXt2YXIgYT1ufHx0aGlzLHU9YXJndW1lbnRzLGM9K25ldyBEYXRlO2lmKHIuY2xlYXJUaW1lb3V0KGkpLGMtbz5lKXJldHVybiBvPWMsdm9pZCB0LmFwcGx5KGEsdSk7aT1yLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtzLmFwcGx5KGEsdSl9LGUpfX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDEpLkhUTUxFbGVtZW50LGk9ci5wcm90b3R5cGUubWF0Y2hlc3x8ci5wcm90b3R5cGUubWF0Y2hlc1NlbGVjdG9yfHxyLnByb3RvdHlwZS53ZWJraXRNYXRjaGVzU2VsZWN0b3J8fHIucHJvdG90eXBlLm1vek1hdGNoZXNTZWxlY3Rvcnx8ci5wcm90b3R5cGUubXNNYXRjaGVzU2VsZWN0b3J8fHIucHJvdG90eXBlLm9NYXRjaGVzU2VsZWN0b3I7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7aWYoaSlyZXR1cm4gaS5jYWxsKHQsZSl9fSxmdW5jdGlvbih0KXt0LmV4cG9ydHM9e3ZlcnNpb246ImZmMmU3Y2Y6MTYxODUyNjQwMDYyOSJ9fSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZT10LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO3JldHVybnt3aWR0aDplLndpZHRoLGhlaWdodDplLmhlaWdodH19fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxMikucHVibGljV2Fybjt0LmV4cG9ydHM9ZnVuY3Rpb24oKXtyKCJXYXJuaW5nOiBUaGlzIFRpbWVsaW5lIHR5cGUgYmVsb25ncyB0byBhIGdyb3VwIHRoYXQgd2lsbCBub3QgYmUgc3VwcG9ydGVkIGluIHRoZSBmdXR1cmUgKExpa2VzLCBDb2xsZWN0aW9ucywgJiBNb21lbnRzKS4gSXQgaXMgbm90IHJlY29tbWVuZGVkIGZvciB1c2UuIFxuXHQiLCIqIFR3aXR0ZXIgd2lsbCBjb250aW51ZSB0byBzdXBwb3J0IFByb2ZpbGUgYW5kIExpc3QgVGltZWxpbmVzIFxuXHQiLCIqIFlvdSBjYW4gbGVhcm4gbW9yZSBhYm91dCB0aGlzIGNoYW5nZSBpbiBvdXIgYW5ub3VuY2VtZW50OiBcblx0IiwiaHR0cHM6Ly90d2l0dGVyY29tbXVuaXR5LmNvbS90L3JlbW92aW5nLXN1cHBvcnQtZm9yLWVtYmVkZGVkLWxpa2UtY29sbGVjdGlvbi1hbmQtbW9tZW50LXRpbWVsaW5lcy8xNTAzMTMgXG5cdCIsIiogSW4gb3JkZXIgdG8gY3JlYXRlIGEgbmV3IEVtYmVkZGVkIFRpbWVsaW5lLCB2aXNpdDogaHR0cHM6Ly9wdWJsaXNoLnR3aXR0ZXIuY29tIil9fSxmdW5jdGlvbih0LGUsbil7Ci8qIQogKiBAb3ZlcnZpZXcgZXM2LXByb21pc2UgLSBhIHRpbnkgaW1wbGVtZW50YXRpb24gb2YgUHJvbWlzZXMvQSsuCiAqIEBjb3B5cmlnaHQgQ29weXJpZ2h0IChjKSAyMDE0IFllaHVkYSBLYXR6LCBUb20gRGFsZSwgU3RlZmFuIFBlbm5lciBhbmQgY29udHJpYnV0b3JzIChDb252ZXJzaW9uIHRvIEVTNiBBUEkgYnkgSmFrZSBBcmNoaWJhbGQpCiAqIEBsaWNlbnNlICAgTGljZW5zZWQgdW5kZXIgTUlUIGxpY2Vuc2UKICogICAgICAgICAgICBTZWUgaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL3N0ZWZhbnBlbm5lci9lczYtcHJvbWlzZS9tYXN0ZXIvTElDRU5TRQogKiBAdmVyc2lvbiAgIHY0LjIuNSs3ZjJiNTI2ZAogKi92YXIgcjtyPWZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHQodCl7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIHR9dmFyIGU9QXJyYXkuaXNBcnJheT9BcnJheS5pc0FycmF5OmZ1bmN0aW9uKHQpe3JldHVybiJbb2JqZWN0IEFycmF5XSI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCl9LG49MCxyPXZvaWQgMCxpPXZvaWQgMCxvPWZ1bmN0aW9uKHQsZSl7ZltuXT10LGZbbisxXT1lLDI9PT0obis9MikmJihpP2koaCk6dygpKX0scz0idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6dm9pZCAwLGE9c3x8e30sdT1hLk11dGF0aW9uT2JzZXJ2ZXJ8fGEuV2ViS2l0TXV0YXRpb25PYnNlcnZlcixjPSJ1bmRlZmluZWQiPT10eXBlb2Ygc2VsZiYmInVuZGVmaW5lZCIhPXR5cGVvZiBwcm9jZXNzJiYiW29iamVjdCBwcm9jZXNzXSI9PT17fS50b1N0cmluZy5jYWxsKHByb2Nlc3MpLGQ9InVuZGVmaW5lZCIhPXR5cGVvZiBVaW50OENsYW1wZWRBcnJheSYmInVuZGVmaW5lZCIhPXR5cGVvZiBpbXBvcnRTY3JpcHRzJiYidW5kZWZpbmVkIiE9dHlwZW9mIE1lc3NhZ2VDaGFubmVsO2Z1bmN0aW9uIGwoKXt2YXIgdD1zZXRUaW1lb3V0O3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0KGgsMSl9fXZhciBmPW5ldyBBcnJheSgxZTMpO2Z1bmN0aW9uIGgoKXtmb3IodmFyIHQ9MDt0PG47dCs9MikoMCxmW3RdKShmW3QrMV0pLGZbdF09dm9pZCAwLGZbdCsxXT12b2lkIDA7bj0wfXZhciBwLG0sdixnLHc9dm9pZCAwO2Z1bmN0aW9uIHkodCxlKXt2YXIgbj10aGlzLHI9bmV3IHRoaXMuY29uc3RydWN0b3IoRSk7dm9pZCAwPT09cltfXSYmayhyKTt2YXIgaT1uLl9zdGF0ZTtpZihpKXt2YXIgcz1hcmd1bWVudHNbaS0xXTtvKGZ1bmN0aW9uKCl7cmV0dXJuIEQoaSxyLHMsbi5fcmVzdWx0KX0pfWVsc2UgaihuLHIsdCxlKTtyZXR1cm4gcn1mdW5jdGlvbiBiKHQpe2lmKHQmJiJvYmplY3QiPT10eXBlb2YgdCYmdC5jb25zdHJ1Y3Rvcj09PXRoaXMpcmV0dXJuIHQ7dmFyIGU9bmV3IHRoaXMoRSk7cmV0dXJuIEMoZSx0KSxlfWM/dz1mdW5jdGlvbigpe3JldHVybiBwcm9jZXNzLm5leHRUaWNrKGgpfTp1PyhtPTAsdj1uZXcgdShoKSxnPWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCIiKSx2Lm9ic2VydmUoZyx7Y2hhcmFjdGVyRGF0YTohMH0pLHc9ZnVuY3Rpb24oKXtnLmRhdGE9bT0rK20lMn0pOmQ/KChwPW5ldyBNZXNzYWdlQ2hhbm5lbCkucG9ydDEub25tZXNzYWdlPWgsdz1mdW5jdGlvbigpe3JldHVybiBwLnBvcnQyLnBvc3RNZXNzYWdlKDApfSk6dz12b2lkIDA9PT1zP2Z1bmN0aW9uKCl7dHJ5e3ZhciB0PUZ1bmN0aW9uKCJyZXR1cm4gdGhpcyIpKCkucmVxdWlyZSgidmVydHgiKTtyZXR1cm4gdm9pZCAwIT09KHI9dC5ydW5Pbkxvb3B8fHQucnVuT25Db250ZXh0KT9mdW5jdGlvbigpe3IoaCl9OmwoKX1jYXRjaCh0KXtyZXR1cm4gbCgpfX0oKTpsKCk7dmFyIF89TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDIpO2Z1bmN0aW9uIEUoKXt9dmFyIHg9dm9pZCAwLFQ9MSxBPTIsUz17ZXJyb3I6bnVsbH07ZnVuY3Rpb24gUih0KXt0cnl7cmV0dXJuIHQudGhlbn1jYXRjaCh0KXtyZXR1cm4gUy5lcnJvcj10LFN9fWZ1bmN0aW9uIE4oZSxuLHIpe24uY29uc3RydWN0b3I9PT1lLmNvbnN0cnVjdG9yJiZyPT09eSYmbi5jb25zdHJ1Y3Rvci5yZXNvbHZlPT09Yj9mdW5jdGlvbih0LGUpe2UuX3N0YXRlPT09VD9MKHQsZS5fcmVzdWx0KTplLl9zdGF0ZT09PUE/SSh0LGUuX3Jlc3VsdCk6aihlLHZvaWQgMCxmdW5jdGlvbihlKXtyZXR1cm4gQyh0LGUpfSxmdW5jdGlvbihlKXtyZXR1cm4gSSh0LGUpfSl9KGUsbik6cj09PVM/KEkoZSxTLmVycm9yKSxTLmVycm9yPW51bGwpOnZvaWQgMD09PXI/TChlLG4pOnQocik/ZnVuY3Rpb24odCxlLG4pe28oZnVuY3Rpb24odCl7dmFyIHI9ITEsaT1mdW5jdGlvbih0LGUsbixyKXt0cnl7dC5jYWxsKGUsbixyKX1jYXRjaCh0KXtyZXR1cm4gdH19KG4sZSxmdW5jdGlvbihuKXtyfHwocj0hMCxlIT09bj9DKHQsbik6TCh0LG4pKX0sZnVuY3Rpb24oZSl7cnx8KHI9ITAsSSh0LGUpKX0sdC5fbGFiZWwpOyFyJiZpJiYocj0hMCxJKHQsaSkpfSx0KX0oZSxuLHIpOkwoZSxuKX1mdW5jdGlvbiBDKHQsZSl7dmFyIG4scjt0PT09ZT9JKHQsbmV3IFR5cGVFcnJvcigiWW91IGNhbm5vdCByZXNvbHZlIGEgcHJvbWlzZSB3aXRoIGl0c2VsZiIpKToocj10eXBlb2Yobj1lKSxudWxsPT09bnx8Im9iamVjdCIhPT1yJiYiZnVuY3Rpb24iIT09cj9MKHQsZSk6Tih0LGUsUihlKSkpfWZ1bmN0aW9uIFAodCl7dC5fb25lcnJvciYmdC5fb25lcnJvcih0Ll9yZXN1bHQpLE8odCl9ZnVuY3Rpb24gTCh0LGUpe3QuX3N0YXRlPT09eCYmKHQuX3Jlc3VsdD1lLHQuX3N0YXRlPVQsMCE9PXQuX3N1YnNjcmliZXJzLmxlbmd0aCYmbyhPLHQpKX1mdW5jdGlvbiBJKHQsZSl7dC5fc3RhdGU9PT14JiYodC5fc3RhdGU9QSx0Ll9yZXN1bHQ9ZSxvKFAsdCkpfWZ1bmN0aW9uIGoodCxlLG4scil7dmFyIGk9dC5fc3Vic2NyaWJlcnMscz1pLmxlbmd0aDt0Ll9vbmVycm9yPW51bGwsaVtzXT1lLGlbcytUXT1uLGlbcytBXT1yLDA9PT1zJiZ0Ll9zdGF0ZSYmbyhPLHQpfWZ1bmN0aW9uIE8odCl7dmFyIGU9dC5fc3Vic2NyaWJlcnMsbj10Ll9zdGF0ZTtpZigwIT09ZS5sZW5ndGgpe2Zvcih2YXIgcj12b2lkIDAsaT12b2lkIDAsbz10Ll9yZXN1bHQscz0wO3M8ZS5sZW5ndGg7cys9MylyPWVbc10saT1lW3Mrbl0scj9EKG4scixpLG8pOmkobyk7dC5fc3Vic2NyaWJlcnMubGVuZ3RoPTB9fWZ1bmN0aW9uIEQoZSxuLHIsaSl7dmFyIG89dChyKSxzPXZvaWQgMCxhPXZvaWQgMCx1PXZvaWQgMCxjPXZvaWQgMDtpZihvKXtpZigocz1mdW5jdGlvbih0LGUpe3RyeXtyZXR1cm4gdChlKX1jYXRjaCh0KXtyZXR1cm4gUy5lcnJvcj10LFN9fShyLGkpKT09PVM/KGM9ITAsYT1zLmVycm9yLHMuZXJyb3I9bnVsbCk6dT0hMCxuPT09cylyZXR1cm4gdm9pZCBJKG4sbmV3IFR5cGVFcnJvcigiQSBwcm9taXNlcyBjYWxsYmFjayBjYW5ub3QgcmV0dXJuIHRoYXQgc2FtZSBwcm9taXNlLiIpKX1lbHNlIHM9aSx1PSEwO24uX3N0YXRlIT09eHx8KG8mJnU/QyhuLHMpOmM/SShuLGEpOmU9PT1UP0wobixzKTplPT09QSYmSShuLHMpKX12YXIgej0wO2Z1bmN0aW9uIGsodCl7dFtfXT16KyssdC5fc3RhdGU9dm9pZCAwLHQuX3Jlc3VsdD12b2lkIDAsdC5fc3Vic2NyaWJlcnM9W119dmFyIE09ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsbil7dGhpcy5faW5zdGFuY2VDb25zdHJ1Y3Rvcj10LHRoaXMucHJvbWlzZT1uZXcgdChFKSx0aGlzLnByb21pc2VbX118fGsodGhpcy5wcm9taXNlKSxlKG4pPyh0aGlzLmxlbmd0aD1uLmxlbmd0aCx0aGlzLl9yZW1haW5pbmc9bi5sZW5ndGgsdGhpcy5fcmVzdWx0PW5ldyBBcnJheSh0aGlzLmxlbmd0aCksMD09PXRoaXMubGVuZ3RoP0wodGhpcy5wcm9taXNlLHRoaXMuX3Jlc3VsdCk6KHRoaXMubGVuZ3RoPXRoaXMubGVuZ3RofHwwLHRoaXMuX2VudW1lcmF0ZShuKSwwPT09dGhpcy5fcmVtYWluaW5nJiZMKHRoaXMucHJvbWlzZSx0aGlzLl9yZXN1bHQpKSk6SSh0aGlzLnByb21pc2UsbmV3IEVycm9yKCJBcnJheSBNZXRob2RzIG11c3QgYmUgcHJvdmlkZWQgYW4gQXJyYXkiKSl9cmV0dXJuIHQucHJvdG90eXBlLl9lbnVtZXJhdGU9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTA7dGhpcy5fc3RhdGU9PT14JiZlPHQubGVuZ3RoO2UrKyl0aGlzLl9lYWNoRW50cnkodFtlXSxlKX0sdC5wcm90b3R5cGUuX2VhY2hFbnRyeT1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuX2luc3RhbmNlQ29uc3RydWN0b3Iscj1uLnJlc29sdmU7aWYocj09PWIpe3ZhciBpPVIodCk7aWYoaT09PXkmJnQuX3N0YXRlIT09eCl0aGlzLl9zZXR0bGVkQXQodC5fc3RhdGUsZSx0Ll9yZXN1bHQpO2Vsc2UgaWYoImZ1bmN0aW9uIiE9dHlwZW9mIGkpdGhpcy5fcmVtYWluaW5nLS0sdGhpcy5fcmVzdWx0W2VdPXQ7ZWxzZSBpZihuPT09VSl7dmFyIG89bmV3IG4oRSk7TihvLHQsaSksdGhpcy5fd2lsbFNldHRsZUF0KG8sZSl9ZWxzZSB0aGlzLl93aWxsU2V0dGxlQXQobmV3IG4oZnVuY3Rpb24oZSl7cmV0dXJuIGUodCl9KSxlKX1lbHNlIHRoaXMuX3dpbGxTZXR0bGVBdChyKHQpLGUpfSx0LnByb3RvdHlwZS5fc2V0dGxlZEF0PWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10aGlzLnByb21pc2U7ci5fc3RhdGU9PT14JiYodGhpcy5fcmVtYWluaW5nLS0sdD09PUE/SShyLG4pOnRoaXMuX3Jlc3VsdFtlXT1uKSwwPT09dGhpcy5fcmVtYWluaW5nJiZMKHIsdGhpcy5fcmVzdWx0KX0sdC5wcm90b3R5cGUuX3dpbGxTZXR0bGVBdD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7aih0LHZvaWQgMCxmdW5jdGlvbih0KXtyZXR1cm4gbi5fc2V0dGxlZEF0KFQsZSx0KX0sZnVuY3Rpb24odCl7cmV0dXJuIG4uX3NldHRsZWRBdChBLGUsdCl9KX0sdH0oKSxVPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXt0aGlzW19dPXorKyx0aGlzLl9yZXN1bHQ9dGhpcy5fc3RhdGU9dm9pZCAwLHRoaXMuX3N1YnNjcmliZXJzPVtdLEUhPT10JiYoImZ1bmN0aW9uIiE9dHlwZW9mIHQmJmZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiWW91IG11c3QgcGFzcyBhIHJlc29sdmVyIGZ1bmN0aW9uIGFzIHRoZSBmaXJzdCBhcmd1bWVudCB0byB0aGUgcHJvbWlzZSBjb25zdHJ1Y3RvciIpfSgpLHRoaXMgaW5zdGFuY2VvZiBlP2Z1bmN0aW9uKHQsZSl7dHJ5e2UoZnVuY3Rpb24oZSl7Qyh0LGUpfSxmdW5jdGlvbihlKXtJKHQsZSl9KX1jYXRjaChlKXtJKHQsZSl9fSh0aGlzLHQpOmZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiRmFpbGVkIHRvIGNvbnN0cnVjdCAnUHJvbWlzZSc6IFBsZWFzZSB1c2UgdGhlICduZXcnIG9wZXJhdG9yLCB0aGlzIG9iamVjdCBjb25zdHJ1Y3RvciBjYW5ub3QgYmUgY2FsbGVkIGFzIGEgZnVuY3Rpb24uIil9KCkpfXJldHVybiBlLnByb3RvdHlwZS5jYXRjaD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy50aGVuKG51bGwsdCl9LGUucHJvdG90eXBlLmZpbmFsbHk9ZnVuY3Rpb24oZSl7dmFyIG49dGhpcy5jb25zdHJ1Y3RvcjtyZXR1cm4gdChlKT90aGlzLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIG4ucmVzb2x2ZShlKCkpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gdH0pfSxmdW5jdGlvbih0KXtyZXR1cm4gbi5yZXNvbHZlKGUoKSkudGhlbihmdW5jdGlvbigpe3Rocm93IHR9KX0pOnRoaXMudGhlbihlLGUpfSxlfSgpO3JldHVybiBVLnByb3RvdHlwZS50aGVuPXksVS5hbGw9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBNKHRoaXMsdCkucHJvbWlzZX0sVS5yYWNlPWZ1bmN0aW9uKHQpe3ZhciBuPXRoaXM7cmV0dXJuIGUodCk/bmV3IG4oZnVuY3Rpb24oZSxyKXtmb3IodmFyIGk9dC5sZW5ndGgsbz0wO288aTtvKyspbi5yZXNvbHZlKHRbb10pLnRoZW4oZSxyKX0pOm5ldyBuKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUobmV3IFR5cGVFcnJvcigiWW91IG11c3QgcGFzcyBhbiBhcnJheSB0byByYWNlLiIpKX0pfSxVLnJlc29sdmU9YixVLnJlamVjdD1mdW5jdGlvbih0KXt2YXIgZT1uZXcgdGhpcyhFKTtyZXR1cm4gSShlLHQpLGV9LFUuX3NldFNjaGVkdWxlcj1mdW5jdGlvbih0KXtpPXR9LFUuX3NldEFzYXA9ZnVuY3Rpb24odCl7bz10fSxVLl9hc2FwPW8sVS5wb2x5ZmlsbD1mdW5jdGlvbigpe3ZhciB0PXZvaWQgMDtpZigidW5kZWZpbmVkIiE9dHlwZW9mIGdsb2JhbCl0PWdsb2JhbDtlbHNlIGlmKCJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZil0PXNlbGY7ZWxzZSB0cnl7dD1GdW5jdGlvbigicmV0dXJuIHRoaXMiKSgpfWNhdGNoKHQpe3Rocm93IG5ldyBFcnJvcigicG9seWZpbGwgZmFpbGVkIGJlY2F1c2UgZ2xvYmFsIG9iamVjdCBpcyB1bmF2YWlsYWJsZSBpbiB0aGlzIGVudmlyb25tZW50Iil9dmFyIGU9dC5Qcm9taXNlO2lmKGUpe3ZhciBuPW51bGw7dHJ5e249T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUucmVzb2x2ZSgpKX1jYXRjaCh0KXt9aWYoIltvYmplY3QgUHJvbWlzZV0iPT09biYmIWUuY2FzdClyZXR1cm59dC5Qcm9taXNlPVV9LFUuUHJvbWlzZT1VLFV9LHQuZXhwb3J0cz1yKCl9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDUxKTt0LmV4cG9ydHM9bmV3IHIoInR3dHRyIil9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDEpLGk9bigwKTtmdW5jdGlvbiBvKHQpe3JldHVybiBpLmlzVHlwZSgic3RyaW5nIix0KT90LnNwbGl0KCIuIik6aS5pc1R5cGUoImFycmF5Iix0KT90OltdfWZ1bmN0aW9uIHModCxlKXsoZT1lfHxyKVt0XT1lW3RdfHx7fSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywiYmFzZSIse3ZhbHVlOmVbdF19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywibmFtZSIse3ZhbHVlOnR9KX1pLmF1ZyhzLnByb3RvdHlwZSx7Z2V0OmZ1bmN0aW9uKHQpe3JldHVybiBvKHQpLnJlZHVjZShmdW5jdGlvbih0LGUpe2lmKGkuaXNPYmplY3QodCkpcmV0dXJuIHRbZV19LHRoaXMuYmFzZSl9LHNldDpmdW5jdGlvbih0LGUsbil7dmFyIHI9byh0KSxzPWZ1bmN0aW9uKHQsZSl7dmFyIG49byhlKS5zbGljZSgwLC0xKTtyZXR1cm4gbi5yZWR1Y2UoZnVuY3Rpb24odCxlLHIpe2lmKHRbZV09dFtlXXx8e30sIWkuaXNPYmplY3QodFtlXSkpdGhyb3cgbmV3IEVycm9yKG4uc2xpY2UoMCxyKzEpLmpvaW4oIi4iKSsiIGlzIGFscmVhZHkgZGVmaW5lZCB3aXRoIGEgdmFsdWUuIik7cmV0dXJuIHRbZV19LHQpfSh0aGlzLmJhc2UsdCksYT1yLnNsaWNlKC0xKTtyZXR1cm4gbiYmYSBpbiBzP3NbYV06c1thXT1lfSxpbml0OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuc2V0KHQsZSwhMCl9LHVuc2V0OmZ1bmN0aW9uKHQpe3ZhciBlPW8odCksbj10aGlzLmdldChlLnNsaWNlKDAsLTEpKTtuJiZkZWxldGUgbltlLnNsaWNlKC0xKV19LGF1ZzpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldCh0KSxuPWkudG9SZWFsQXJyYXkoYXJndW1lbnRzKS5zbGljZSgxKTtpZihlPXZvaWQgMCE9PWU/ZTp7fSxuLnVuc2hpZnQoZSksIW4uZXZlcnkoaS5pc09iamVjdCkpdGhyb3cgbmV3IEVycm9yKCJDYW5ub3QgYXVnbWVudCBub24tb2JqZWN0LiIpO3JldHVybiB0aGlzLnNldCh0LGkuYXVnLmFwcGx5KG51bGwsbikpfSxjYWxsOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0KHQpLG49aS50b1JlYWxBcnJheShhcmd1bWVudHMpLnNsaWNlKDEpO2lmKCFpLmlzVHlwZSgiZnVuY3Rpb24iLGUpKXRocm93IG5ldyBFcnJvcigiRnVuY3Rpb24gIit0KyJkb2VzIG5vdCBleGlzdC4iKTtyZXR1cm4gZS5hcHBseShudWxsLG4pfSxmdWxsUGF0aDpmdW5jdGlvbih0KXt2YXIgZT1vKHQpO3JldHVybiBlLnVuc2hpZnQodGhpcy5uYW1lKSxlLmpvaW4oIi4iKX19KSx0LmV4cG9ydHM9c30sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMCksaT1uKDcpLG89e2JpbmQ6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5faGFuZGxlcnM9dGhpcy5faGFuZGxlcnN8fHt9LHRoaXMuX2hhbmRsZXJzW3RdPXRoaXMuX2hhbmRsZXJzW3RdfHxbXSx0aGlzLl9oYW5kbGVyc1t0XS5wdXNoKGUpfSx1bmJpbmQ6ZnVuY3Rpb24odCxlKXt2YXIgbjt0aGlzLl9oYW5kbGVycyYmdGhpcy5faGFuZGxlcnNbdF0mJihlPyhuPXRoaXMuX2hhbmRsZXJzW3RdLmluZGV4T2YoZSkpPj0wJiZ0aGlzLl9oYW5kbGVyc1t0XS5zcGxpY2UobiwxKTp0aGlzLl9oYW5kbGVyc1t0XT1bXSl9LHRyaWdnZXI6ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl9oYW5kbGVycyYmdGhpcy5faGFuZGxlcnNbdF07KGU9ZXx8e30pLnR5cGU9dCxuJiZuLmZvckVhY2goZnVuY3Rpb24odCl7ci5hc3luYyhpKHQsdGhpcyxlKSl9KX19O3QuZXhwb3J0cz17RW1pdHRlcjpvLG1ha2VFbWl0dGVyOmZ1bmN0aW9uKCl7cmV0dXJuIHIuYXVnKGZ1bmN0aW9uKCl7fSxvKX19fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9big5NyksaT1uKDk5KSxvPW4oNikscz1uKDI0KSxhPW4oNyksdT1uKDApLGM9bmV3IGkoZnVuY3Rpb24odCl7dmFyIGU9ZnVuY3Rpb24odCl7cmV0dXJuIHQucmVkdWNlKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRbZS5fY2xhc3NOYW1lXT10W2UuX2NsYXNzTmFtZV18fFtdLHRbZS5fY2xhc3NOYW1lXS5wdXNoKGUpLHR9LHt9KX0odC5tYXAoci5mcm9tUmF3VGFzaykpO3UuZm9ySW4oZSxmdW5jdGlvbih0LGUpe3MuYWxsU2V0dGxlZChlLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdC5pbml0aWFsaXplKCl9KSkudGhlbihmdW5jdGlvbigpe2UuZm9yRWFjaChmdW5jdGlvbih0KXtvLmFsbChbdC5oeWRyYXRlKCksdC5pbnNlcnRJbnRvRG9tKCldKS50aGVuKGEodC5yZW5kZXIsdCkpLnRoZW4oYSh0LnN1Y2Nlc3MsdCksYSh0LmZhaWwsdCkpfSl9KX0pfSk7dC5leHBvcnRzPXthZGRXaWRnZXQ6ZnVuY3Rpb24odCl7cmV0dXJuIGMuYWRkKHQpfX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDE4KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIHIud3JpdGUoZnVuY3Rpb24oKXt0JiZ0LnBhcmVudE5vZGUmJnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0KX0pfX0sZnVuY3Rpb24odCxlLG4pe24oMTIpLHQuZXhwb3J0cz17bG9nOmZ1bmN0aW9uKHQsZSl7fX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDEpO2Z1bmN0aW9uIGkodCl7cmV0dXJuKHQ9dHx8cikuZ2V0U2VsZWN0aW9uJiZ0LmdldFNlbGVjdGlvbigpfXQuZXhwb3J0cz17Z2V0U2VsZWN0aW9uOmksZ2V0U2VsZWN0ZWRUZXh0OmZ1bmN0aW9uKHQpe3ZhciBlPWkodCk7cmV0dXJuIGU/ZS50b1N0cmluZygpOiIifX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDQpLGk9bigxKSxvPW4oMikscz0yZTQ7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBvLG49ci5jcmVhdGVFbGVtZW50KCJpbWciKTtyZXR1cm4gbi5vbmxvYWQ9bi5vbmVycm9yPWZ1bmN0aW9uKCl7aS5zZXRUaW1lb3V0KGUucmVzb2x2ZSw1MCl9LG4uc3JjPXQsaS5zZXRUaW1lb3V0KGUucmVqZWN0LHMpLGUucHJvbWlzZX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDEwOSk7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3QuZGVmaW5lKCJjcmVhdGVFbGVtZW50IixyKSx0LmRlZmluZSgiY3JlYXRlRnJhZ21lbnQiLHIpLHQuZGVmaW5lKCJodG1sVG9FbGVtZW50IixyKSx0LmRlZmluZSgiaGFzU2VsZWN0ZWRUZXh0IixyKSx0LmRlZmluZSgiYWRkUm9vdENsYXNzIixyKSx0LmRlZmluZSgicmVtb3ZlUm9vdENsYXNzIixyKSx0LmRlZmluZSgiaGFzUm9vdENsYXNzIixyKSx0LmRlZmluZSgicHJlcGVuZFN0eWxlU2hlZXQiLHIpLHQuZGVmaW5lKCJhcHBlbmRTdHlsZVNoZWV0IixyKSx0LmRlZmluZSgicHJlcGVuZENzcyIsciksdC5kZWZpbmUoImFwcGVuZENzcyIsciksdC5kZWZpbmUoIm1ha2VWaXNpYmxlIixyKSx0LmRlZmluZSgiaW5qZWN0V2lkZ2V0RWwiLHIpLHQuZGVmaW5lKCJtYXRjaEhlaWdodFRvQ29udGVudCIsciksdC5kZWZpbmUoIm1hdGNoV2lkdGhUb0NvbnRlbnQiLHIpfX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGUsbj0hMTtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbj9lOihuPSEwLGU9dC5hcHBseSh0aGlzLGFyZ3VtZW50cykpfX19LGZ1bmN0aW9uKHQsZSl7dmFyIG49InRmd19ob3Jpem9uX3R3ZWV0X2VtYmVkXzk1NTUiO3QuZXhwb3J0cz17aXNIb3Jpem9uVHdlZXRFbmFibGVkOmZ1bmN0aW9uKHQpe3JldHVybiEodCYmdFtuXSYmImNvbnRyb2wiPT09dFtuXS5idWNrZXQpfSxpc0luSG9yaXpvblRlYW1Ib2xkYmFjazpmdW5jdGlvbih0KXtyZXR1cm4iY29udHJvbCI9PT0odCYmdC50ZndfdGVhbV9ob2xkYmFja18xMTkyOSYmdC50ZndfdGVhbV9ob2xkYmFja18xMTkyOS5idWNrZXQpfSxpc0hvcml6b25UaW1lbGluZUVuYWJsZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hMX19fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxNSksaT1uKDExNiksbz1uKDExNykscz1uKDE2KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBuZXcgcihpLG8scy5ETV9CVVRUT04sdCxlLG4pfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMjcpLGk9bigxMTgpO3QuZXhwb3J0cz1yLmJ1aWxkKFtpXSl9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDE1KSxpPW4oMTIxKSxvPW4oMzIpLHM9bigxNik7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gbmV3IHIoaSxvLHMuRk9MTE9XX0JVVFRPTix0LGUsbil9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxNSksaT1uKDEyOSksbz1uKDI2KSxzPW4oMTYpO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUsbil7cmV0dXJuIG5ldyByKGksbyxzLk1PTUVOVCx0LGUsbil9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxNSksaT1uKDEzMSksbz1uKDI2KSxzPW4oMTYpO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUsbil7cmV0dXJuIG5ldyByKGksbyxzLlBFUklTQ09QRSx0LGUsbil9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9big3OCksaT1uKDEzMyksbz1uKDEzNykscz1uKDEzOSksYT1uKDE0MSksdT1uKDE0MyksYz17Y29sbGVjdGlvbjppLGV2ZW50Om8sbGlrZXM6cyxsaXN0OmEscHJvZmlsZTp1LHVybDpsfSxkPVt1LHMsaSxhLG9dO2Z1bmN0aW9uIGwodCl7cmV0dXJuIHIoZCxmdW5jdGlvbihlKXt0cnl7cmV0dXJuIG5ldyBlKHQpfWNhdGNoKHQpe319KX10LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIHQ/ZnVuY3Rpb24odCl7dmFyIGUsbjtyZXR1cm4gZT0odC5zb3VyY2VUeXBlKyIiKS50b0xvd2VyQ2FzZSgpLChuPWNbZV0pP25ldyBuKHQpOm51bGx9KHQpfHxsKHQpOm51bGx9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9big0KSxpPW4oNjApLG89bigxNSkscz1uKDMyKSxhPW4oMTQ1KSx1PW4oMjYpLGM9bigxNDYpLGQ9bigxNik7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSxuLGwpe3ZhciBmO3JldHVybiBpLmlzSG9yaXpvblRpbWVsaW5lRW5hYmxlZChsLHQpPyhmPXIuY3JlYXRlRWxlbWVudCgiZGl2IiksbmV3IG8oYSxzLGQuVElNRUxJTkUsdCxlLG4se3NhbmRib3hXcmFwcGVyRWw6Zn0pKTpuZXcgbyhjLHUsZC5USU1FTElORSx0LGUsbil9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9big0KSxpPW4oMTUpLG89bigzMikscz1uKDE0OCksYT1uKDE2KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlLG4pe3ZhciB1PXIuY3JlYXRlRWxlbWVudCgiZGl2Iik7cmV0dXJuIG5ldyBpKHMsbyxhLlRXRUVULHQsZSxuLHtzYW5kYm94V3JhcHBlckVsOnV9KX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDE1KSxpPW4oMTUwKSxvPW4oMzIpLHM9bigxNik7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSxuKXt2YXIgYT10JiZ0LnR5cGV8fCJzaGFyZSIsdT0iaGFzaHRhZyI9PWE/cy5IQVNIVEFHX0JVVFRPTjoibWVudGlvbiI9PWE/cy5NRU5USU9OX0JVVFRPTjpzLlNIQVJFX0JVVFRPTjtyZXR1cm4gbmV3IHIoaSxvLHUsdCxlLG4pfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNDIpLGk9bigzOCksbz1uKDApO3QuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZT17d2lkZ2V0X29yaWdpbjppLnJvb3REb2N1bWVudExvY2F0aW9uKCksd2lkZ2V0X2ZyYW1lOmkuaXNGcmFtZWQoKT9pLmN1cnJlbnREb2N1bWVudExvY2F0aW9uKCk6bnVsbCxkdXJhdGlvbl9tczp0LmR1cmF0aW9uLGl0ZW1faWRzOnQud2lkZ2V0SWRzfHxbXX0sbj1vLmF1Zyh0Lm5hbWVzcGFjZSx7cGFnZToicGFnZSIsY29tcG9uZW50OiJwZXJmb3JtYW5jZSJ9KTtyLnNjcmliZShuLGUpfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMCksaT1uKDEzNCksbz1bImFyIiwiZmEiLCJoZSIsInVyIl07dC5leHBvcnRzPXtpc1J0bExhbmc6ZnVuY3Rpb24odCl7cmV0dXJuIHQ9U3RyaW5nKHQpLnRvTG93ZXJDYXNlKCksci5jb250YWlucyhvLHQpfSxtYXRjaExhbmd1YWdlOmZ1bmN0aW9uKHQpe3JldHVybiB0PSh0PSh0fHwiIikudG9Mb3dlckNhc2UoKSkucmVwbGFjZSgiXyIsIi0iKSxpKHQpP3Q6KHQ9dC5yZXBsYWNlKC8tLiovLCIiKSxpKHQpP3Q6ImVuIil9fX0sZnVuY3Rpb24odCl7dC5leHBvcnRzPXt0d2VldEJ1dHRvbkh0bWxQYXRoOiIvd2lkZ2V0cy90d2VldF9idXR0b24uNjM4OTliMTczNzY2ZWU2ZjhhNzI5YTcyYjU0MmIwZmIue3tsYW5nfX0uaHRtbCIsZm9sbG93QnV0dG9uSHRtbFBhdGg6Ii93aWRnZXRzL2ZvbGxvd19idXR0b24uNjM4OTliMTczNzY2ZWU2ZjhhNzI5YTcyYjU0MmIwZmIue3tsYW5nfX0uaHRtbCIsaHViSHRtbFBhdGg6Ii93aWRnZXRzL2h1Yi5odG1sIix3aWRnZXRJZnJhbWVIdG1sUGF0aDoiL3dpZGdldHMvd2lkZ2V0X2lmcmFtZS42Mzg5OWIxNzM3NjZlZTZmOGE3MjlhNzJiNTQyYjBmYi5odG1sIixyZXNvdXJjZUJhc2VVcmw6Imh0dHBzOi8vcGxhdGZvcm0udHdpdHRlci5jb20ifX0sZnVuY3Rpb24odCl7dC5leHBvcnRzPXtUV0VFVDowLFJFVFdFRVQ6MTAsQ1VTVE9NX1RJTUVMSU5FOjE3LExJVkVfVklERU9fRVZFTlQ6MjgsUVVPVEVfVFdFRVQ6MjN9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigzKSxpPW4oOTUpLG89bigyMykscz1uKDExKSxhPXtmYXZvcml0ZTpbImZhdm9yaXRlIiwibGlrZSJdLGZvbGxvdzpbImZvbGxvdyJdLGxpa2U6WyJmYXZvcml0ZSIsImxpa2UiXSxyZXR3ZWV0OlsicmV0d2VldCJdLHR3ZWV0OlsidHdlZXQiXX07ZnVuY3Rpb24gdSh0KXt0aGlzLnNyY0VsPVtdLHRoaXMuZWxlbWVudD10fXUub3Blbj1mdW5jdGlvbih0LGUsbil7dmFyIHU9KHIuaW50ZW50VHlwZSh0KXx8IiIpLnRvTG93ZXJDYXNlKCk7ci5pc1R3aXR0ZXJVUkwodCkmJihmdW5jdGlvbih0LGUpe2kub3Blbih0LGUpfSh0LG4pLGUmJm8udHJpZ2dlcigiY2xpY2siLHt0YXJnZXQ6ZSxyZWdpb246ImludGVudCIsdHlwZToiY2xpY2siLGRhdGE6e319KSxlJiZhW3VdJiZhW3VdLmZvckVhY2goZnVuY3Rpb24obil7by50cmlnZ2VyKG4se3RhcmdldDplLHJlZ2lvbjoiaW50ZW50Iix0eXBlOm4sZGF0YTpmdW5jdGlvbih0LGUpe3ZhciBuPXMuZGVjb2RlVVJMKGUpO3N3aXRjaCh0KXtjYXNlImZhdm9yaXRlIjpjYXNlImxpa2UiOnJldHVybnt0d2VldF9pZDpuLnR3ZWV0X2lkfTtjYXNlImZvbGxvdyI6cmV0dXJue3NjcmVlbl9uYW1lOm4uc2NyZWVuX25hbWUsdXNlcl9pZDpuLnVzZXJfaWR9O2Nhc2UicmV0d2VldCI6cmV0dXJue3NvdXJjZV90d2VldF9pZDpuLnR3ZWV0X2lkfTtkZWZhdWx0OnJldHVybnt9fX0odSx0KX0pfSkpfSx0LmV4cG9ydHM9dX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNCksaT1uKDkpLG89bigzKTtmdW5jdGlvbiBzKHQsZSl7dmFyIG4scjtyZXR1cm4gZT1lfHxpLC9eaHR0cHM/OlwvXC8vLnRlc3QodCk/dDovXlwvXC8vLnRlc3QodCk/ZS5wcm90b2NvbCt0OihuPWUuaG9zdCsoZS5wb3J0Lmxlbmd0aD8iOiIrZS5wb3J0OiIiKSwwIT09dC5pbmRleE9mKCIvIikmJigocj1lLnBhdGhuYW1lLnNwbGl0KCIvIikpLnBvcCgpLHIucHVzaCh0KSx0PSIvIityLmpvaW4oIi8iKSksW2UucHJvdG9jb2wsIi8vIixuLHRdLmpvaW4oIiIpKX10LmV4cG9ydHM9e2Fic29sdXRpemU6cyxnZXRDYW5vbmljYWxVUkw6ZnVuY3Rpb24oKXtmb3IodmFyIHQsZT1yLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJsaW5rIiksbj0wO2Vbbl07bisrKWlmKCJjYW5vbmljYWwiPT0odD1lW25dKS5yZWwpcmV0dXJuIHModC5ocmVmKX0sZ2V0U2NyZWVuTmFtZUZyb21QYWdlOmZ1bmN0aW9uKCl7Zm9yKHZhciB0LGUsbixpPVtyLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJhIiksci5nZXRFbGVtZW50c0J5VGFnTmFtZSgibGluayIpXSxzPTAsYT0wLHU9L1xibWVcYi87dD1pW3NdO3MrKylmb3IoYT0wO2U9dFthXTthKyspaWYodS50ZXN0KGUucmVsKSYmKG49by5zY3JlZW5OYW1lKGUuaHJlZikpKXJldHVybiBufX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDE5KSxpPW4oNTUpLG89bigxMSkscz1uKDM3KSxhPW4oMCksdT1uKDgpLmdldCgic2NyaWJlQ2FsbGJhY2siKSxjPTIwODMsZD1bXSxsPW8udXJsKHMuQ0xJRU5UX0VWRU5UX0VORFBPSU5ULHtkbnQ6MCxsOiIifSksZj1lbmNvZGVVUklDb21wb25lbnQobCkubGVuZ3RoO2Z1bmN0aW9uIGgodCxlLG4scixpKXt2YXIgbz0hYS5pc09iamVjdCh0KSxjPSEhZSYmIWEuaXNPYmplY3QoZSk7b3x8Y3x8KHUmJnUoYXJndW1lbnRzKSxwKHMuZm9ybWF0Q2xpZW50RXZlbnROYW1lc3BhY2UodCkscy5mb3JtYXRDbGllbnRFdmVudERhdGEoZSxuLHIpLHMuQ0xJRU5UX0VWRU5UX0VORFBPSU5ULGkpKX1mdW5jdGlvbiBwKHQsZSxuLHIpe3ZhciB1O24mJmEuaXNPYmplY3QodCkmJmEuaXNPYmplY3QoZSkmJihpLmxvZyh0LGUpLHU9cy5mbGF0dGVuQ2xpZW50RXZlbnRQYXlsb2FkKHQsZSkscj1hLmF1Zyh7fSxyLHtsOnMuc3RyaW5naWZ5KHUpfSksdS5kbnQmJihyLmRudD0xKSx3KG8udXJsKG4scikpKX1mdW5jdGlvbiBtKHQsZSxuLHIpe3ZhciBpPSFhLmlzT2JqZWN0KHQpLG89ISFlJiYhYS5pc09iamVjdChlKTtpZighaSYmIW8pcmV0dXJuIHYocy5mbGF0dGVuQ2xpZW50RXZlbnRQYXlsb2FkKHMuZm9ybWF0Q2xpZW50RXZlbnROYW1lc3BhY2UodCkscy5mb3JtYXRDbGllbnRFdmVudERhdGEoZSxuLHIpKSl9ZnVuY3Rpb24gdih0KXtyZXR1cm4gZC5wdXNoKHQpLGR9ZnVuY3Rpb24gZyh0KXtyZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHQpLmxlbmd0aCszfWZ1bmN0aW9uIHcodCl7cmV0dXJuKG5ldyBJbWFnZSkuc3JjPXR9dC5leHBvcnRzPXtjYW5GbHVzaE9uZUl0ZW06ZnVuY3Rpb24odCl7dmFyIGU9ZyhzLnN0cmluZ2lmeSh0KSk7cmV0dXJuIGYrZTxjfSxfZW5xdWV1ZVJhd09iamVjdDp2LHNjcmliZTpwLGNsaWVudEV2ZW50OmgsY2xpZW50RXZlbnQyOmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gaCh0LGUsbiwyKX0sZW5xdWV1ZUNsaWVudEV2ZW50Om0sZmx1c2hDbGllbnRFdmVudHM6ZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4gZC5sZW5ndGg+MSYmbSh7cGFnZToid2lkZ2V0c19qcyIsY29tcG9uZW50OiJzY3JpYmVfcGl4ZWwiLGFjdGlvbjoiYmF0Y2hfbG9nIn0se30pLHQ9ZCxkPVtdLHQucmVkdWNlKGZ1bmN0aW9uKGUsbixyKXt2YXIgaT1lLmxlbmd0aCxvPWkmJmVbaS0xXTtyZXR1cm4gcisxPT10Lmxlbmd0aCYmbi5ldmVudF9uYW1lc3BhY2UmJiJiYXRjaF9sb2ciPT1uLmV2ZW50X25hbWVzcGFjZS5hY3Rpb24mJihuLm1lc3NhZ2U9WyJlbnRyaWVzOiIrciwicmVxdWVzdHM6IitpXS5qb2luKCIvIikpLGZ1bmN0aW9uIHQoZSl7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSl8fChlPVtlXSksZS5yZWR1Y2UoZnVuY3Rpb24oZSxuKXt2YXIgcixpPXMuc3RyaW5naWZ5KG4pLG89ZyhpKTtyZXR1cm4gZitvPGM/ZT1lLmNvbmNhdChpKToocj1zLnNwbGl0TG9nRW50cnkobikpLmxlbmd0aD4xJiYoZT1lLmNvbmNhdCh0KHIpKSksZX0sW10pfShuKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBuPWcodCk7KCFvfHxvLnVybExlbmd0aCtuPmMpJiYobz17dXJsTGVuZ3RoOmYsaXRlbXM6W119LGUucHVzaChvKSksby51cmxMZW5ndGgrPW4sby5pdGVtcy5wdXNoKHQpfSksZX0sW10pLm1hcChmdW5jdGlvbih0KXt2YXIgZT17bDp0Lml0ZW1zfTtyZXR1cm4gci5lbmFibGVkKCkmJihlLmRudD0xKSx3KG8udXJsKHMuQ0xJRU5UX0VWRU5UX0VORFBPSU5ULGUpKX0pfSxpbnRlcmFjdGlvbjpmdW5jdGlvbih0LGUsbixyKXt2YXIgaT1zLmV4dHJhY3RUZXJtc0Zyb21ET00odC50YXJnZXR8fHQuc3JjRWxlbWVudCk7aS5hY3Rpb249cnx8ImNsaWNrIixoKGksZSxuKX19fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigwKSxpPW4oNDUpO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3JldHVybiBpKHQsZSk/W3RdOnIudG9SZWFsQXJyYXkodC5xdWVyeVNlbGVjdG9yQWxsKGUpKX19LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIHIsaT0wO2k8dC5sZW5ndGg7aSsrKWlmKHI9ZS5jYWxsKG4sdFtpXSxpLHQpKXJldHVybiByfX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5mbG9vcigrbmV3IERhdGUvOWU1KX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDQpLGk9big4KSxvPW4oMikscz1uKDApLGE9bigxMSksdT0iY2IiLGM9MDt0LmV4cG9ydHM9e2ZldGNoOmZ1bmN0aW9uKHQsZSxuLGQpe3ZhciBsLGYsaDtyZXR1cm4gZD1mdW5jdGlvbih0KXtpZih0KXJldHVybiB0LnJlcGxhY2UoL1teXHckXS9nLCJfIil9KGR8fHUrYysrKSxsPWkuZnVsbFBhdGgoWyJjYWxsYmFja3MiLGRdKSxmPXIuY3JlYXRlRWxlbWVudCgic2NyaXB0IiksaD1uZXcgbyxlPXMuYXVnKHt9LGUse2NhbGxiYWNrOmwsc3VwcHJlc3NfcmVzcG9uc2VfY29kZXM6ITB9KSxpLnNldChbImNhbGxiYWNrcyIsZF0sZnVuY3Rpb24odCl7dmFyIGU7dD0oZT1uKHR8fCExKSkucmVzcCxlLnN1Y2Nlc3M/aC5yZXNvbHZlKHQpOmgucmVqZWN0KHQpLGYub25sb2FkPWYub25yZWFkeXN0YXRlY2hhbmdlPW51bGwsZi5wYXJlbnROb2RlJiZmLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZiksaS51bnNldChbImNhbGxiYWNrcyIsZF0pfSksZi5vbmVycm9yPWZ1bmN0aW9uKCl7aC5yZWplY3QobmV3IEVycm9yKCJmYWlsZWQgdG8gZmV0Y2ggIitmLnNyYykpfSxmLnNyYz1hLnVybCh0LGUpLGYuYXN5bmM9ImFzeW5jIixyLmJvZHkuYXBwZW5kQ2hpbGQoZiksaC5wcm9taXNlfX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDEyKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGUsbjtyZXR1cm4gZT10LmhlYWRlcnMmJnQuaGVhZGVycy5zdGF0dXMsIShuPXQmJiF0LmVycm9yJiYyMDA9PT1lKSYmdC5oZWFkZXJzJiZ0LmhlYWRlcnMubWVzc2FnZSYmci5wdWJsaWNFcnJvcih0LmhlYWRlcnMubWVzc2FnZSkse3N1Y2Nlc3M6bixyZXNwOnR9fX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9e2dldFRpbWV6b25lT2Zmc2V0OmZ1bmN0aW9uKCl7dmFyIHQ9KG5ldyBEYXRlKS50b1N0cmluZygpLm1hdGNoKC8oR01UWystXT9cZCspLyk7cmV0dXJuIHQmJnRbMF18fCJHTVQifX19LCwsLCwsLCwsZnVuY3Rpb24odCxlLG4pe3ZhciByLGk9bigyKSxvPW4oNCkscz1uKDkzKSxhPW4oNTApLHU9big4KSxjPW4oOTQpLGQ9bigyMyksbD1uKDk2KSxmPW4oMTUxKSxoPW4oMTU5KSxwPW4oMTYwKSxtPW4oMzApLHY9bigzNik7bigxNjEpLG0uZW1pdHRlci50cmlnZ2VyKG0uU1RBUlQpLHUuc2V0KCJ3aWRnZXRzLmluaXQiLCEwKSxhLnNldCgiaW5pdCIsITApLHAoKSxyPW5ldyBpLHMuZXhwb3NlUmVhZHlQcm9taXNlKHIucHJvbWlzZSxhLmJhc2UsIl9lIiksYS5zZXQoIndpZGdldHMiLGYpLGEuc2V0KCJ3aWRnZXRzLmxvYWQiLGwubG9hZCksYS5zZXQoImV2ZW50cyIsZCksaChmdW5jdGlvbigpe3YubG9hZCgpLHIucmVzb2x2ZShhLmJhc2UpLGMuYXR0YWNoVG8obyksbC5sb2FkUGFnZSgpfSl9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPW5hdmlnYXRvcn0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNyk7dC5leHBvcnRzPXtleHBvc2VSZWFkeVByb21pc2U6ZnVuY3Rpb24odCxlLG4pe2UucmVhZHk9cih0LnRoZW4sdCksbiYmQXJyYXkuaXNBcnJheShlW25dKSYmKGVbbl0uZm9yRWFjaChyKHQudGhlbix0KSksZGVsZXRlIGVbbl0pfX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDkpLGk9bigzNSksbz1uKDM0KSxzPW4oNzQpLGE9bigzKTtmdW5jdGlvbiB1KHQpe3ZhciBlLG4sdTt0LmFsdEtleXx8dC5tZXRhS2V5fHx0LnNoaWZ0S2V5fHwoZT1vLmNsb3Nlc3QoZnVuY3Rpb24odCl7cmV0dXJuIkEiPT09dC50YWdOYW1lfHwiQVJFQSI9PT10LnRhZ05hbWV9LHQudGFyZ2V0KSkmJmEuaXNJbnRlbnRVUkwoZS5ocmVmKSYmKG49KG49KG49W3U9ZS5ocmVmLCJvcmlnaW5hbF9yZWZlcmVyPSIrci5ocmVmXS5qb2luKC0xPT11LmluZGV4T2YoIj8iKT8iPyI6IiYiKSkucmVwbGFjZSgvXmh0dHBbOl0vLCJodHRwczoiKSkucmVwbGFjZSgvXlwvXC8vLCJodHRwczovLyIpLHMub3BlbihuLGUpLGkucHJldmVudERlZmF1bHQodCkpfXQuZXhwb3J0cz17YXR0YWNoVG86ZnVuY3Rpb24odCl7dC5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsdSwhMSl9fX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMSksaT1uKDM1KSxvPW4oMzQpLHM9bigyMSksYT1uKDMpLHU9bigyMiksYz0iaW50ZW50XyI7ZnVuY3Rpb24gZCh0KXt0aGlzLndpbj10fWQucHJvdG90eXBlLm9wZW49ZnVuY3Rpb24odCxlKXt2YXIgbj1lJiYiY2xpY2siPT1lLnR5cGUmJm8uY2xvc2VzdCgiYSIsZS50YXJnZXQpLHI9ZSYmKGUuYWx0S2V5fHxlLm1ldGFLZXl8fGUuc2hpZnRLZXkpLGQ9biYmKHMuaW9zKCl8fHMuYW5kcm9pZCgpKTtpZihhLmlzVHdpdHRlclVSTCh0KSlyZXR1cm4gcnx8ZD90aGlzOih0aGlzLm5hbWU9Yyt1LmdlbmVyYXRlKCksdGhpcy5wb3B1cD10aGlzLndpbi5vcGVuKHQsdGhpcy5uYW1lKSxlJiZpLnByZXZlbnREZWZhdWx0KGUpLHRoaXMpfSxkLm9wZW49ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IGQocikub3Blbih0LGUpfSx0LmV4cG9ydHM9ZH0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNCksaT1uKDYpLG89bigyNCkscz1uKDUzKSxhPW4oMzMpLHU9big4KSxjPW4oNDIpLGQ9bigyMyksbD1uKDUpLGY9bigwKSxoPW4oMzYpLHA9bigxMTMpLG09bigzMCk7ZnVuY3Rpb24gdigpe3ZhciB0PWEudmFsKCJ3aWRnZXRzOmF1dG9sb2FkIil8fCEwO3JldHVybiFsLmlzRmFsc2VWYWx1ZSh0KSYmKGwuaXNUcnV0aFZhbHVlKHQpP3IuYm9keTpyLnF1ZXJ5U2VsZWN0b3JBbGwodCkpfWZ1bmN0aW9uIGcodCxlKXt2YXIgbixpO3JldHVybiB0PSh0PXR8fHIuYm9keSkubGVuZ3RoP2YudG9SZWFsQXJyYXkodCk6W3RdLGMucGF1c2UoKSxpPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQucmVkdWNlKGZ1bmN0aW9uKHQsbil7cmV0dXJuIHQuY29uY2F0KHAucmVkdWNlKGZ1bmN0aW9uKHQscil7cmV0dXJuIHQuY29uY2F0KHIobixlKSl9LFtdKSl9LFtdKX0odCxlKSxtLmVtaXR0ZXIudHJpZ2dlcihtLkFMTF9XSURHRVRTX1JFTkRFUl9TVEFSVCx7d2lkZ2V0czppfSksbj1vLmFsbFJlc29sdmVkKGkubWFwKGZ1bmN0aW9uKHQpe3JldHVybiBzLmFkZFdpZGdldCh0KX0pKS50aGVuKGZ1bmN0aW9uKHQpe2QudHJpZ2dlcigibG9hZGVkIix7d2lkZ2V0czp0fSksdCYmdC5sZW5ndGgmJm0uZW1pdHRlci50cmlnZ2VyKG0uQUxMX1dJREdFVFNfUkVOREVSX0VORCx7d2lkZ2V0czp0fSl9KSxvLmFsd2F5cyhuLGZ1bmN0aW9uKCl7Yy5yZXN1bWUoKX0pLG59ZnVuY3Rpb24gdyh0KXtyZXR1cm4gaC5nZXRFeHBlcmltZW50cygpLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIGcodCxlKX0pfXQuZXhwb3J0cz17bG9hZDp3LGxvYWRQYWdlOmZ1bmN0aW9uKCl7dmFyIHQ9digpO3JldHVybiExPT09dD9pLnJlc29sdmUoKToodS5zZXQoIndpZGdldHMubG9hZGVkIiwhMCksdyh0KSl9LF9nZXRQYWdlTG9hZFRhcmdldDp2fX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMTApLGk9bigxOCksbz1uKDIzKSxzPW4oNTQpLGE9big2KSx1PW4oMjQpO2Z1bmN0aW9uIGModCxlKXt0aGlzLl93aWRnZXQ9bnVsbCx0aGlzLl9zYW5kYm94PW51bGwsdGhpcy5faHlkcmF0ZWQ9ITEsdGhpcy5faW5zZXJ0ZWRJbnRvRG9tPSExLHRoaXMuX1NhbmRib3g9dC5TYW5kYm94LHRoaXMuX2ZhY3Rvcnk9dC5mYWN0b3J5LHRoaXMuX3dpZGdldFBhcmFtcz10LnBhcmFtZXRlcnMsdGhpcy5fcmVzb2x2ZT1lLHRoaXMuX2NsYXNzTmFtZT10LmNsYXNzTmFtZSx0aGlzLl9yZW5kZXJlZENsYXNzTmFtZT10LmNsYXNzTmFtZSsiLXJlbmRlcmVkIix0aGlzLl9lcnJvckNsYXNzTmFtZT10LmNsYXNzTmFtZSsiLWVycm9yIix0aGlzLl9zcmNFbD10LnNyY0VsLHRoaXMuX3RhcmdldEdsb2JhbD1mdW5jdGlvbih0KXtyZXR1cm4odC5zcmNFbHx8dC50YXJnZXRFbCkub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlld30odCksdGhpcy5fc2FuZGJveFdyYXBwZXJFbD10Lm9wdGlvbnM/dC5vcHRpb25zLnNhbmRib3hXcmFwcGVyRWw6bnVsbCx0aGlzLl9pbnNlcnRpb25TdHJhdGVneT1mdW5jdGlvbihlKXt2YXIgbixyPXQuc3JjRWwsaT10LnRhcmdldEVsLG89dC5jbGFzc05hbWUscz10LmNsYXNzTmFtZSsiLXJlbmRlcmVkIixhPXQub3B0aW9ucz90Lm9wdGlvbnMuc2FuZGJveFdyYXBwZXJFbDpudWxsO2E/KGEuYXBwZW5kQ2hpbGQoZSksYS5jbGFzc0xpc3QuYWRkKG8scyksbj1hKTpuPWUscj9pLmluc2VydEJlZm9yZShuLHIpOmkuYXBwZW5kQ2hpbGQobil9fWMuZnJvbVJhd1Rhc2s9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBjKHQuaW5wdXQsdC50YXNrRG9uZURlZmVycmVkLnJlc29sdmUpfSxjLnByb3RvdHlwZS5pbml0aWFsaXplPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPW5ldyB0aGlzLl9TYW5kYm94KHRoaXMuX3RhcmdldEdsb2JhbCk7cmV0dXJuIHRoaXMuX2ZhY3RvcnkodGhpcy5fd2lkZ2V0UGFyYW1zLGUpLnRoZW4oZnVuY3Rpb24obil7cmV0dXJuIHQuX3dpZGdldD1uLHQuX3NhbmRib3g9ZSxuLl9zYW5kYm94V3JhcHBlckVsPXQuX3NhbmRib3hXcmFwcGVyRWwsbn0pfSxjLnByb3RvdHlwZS5pbnNlcnRJbnRvRG9tPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPXRoaXMuX3NhbmRib3hXcmFwcGVyRWw/IiI6W3RoaXMuX2NsYXNzTmFtZSx0aGlzLl9yZW5kZXJlZENsYXNzTmFtZV0uam9pbigiICIpO3JldHVybiB0aGlzLl93aWRnZXQ/dGhpcy5fc2FuZGJveC5pbnNlcnQodGhpcy5fd2lkZ2V0LmlkLHtjbGFzczplfSxudWxsLHRoaXMuX2luc2VydGlvblN0cmF0ZWd5KS50aGVuKGZ1bmN0aW9uKCl7dC5faW5zZXJ0ZWRJbnRvRG9tPSEwfSk6YS5yZWplY3QobmV3IEVycm9yKCJjYW5ub3QgaW5zZXJ0IHdpZGdldCBpbnRvIERPTSBiZWZvcmUgaXQgaXMgaW5pdGlhbGl6ZWQiKSl9LGMucHJvdG90eXBlLmh5ZHJhdGU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3JldHVybiB0aGlzLl93aWRnZXQ/dGhpcy5fd2lkZ2V0Lmh5ZHJhdGUoKS50aGVuKGZ1bmN0aW9uKCl7dC5faHlkcmF0ZWQ9ITB9KTphLnJlamVjdChuZXcgRXJyb3IoImNhbm5vdCBoeWRyYXRlIHdpZGdldCBiZWZvcmUgaXQgaXMgaW5pdGlhbGl6ZWQiKSl9LGMucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbigpe3ZhciB0PXRoaXM7ZnVuY3Rpb24gZShlKXt2YXIgbj10Ll9zYW5kYm94V3JhcHBlckVsP3QuX3NhbmRib3hXcmFwcGVyRWw6dC5fc2FuZGJveC5zYW5kYm94RWw7cmV0dXJuIHMobikudGhlbihmdW5jdGlvbigpe3JldHVybiBhLnJlamVjdChlKX0pfXJldHVybiB0aGlzLl9oeWRyYXRlZD90aGlzLl9pbnNlcnRlZEludG9Eb20/dC5fd2lkZ2V0LnJlbmRlcih0Ll9zYW5kYm94KS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIHQuX3NhbmRib3gub25SZXNpemUoZnVuY3Rpb24oKXtyZXR1cm4gdC5fd2lkZ2V0LnJlc2l6ZSgpLnRoZW4oZnVuY3Rpb24oKXt2YXIgZT10Ll9zYW5kYm94V3JhcHBlckVsP3QuX3NhbmRib3hXcmFwcGVyRWw6dC5fc2FuZGJveC5zYW5kYm94RWw7by50cmlnZ2VyKCJyZXNpemUiLHt0YXJnZXQ6ZX0pfSl9KSx0Ll93aWRnZXQuc2hvdygpfSkudGhlbihmdW5jdGlvbigpe3JldHVybiBzKHQuX3NyY0VsKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIHQuX3NhbmRib3guc2FuZGJveEVsfSl9LGUpOmUobmV3IEVycm9yKCJjYW5ub3QgcmVuZGVyIHdpZGdldCBiZWZvcmUgRE9NIGluc2VydGlvbiIpKTplKG5ldyBFcnJvcigiY2Fubm90IHJlbmRlciB3aWRnZXQgYmVmb3JlIGh5ZHJhdGlvbiIpKX0sYy5wcm90b3R5cGUuZmFpbD1mdW5jdGlvbigpe3ZhciB0PXRoaXMsZT10Ll9lcnJvckNsYXNzTmFtZSxuPXQuX3NhbmRib3hXcmFwcGVyRWw/dC5fc2FuZGJveFdyYXBwZXJFbDp0Ll9zcmNFbDtyZXR1cm4gdGhpcy5fc3JjRWw/dS5hbHdheXMoaS53cml0ZShmdW5jdGlvbigpe3IuYWRkKG4sZSl9KSxmdW5jdGlvbigpe28udHJpZ2dlcigicmVuZGVyZWQiLHt0YXJnZXQ6bn0pLHQuX3Jlc29sdmUobil9KToodC5fcmVzb2x2ZSgpLGEucmVzb2x2ZSgpKX0sYy5wcm90b3R5cGUuc3VjY2Vzcz1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX3NhbmRib3hXcmFwcGVyRWw/dGhpcy5fc2FuZGJveFdyYXBwZXJFbDp0aGlzLl9zYW5kYm94LnNhbmRib3hFbDtvLnRyaWdnZXIoInJlbmRlcmVkIix7dGFyZ2V0OnR9KSx0aGlzLl9yZXNvbHZlKHQpfSx0LmV4cG9ydHM9Y30sZnVuY3Rpb24odCxlLG4pe3ZhciByOyFmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0Ijt2YXIgaT13aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lfHx3aW5kb3cud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lfHx3aW5kb3cubW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lfHx3aW5kb3cubXNSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fGZ1bmN0aW9uKHQpe3JldHVybiB3aW5kb3cuc2V0VGltZW91dCh0LDFlMy82MCl9O2Z1bmN0aW9uIG8oKXt0aGlzLmZyYW1lcz1bXSx0aGlzLmxhc3RJZD0wLHRoaXMucmFmPWksdGhpcy5iYXRjaD17aGFzaDp7fSxyZWFkOltdLHdyaXRlOltdLG1vZGU6bnVsbH19by5wcm90b3R5cGUucmVhZD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuYWRkKCJyZWFkIix0LGUpLHI9bi5pZDtyZXR1cm4gdGhpcy5iYXRjaC5yZWFkLnB1c2gobi5pZCksInJlYWRpbmciPT09dGhpcy5iYXRjaC5tb2RlfHx0aGlzLmJhdGNoLnNjaGVkdWxlZD9yOih0aGlzLnNjaGVkdWxlQmF0Y2goKSxyKX0sby5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLmFkZCgid3JpdGUiLHQsZSkscj10aGlzLmJhdGNoLm1vZGUsaT1uLmlkO3JldHVybiB0aGlzLmJhdGNoLndyaXRlLnB1c2gobi5pZCksIndyaXRpbmciPT09cnx8InJlYWRpbmciPT09cnx8dGhpcy5iYXRjaC5zY2hlZHVsZWQ/aToodGhpcy5zY2hlZHVsZUJhdGNoKCksaSl9LG8ucHJvdG90eXBlLmRlZmVyPWZ1bmN0aW9uKHQsZSxuKXsiZnVuY3Rpb24iPT10eXBlb2YgdCYmKG49ZSxlPXQsdD0xKTt2YXIgcj10aGlzLGk9dC0xO3JldHVybiB0aGlzLnNjaGVkdWxlKGksZnVuY3Rpb24oKXtyLnJ1bih7Zm46ZSxjdHg6bn0pfSl9LG8ucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKHQpe2lmKCJmdW5jdGlvbiI9PXR5cGVvZiB0KXJldHVybiB0aGlzLmNsZWFyRnJhbWUodCk7dD1OdW1iZXIodCk7dmFyIGU9dGhpcy5iYXRjaC5oYXNoW3RdO2lmKGUpe3ZhciBuPXRoaXMuYmF0Y2hbZS50eXBlXSxyPW4uaW5kZXhPZih0KTtkZWxldGUgdGhpcy5iYXRjaC5oYXNoW3RdLH5yJiZuLnNwbGljZShyLDEpfX0sby5wcm90b3R5cGUuY2xlYXJGcmFtZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmZyYW1lcy5pbmRleE9mKHQpO35lJiZ0aGlzLmZyYW1lcy5zcGxpY2UoZSwxKX0sby5wcm90b3R5cGUuc2NoZWR1bGVCYXRjaD1mdW5jdGlvbigpe3ZhciB0PXRoaXM7dGhpcy5zY2hlZHVsZSgwLGZ1bmN0aW9uKCl7dC5iYXRjaC5zY2hlZHVsZWQ9ITEsdC5ydW5CYXRjaCgpfSksdGhpcy5iYXRjaC5zY2hlZHVsZWQ9ITB9LG8ucHJvdG90eXBlLnVuaXF1ZUlkPWZ1bmN0aW9uKCl7cmV0dXJuKyt0aGlzLmxhc3RJZH0sby5wcm90b3R5cGUuZmx1c2g9ZnVuY3Rpb24odCl7Zm9yKHZhciBlO2U9dC5zaGlmdCgpOyl0aGlzLnJ1bih0aGlzLmJhdGNoLmhhc2hbZV0pfSxvLnByb3RvdHlwZS5ydW5CYXRjaD1mdW5jdGlvbigpe3RyeXt0aGlzLmJhdGNoLm1vZGU9InJlYWRpbmciLHRoaXMuZmx1c2godGhpcy5iYXRjaC5yZWFkKSx0aGlzLmJhdGNoLm1vZGU9IndyaXRpbmciLHRoaXMuZmx1c2godGhpcy5iYXRjaC53cml0ZSksdGhpcy5iYXRjaC5tb2RlPW51bGx9Y2F0Y2godCl7dGhyb3cgdGhpcy5ydW5CYXRjaCgpLHR9fSxvLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24odCxlLG4pe3ZhciByPXRoaXMudW5pcXVlSWQoKTtyZXR1cm4gdGhpcy5iYXRjaC5oYXNoW3JdPXtpZDpyLGZuOmUsY3R4Om4sdHlwZTp0fX0sby5wcm90b3R5cGUucnVuPWZ1bmN0aW9uKHQpe3ZhciBlPXQuY3R4fHx0aGlzLG49dC5mbjtpZihkZWxldGUgdGhpcy5iYXRjaC5oYXNoW3QuaWRdLCF0aGlzLm9uRXJyb3IpcmV0dXJuIG4uY2FsbChlKTt0cnl7bi5jYWxsKGUpfWNhdGNoKHQpe3RoaXMub25FcnJvcih0KX19LG8ucHJvdG90eXBlLmxvb3A9ZnVuY3Rpb24oKXt2YXIgdCxlPXRoaXMsbj10aGlzLnJhZixyPSExO2Z1bmN0aW9uIGkoKXt2YXIgdD1lLmZyYW1lcy5zaGlmdCgpO2UuZnJhbWVzLmxlbmd0aD9uKGkpOmUubG9vcGluZz0hMSx0JiZ0KCl9dGhpcy5sb29waW5nfHwodD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cj0hMCxpKCl9LDUwMCksbihmdW5jdGlvbigpe3J8fChjbGVhclRpbWVvdXQodCksaSgpKX0pLHRoaXMubG9vcGluZz0hMCl9LG8ucHJvdG90eXBlLnNjaGVkdWxlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuZnJhbWVzW3RdP3RoaXMuc2NoZWR1bGUodCsxLGUpOih0aGlzLmxvb3AoKSx0aGlzLmZyYW1lc1t0XT1lKX07dmFyIHM9bmV3IG87dm9pZCAwIT09dCYmdC5leHBvcnRzP3QuZXhwb3J0cz1zOnZvaWQgMD09PShyPWZ1bmN0aW9uKCl7cmV0dXJuIHN9LmNhbGwoZSxuLGUsdCkpfHwodC5leHBvcnRzPXIpfSgpfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigyKSxpPW4oMTAwKSxvPW4oNyk7ZnVuY3Rpb24gcyh0KXt0aGlzLl9pbnB1dHNRdWV1ZT1bXSx0aGlzLl90YXNrPXQsdGhpcy5faGFzRmx1c2hCZWVuU2NoZWR1bGVkPSExfXMucHJvdG90eXBlLmFkZD1mdW5jdGlvbih0KXt2YXIgZT1uZXcgcjtyZXR1cm4gdGhpcy5faW5wdXRzUXVldWUucHVzaCh7aW5wdXQ6dCx0YXNrRG9uZURlZmVycmVkOmV9KSx0aGlzLl9oYXNGbHVzaEJlZW5TY2hlZHVsZWR8fCh0aGlzLl9oYXNGbHVzaEJlZW5TY2hlZHVsZWQ9ITAsaShvKHRoaXMuX2ZsdXNoLHRoaXMpKSksZS5wcm9taXNlfSxzLnByb3RvdHlwZS5fZmx1c2g9ZnVuY3Rpb24oKXt0cnl7dGhpcy5fdGFzay5jYWxsKG51bGwsdGhpcy5faW5wdXRzUXVldWUpfWNhdGNoKHQpe3RoaXMuX2lucHV0c1F1ZXVlLmZvckVhY2goZnVuY3Rpb24oZSl7ZS50YXNrRG9uZURlZmVycmVkLnJlamVjdCh0KX0pfXRoaXMuX2lucHV0c1F1ZXVlPVtdLHRoaXMuX2hhc0ZsdXNoQmVlblNjaGVkdWxlZD0hMX0sdC5leHBvcnRzPXN9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDQ5KS5Qcm9taXNlO3QuZXhwb3J0cz1yLl9hc2FwfSxmdW5jdGlvbih0LGUsbil7dmFyIHIsaSxvLHM9big0KSxhPW4oMSksdT1uKDMxKSxjPW4oMTkpLGQ9bigyKSxsPW4oNiksZj1uKDU1KSxoPW4oMzcpLHA9bigwKSxtPW4oMjYpLHY9big4KS5nZXQoInNjcmliZUNhbGxiYWNrIiksZz1NYXRoLmZsb29yKDFlMypNYXRoLnJhbmRvbSgpKSsiXyIsdz0icnVmb3VzLWZyYW1lLSIrZysiLSIseT0icnVmb3VzLWZvcm0tIitnKyItIixiPTAsXz0hMSxFPW5ldyBkO2Z1bmN0aW9uIHgoKXt2YXIgdD1vLmNyZWF0ZUVsZW1lbnQoImZvcm0iKSxlPW8uY3JlYXRlRWxlbWVudCgiaW5wdXQiKSxuPW8uY3JlYXRlRWxlbWVudCgiaW5wdXQiKTtyZXR1cm4gYisrLHQuYWN0aW9uPWguQ0xJRU5UX0VWRU5UX0VORFBPSU5ULHQubWV0aG9kPSJQT1NUIix0LnRhcmdldD13K2IsdC5pZD15K2IsZS50eXBlPSJoaWRkZW4iLGUubmFtZT0iZG50IixlLnZhbHVlPWMuZW5hYmxlZCgpLG4udHlwZT0iaGlkZGVuIixuLm5hbWU9InRmd19yZWRpcmVjdCIsbi52YWx1ZT1oLlJVRk9VU19SRURJUkVDVCx0LmFwcGVuZENoaWxkKGUpLHQuYXBwZW5kQ2hpbGQobiksdH1mdW5jdGlvbiBUKCl7dmFyIHQ9dytiO3JldHVybiB1KHtpZDp0LG5hbWU6dCx3aWR0aDowLGhlaWdodDowLGJvcmRlcjowfSx7ZGlzcGxheToibm9uZSJ9LG8uZG9jKX10LmV4cG9ydHM9e2NsaWVudEV2ZW50OmZ1bmN0aW9uKHQsZSxuLGkpeyhmdW5jdGlvbih0LGUpe3ZhciBuPSFwLmlzT2JqZWN0KHQpLHI9ISFlJiYhcC5pc09iamVjdChlKSxpPW58fHI7cmV0dXJuIGl9KSh0LGUpfHwodiYmdihhcmd1bWVudHMpLEUucHJvbWlzZS50aGVuKGZ1bmN0aW9uKCl7IWZ1bmN0aW9uKHQsZSl7dmFyIG4saSxzO3AuaXNPYmplY3QodCkmJnAuaXNPYmplY3QoZSkmJihmLmxvZyh0LGUpLHM9aC5mbGF0dGVuQ2xpZW50RXZlbnRQYXlsb2FkKHQsZSksKG49ci5maXJzdENoaWxkKS52YWx1ZT0rKCtuLnZhbHVlfHxzLmRudHx8MCksKGk9by5jcmVhdGVFbGVtZW50KCJpbnB1dCIpKS50eXBlPSJoaWRkZW4iLGkubmFtZT0ibCIsaS52YWx1ZT1oLnN0cmluZ2lmeShzKSxyLmFwcGVuZENoaWxkKGkpKX0oaC5mb3JtYXRDbGllbnRFdmVudE5hbWVzcGFjZSh0KSxoLmZvcm1hdENsaWVudEV2ZW50RGF0YShlLG4saSkpfSkpfSxmbHVzaDpmdW5jdGlvbigpe3JldHVybiBFLnByb21pc2UudGhlbihmdW5jdGlvbigpe3ZhciB0O3JldHVybiByLmNoaWxkcmVuLmxlbmd0aDw9Mj9sLnJlamVjdCgpOih0PWwuYWxsKFtvLmRvYy5ib2R5LmFwcGVuZENoaWxkKHIpLG8uZG9jLmJvZHkuYXBwZW5kQ2hpbGQoaSldKS50aGVuKGZ1bmN0aW9uKHQpe3ZhciBlPXRbMF0sbj10WzFdO3JldHVybiBuLmFkZEV2ZW50TGlzdGVuZXIoImxvYWQiLGZ1bmN0aW9uKCl7IWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIG49dC5wYXJlbnROb2RlO24mJihuLnJlbW92ZUNoaWxkKHQpLG4ucmVtb3ZlQ2hpbGQoZSkpfX0oZSxuKSgpfSksZS5zdWJtaXQoKSx0fSkscj14KCksaT1UKCksdCl9KX0saW5pdDpmdW5jdGlvbigpe3JldHVybiBfP0UucHJvbWlzZTooKG89bmV3IG0oYSkpLmluc2VydCgicnVmb3VzLXNhbmRib3giLG51bGwse2Rpc3BsYXk6Im5vbmUifSxmdW5jdGlvbih0KXtzLmJvZHkuYXBwZW5kQ2hpbGQodCl9KS50aGVuKGZ1bmN0aW9uKCl7by5zZXRUaXRsZSgiVHdpdHRlciBhbmFseXRpY3MgaWZyYW1lIikscj14KCksaT1UKCksRS5yZXNvbHZlKFtyLGldKX0pLF89ITAsRS5wcm9taXNlKX19fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9big5KSxpPS9eW14jP10qXC4oZ292fG1pbCkoOlxkKyk/KFsjP10uKik/JC9pLG89e307ZnVuY3Rpb24gcyh0KXtyZXR1cm4gdCBpbiBvP29bdF06b1t0XT1pLnRlc3QodCl9dC5leHBvcnRzPXtpc1VybFNlbnNpdGl2ZTpzLGlzSG9zdFBhZ2VTZW5zaXRpdmU6ZnVuY3Rpb24oKXtyZXR1cm4gcyhyLmhvc3QpfX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDApO3QuZXhwb3J0cz1mdW5jdGlvbiB0KGUpe3ZhciBuPVtdO3JldHVybiBlLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIGk9ci5pc1R5cGUoImFycmF5IixlKT90KGUpOltlXTtuPW4uY29uY2F0KGkpfSksbn19LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiB0LmZpbHRlcihmdW5jdGlvbihlLG4pe3JldHVybiB0LmluZGV4T2YoZSk9PT1ufSl9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9big0MCksaT1uKDApLG89bigxMDcpO2Z1bmN0aW9uIHMoKXtyLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1zLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHIucHJvdG90eXBlKSxpLmF1ZyhzLnByb3RvdHlwZSx7ZmFjdG9yeTpvfSksdC5leHBvcnRzPXN9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDI0KSxpPW4oMCksbz1uKDcpO3QuZXhwb3J0cz17YmVmb3JlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIG4saT10aGlzLG89YXJndW1lbnRzO3JldHVybiBuPWUuYXBwbHkodGhpcyxhcmd1bWVudHMpLHIuaXNQcm9taXNlKG4pP24udGhlbihmdW5jdGlvbigpe3JldHVybiB0LmFwcGx5KGksbyl9KTp0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX19LGFmdGVyOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIG4saT10aGlzLG89YXJndW1lbnRzO2Z1bmN0aW9uIHModCxlKXtyZXR1cm4gci5pc1Byb21pc2UoZSk/ZS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIHR9KTp0fXJldHVybiBuPXQuYXBwbHkodGhpcyxhcmd1bWVudHMpLHIuaXNQcm9taXNlKG4pP24udGhlbihmdW5jdGlvbih0KXtyZXR1cm4gcyh0LGUuYXBwbHkoaSxvKSl9KTpzKG4sZS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfX0sYXJvdW5kOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIG49aS50b1JlYWxBcnJheShhcmd1bWVudHMpO3JldHVybiBuLnVuc2hpZnQobyh0LHRoaXMpKSxlLmFwcGx5KHRoaXMsbil9fX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDEwKSxpPW4oMTgpLG89big0MSkscz1uKDYpLGE9bigwKTt0LmV4cG9ydHM9ZnVuY3Rpb24oKXt2YXIgdD1vKCk7ZnVuY3Rpb24gZShlKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywidGFyZ2V0R2xvYmFsIix7dmFsdWU6ZX0pfXJldHVybiBlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQucHJvdG90eXBlKSxhLmF1ZyhlLnByb3RvdHlwZSx7aWQ6bnVsbCxpbml0aWFsaXplZDohMSx3aWR0aDowLGhlaWdodDowLHNhbmRib3hFbDpudWxsLGluc2VydDpmdW5jdGlvbigpe3JldHVybiBzLnJlamVjdCgpfSxvblJlc2l6ZTpmdW5jdGlvbigpe30sYWRkQ2xhc3M6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5zYW5kYm94RWw7cmV0dXJuIHQ9QXJyYXkuaXNBcnJheSh0KT90Olt0XSxpLndyaXRlKGZ1bmN0aW9uKCl7dC5mb3JFYWNoKGZ1bmN0aW9uKHQpe3IuYWRkKGUsdCl9KX0pfSxyZW1vdmVDbGFzczpmdW5jdGlvbih0KXt2YXIgZT10aGlzLnNhbmRib3hFbDtyZXR1cm4gdD1BcnJheS5pc0FycmF5KHQpP3Q6W3RdLGkud3JpdGUoZnVuY3Rpb24oKXt0LmZvckVhY2goZnVuY3Rpb24odCl7ci5yZW1vdmUoZSx0KX0pfSl9LHN0eWxlU2VsZjpmdW5jdGlvbih0KXt2YXIgZT10aGlzO3JldHVybiBpLndyaXRlKGZ1bmN0aW9uKCl7YS5mb3JJbih0LGZ1bmN0aW9uKHQsbil7ZS5zYW5kYm94RWwuc3R5bGVbdF09bn0pfSl9fSksZX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDQpLGk9bigxMCksbz1uKDE4KSxzPW4oNTYpLGE9bigyNyksdT1uKDU3KSxjPW4oNDMpLGQ9big0NCksbD1uKDMxKSxmPW4oMTIpLGg9big0NykscD1uKDIpLG09big2KSx2PW4oMCksZz1uKDgpLHc9bigyMikseT1uKDcpLGI9e2FsbG93ZnVsbHNjcmVlbjoidHJ1ZSJ9LF89e3Bvc2l0aW9uOiJhYnNvbHV0ZSIsdmlzaWJpbGl0eToiaGlkZGVuIixkaXNwbGF5OiJibG9jayIsd2lkdGg6IjBweCIsaGVpZ2h0OiIwcHgiLHBhZGRpbmc6IjAiLGJvcmRlcjoibm9uZSJ9LEU9e3Bvc2l0aW9uOiJzdGF0aWMiLHZpc2liaWxpdHk6InZpc2libGUifSx4PSJTYW5kYm94Um9vdCIsVD0iLlNhbmRib3hSb290IHsgZGlzcGxheTogbm9uZTsgfSIsQT01MDtmdW5jdGlvbiBTKHQsZSxuLHIpe3JldHVybiBlPXYuYXVnKHtpZDp0fSxiLGUpLG49di5hdWcoe30sXyxuKSxsKGUsbixyKX1mdW5jdGlvbiBSKHQsZSxuLGkscyl7dmFyIGE9bmV3IHAsdT13LmdlbmVyYXRlKCksYz1TKHQsZSxuLHMpO3JldHVybiBnLnNldChbInNhbmRib3giLHVdLGZ1bmN0aW9uKCl7dmFyIHQ9Yy5jb250ZW50V2luZG93LmRvY3VtZW50O28ud3JpdGUoZnVuY3Rpb24oKXt0LndyaXRlKCI8IURPQ1RZUEUgaHRtbD48aHRtbD48aGVhZD48L2hlYWQ+PGJvZHk+PC9ib2R5PjwvaHRtbD4iKX0pLnRoZW4oZnVuY3Rpb24oKXt0LmNsb3NlKCksYS5yZXNvbHZlKGMpfSl9KSxjLnNyYz1bImphdmFzY3JpcHQ6IiwnZG9jdW1lbnQud3JpdGUoIiIpOycsInRyeSB7IHdpbmRvdy5wYXJlbnQuZG9jdW1lbnQ7IH0iLCdjYXRjaCAoZSkgeyBkb2N1bWVudC5kb21haW49Iicrci5kb21haW4rJyI7IH0nLCJ3aW5kb3cucGFyZW50LiIrZy5mdWxsUGF0aChbInNhbmRib3giLHVdKSsiKCk7Il0uam9pbigiIiksYy5hZGRFdmVudExpc3RlbmVyKCJlcnJvciIsYS5yZWplY3QsITEpLG8ud3JpdGUoZnVuY3Rpb24oKXtpLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKGMsaSl9KSxhLnByb21pc2V9dC5leHBvcnRzPWEuY291cGxlKG4oNTgpLGZ1bmN0aW9uKHQpe3Qub3ZlcnJpZGVQcm9wZXJ0eSgiaWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zYW5kYm94RWwmJnRoaXMuc2FuZGJveEVsLmlkfX0pLHQub3ZlcnJpZGVQcm9wZXJ0eSgiaW5pdGlhbGl6ZWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMud2lufX0pLHQub3ZlcnJpZGVQcm9wZXJ0eSgid2lkdGgiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fd2lkdGh9fSksdC5vdmVycmlkZVByb3BlcnR5KCJoZWlnaHQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faGVpZ2h0fX0pLHQub3ZlcnJpZGVQcm9wZXJ0eSgic2FuZGJveEVsIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaWZyYW1lRWx9fSksdC5kZWZpbmVQcm9wZXJ0eSgiaWZyYW1lRWwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faWZyYW1lfX0pLHQuZGVmaW5lUHJvcGVydHkoInJvb3RFbCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRvYyYmdGhpcy5kb2MuZG9jdW1lbnRFbGVtZW50fX0pLHQuZGVmaW5lUHJvcGVydHkoIndpZGdldEVsIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZG9jJiZ0aGlzLmRvYy5ib2R5LmZpcnN0RWxlbWVudENoaWxkfX0pLHQuZGVmaW5lUHJvcGVydHkoIndpbiIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlmcmFtZUVsJiZ0aGlzLmlmcmFtZUVsLmNvbnRlbnRXaW5kb3d9fSksdC5kZWZpbmVQcm9wZXJ0eSgiZG9jIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMud2luJiZ0aGlzLndpbi5kb2N1bWVudH19KSx0LmRlZmluZSgiX3VwZGF0ZUNhY2hlZERpbWVuc2lvbnMiLGZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztyZXR1cm4gby5yZWFkKGZ1bmN0aW9uKCl7dmFyIGUsbj1oKHQuc2FuZGJveEVsKTsidmlzaWJsZSI9PXQuc2FuZGJveEVsLnN0eWxlLnZpc2liaWxpdHk/dC5fd2lkdGg9bi53aWR0aDooZT1oKHQuc2FuZGJveEVsLnBhcmVudEVsZW1lbnQpLndpZHRoLHQuX3dpZHRoPU1hdGgubWluKG4ud2lkdGgsZSkpLHQuX2hlaWdodD1uLmhlaWdodH0pfSksdC5kZWZpbmUoIl9zZXRUYXJnZXRUb0JsYW5rIixmdW5jdGlvbigpe3ZhciB0PXRoaXMuY3JlYXRlRWxlbWVudCgiYmFzZSIpO3QudGFyZ2V0PSJfYmxhbmsiLHRoaXMuZG9jLmhlYWQuYXBwZW5kQ2hpbGQodCl9KSx0LmRlZmluZSgiX2RpZFJlc2l6ZSIsZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9dGhpcy5fcmVzaXplSGFuZGxlcnMuc2xpY2UoMCk7cmV0dXJuIHRoaXMuX3VwZGF0ZUNhY2hlZERpbWVuc2lvbnMoKS50aGVuKGZ1bmN0aW9uKCl7ZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UodCl9KX0pfSksdC5kZWZpbmUoInNldFRpdGxlIixmdW5jdGlvbih0KXt0aGlzLmlmcmFtZUVsLnRpdGxlPXR9KSx0Lm92ZXJyaWRlKCJjcmVhdGVFbGVtZW50IixmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5kb2MuY3JlYXRlRWxlbWVudCh0KX0pLHQub3ZlcnJpZGUoImNyZWF0ZUZyYWdtZW50IixmdW5jdGlvbigpe3JldHVybiB0aGlzLmRvYy5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCl9KSx0Lm92ZXJyaWRlKCJodG1sVG9FbGVtZW50IixmdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4oZT10aGlzLmNyZWF0ZUVsZW1lbnQoImRpdiIpKS5pbm5lckhUTUw9dCxlLmZpcnN0RWxlbWVudENoaWxkfSksdC5vdmVycmlkZSgiaGFzU2VsZWN0ZWRUZXh0IixmdW5jdGlvbigpe3JldHVybiEhcy5nZXRTZWxlY3RlZFRleHQodGhpcy53aW4pfSksdC5vdmVycmlkZSgiYWRkUm9vdENsYXNzIixmdW5jdGlvbih0KXt2YXIgZT10aGlzLnJvb3RFbDtyZXR1cm4gdD1BcnJheS5pc0FycmF5KHQpP3Q6W3RdLHRoaXMuaW5pdGlhbGl6ZWQ/by53cml0ZShmdW5jdGlvbigpe3QuZm9yRWFjaChmdW5jdGlvbih0KXtpLmFkZChlLHQpfSl9KTptLnJlamVjdChuZXcgRXJyb3IoInNhbmRib3ggbm90IGluaXRpYWxpemVkIikpfSksdC5vdmVycmlkZSgicmVtb3ZlUm9vdENsYXNzIixmdW5jdGlvbih0KXt2YXIgZT10aGlzLnJvb3RFbDtyZXR1cm4gdD1BcnJheS5pc0FycmF5KHQpP3Q6W3RdLHRoaXMuaW5pdGlhbGl6ZWQ/by53cml0ZShmdW5jdGlvbigpe3QuZm9yRWFjaChmdW5jdGlvbih0KXtpLnJlbW92ZShlLHQpfSl9KTptLnJlamVjdChuZXcgRXJyb3IoInNhbmRib3ggbm90IGluaXRpYWxpemVkIikpfSksdC5vdmVycmlkZSgiaGFzUm9vdENsYXNzIixmdW5jdGlvbih0KXtyZXR1cm4gaS5wcmVzZW50KHRoaXMucm9vdEVsLHQpfSksdC5kZWZpbmUoImFkZFN0eWxlU2hlZXQiLGZ1bmN0aW9uKHQsZSl7dmFyIG4scj1uZXcgcDtyZXR1cm4gdGhpcy5pbml0aWFsaXplZD8oKG49dGhpcy5jcmVhdGVFbGVtZW50KCJsaW5rIikpLnR5cGU9InRleHQvY3NzIixuLnJlbD0ic3R5bGVzaGVldCIsbi5ocmVmPXQsbi5hZGRFdmVudExpc3RlbmVyKCJsb2FkIixyLnJlc29sdmUsITEpLG4uYWRkRXZlbnRMaXN0ZW5lcigiZXJyb3IiLHIucmVqZWN0LCExKSxvLndyaXRlKHkoZSxudWxsLG4pKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIHUodCkudGhlbihyLnJlc29sdmUsci5yZWplY3QpLHIucHJvbWlzZX0pKTptLnJlamVjdChuZXcgRXJyb3IoInNhbmRib3ggbm90IGluaXRpYWxpemVkIikpfSksdC5vdmVycmlkZSgicHJlcGVuZFN0eWxlU2hlZXQiLGZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZG9jO3JldHVybiB0aGlzLmFkZFN0eWxlU2hlZXQodCxmdW5jdGlvbih0KXt2YXIgbj1lLmhlYWQuZmlyc3RFbGVtZW50Q2hpbGQ7cmV0dXJuIG4/ZS5oZWFkLmluc2VydEJlZm9yZSh0LG4pOmUuaGVhZC5hcHBlbmRDaGlsZCh0KX0pfSksdC5vdmVycmlkZSgiYXBwZW5kU3R5bGVTaGVldCIsZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5kb2M7cmV0dXJuIHRoaXMuYWRkU3R5bGVTaGVldCh0LGZ1bmN0aW9uKHQpe3JldHVybiBlLmhlYWQuYXBwZW5kQ2hpbGQodCl9KX0pLHQuZGVmaW5lKCJhZGRDc3MiLGZ1bmN0aW9uKHQsZSl7dmFyIG47cmV0dXJuIGMuaW5saW5lU3R5bGUoKT8oKG49dGhpcy5jcmVhdGVFbGVtZW50KCJzdHlsZSIpKS50eXBlPSJ0ZXh0L2NzcyIsbi5hcHBlbmRDaGlsZCh0aGlzLmRvYy5jcmVhdGVUZXh0Tm9kZSh0KSksby53cml0ZSh5KGUsbnVsbCxuKSkpOihmLmRldkVycm9yKCJDU1AgZW5hYmxlZDsgY2Fubm90IGVtYmVkIGlubGluZSBzdHlsZXMiKSxtLnJlc29sdmUoKSl9KSx0Lm92ZXJyaWRlKCJwcmVwZW5kQ3NzIixmdW5jdGlvbih0KXt2YXIgZT10aGlzLmRvYztyZXR1cm4gdGhpcy5hZGRDc3ModCxmdW5jdGlvbih0KXt2YXIgbj1lLmhlYWQuZmlyc3RFbGVtZW50Q2hpbGQ7cmV0dXJuIG4/ZS5oZWFkLmluc2VydEJlZm9yZSh0LG4pOmUuaGVhZC5hcHBlbmRDaGlsZCh0KX0pfSksdC5vdmVycmlkZSgiYXBwZW5kQ3NzIixmdW5jdGlvbih0KXt2YXIgZT10aGlzLmRvYztyZXR1cm4gdGhpcy5hZGRDc3ModCxmdW5jdGlvbih0KXtyZXR1cm4gZS5oZWFkLmFwcGVuZENoaWxkKHQpfSl9KSx0Lm92ZXJyaWRlKCJtYWtlVmlzaWJsZSIsZnVuY3Rpb24oKXt2YXIgdD10aGlzO3JldHVybiB0aGlzLnN0eWxlU2VsZihFKS50aGVuKGZ1bmN0aW9uKCl7dC5fdXBkYXRlQ2FjaGVkRGltZW5zaW9ucygpfSl9KSx0Lm92ZXJyaWRlKCJpbmplY3RXaWRnZXRFbCIsZnVuY3Rpb24odCl7dmFyIGU9dGhpcztyZXR1cm4gdGhpcy5pbml0aWFsaXplZD90aGlzLndpZGdldEVsP20ucmVqZWN0KG5ldyBFcnJvcigid2lkZ2V0IGFscmVhZHkgaW5qZWN0ZWQiKSk6by53cml0ZShmdW5jdGlvbigpe2UuZG9jLmJvZHkuYXBwZW5kQ2hpbGQodCl9KTptLnJlamVjdChuZXcgRXJyb3IoInNhbmRib3ggbm90IGluaXRpYWxpemVkIikpfSksdC5vdmVycmlkZSgibWF0Y2hIZWlnaHRUb0NvbnRlbnQiLGZ1bmN0aW9uKCl7dmFyIHQsZT10aGlzO3JldHVybiBvLnJlYWQoZnVuY3Rpb24oKXt0PWUud2lkZ2V0RWw/aChlLndpZGdldEVsKS5oZWlnaHQ6MH0pLG8ud3JpdGUoZnVuY3Rpb24oKXtlLnNhbmRib3hFbC5zdHlsZS5oZWlnaHQ9dCsicHgifSkudGhlbihmdW5jdGlvbigpe3JldHVybiBlLl91cGRhdGVDYWNoZWREaW1lbnNpb25zKCl9KX0pLHQub3ZlcnJpZGUoIm1hdGNoV2lkdGhUb0NvbnRlbnQiLGZ1bmN0aW9uKCl7dmFyIHQsZT10aGlzO3JldHVybiBvLnJlYWQoZnVuY3Rpb24oKXt0PWUud2lkZ2V0RWw/aChlLndpZGdldEVsKS53aWR0aDowfSksby53cml0ZShmdW5jdGlvbigpe2Uuc2FuZGJveEVsLnN0eWxlLndpZHRoPXQrInB4In0pLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gZS5fdXBkYXRlQ2FjaGVkRGltZW5zaW9ucygpfSl9KSx0LmFmdGVyKCJpbml0aWFsaXplIixmdW5jdGlvbigpe3RoaXMuX2lmcmFtZT1udWxsLHRoaXMuX3dpZHRoPXRoaXMuX2hlaWdodD0wLHRoaXMuX3Jlc2l6ZUhhbmRsZXJzPVtdfSksdC5vdmVycmlkZSgiaW5zZXJ0IixmdW5jdGlvbih0LGUsbixyKXt2YXIgaT10aGlzLHM9bmV3IHAsYT10aGlzLnRhcmdldEdsb2JhbC5kb2N1bWVudCx1PVModCxlLG4sYSk7cmV0dXJuIG8ud3JpdGUoeShyLG51bGwsdSkpLHUuYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIsZnVuY3Rpb24oKXsoZnVuY3Rpb24odCl7dHJ5e3QuY29udGVudFdpbmRvdy5kb2N1bWVudH1jYXRjaCh0KXtyZXR1cm4gbS5yZWplY3QodCl9cmV0dXJuIG0ucmVzb2x2ZSh0KX0pKHUpLnRoZW4obnVsbCx5KFIsbnVsbCx0LGUsbix1LGEpKS50aGVuKHMucmVzb2x2ZSxzLnJlamVjdCl9LCExKSx1LmFkZEV2ZW50TGlzdGVuZXIoImVycm9yIixzLnJlamVjdCwhMSkscy5wcm9taXNlLnRoZW4oZnVuY3Rpb24odCl7dmFyIGU9ZChpLl9kaWRSZXNpemUsQSxpKTtyZXR1cm4gaS5faWZyYW1lPXQsaS53aW4uYWRkRXZlbnRMaXN0ZW5lcigicmVzaXplIixlLCExKSxtLmFsbChbaS5fc2V0VGFyZ2V0VG9CbGFuaygpLGkuYWRkUm9vdENsYXNzKHgpLGkucHJlcGVuZENzcyhUKV0pfSl9KSx0Lm92ZXJyaWRlKCJvblJlc2l6ZSIsZnVuY3Rpb24odCl7dGhpcy5fcmVzaXplSGFuZGxlcnMucHVzaCh0KX0pLHQuYWZ0ZXIoInN0eWxlU2VsZiIsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdXBkYXRlQ2FjaGVkRGltZW5zaW9ucygpfSl9KX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoInVuaW1wbGVtZW50ZWQgbWV0aG9kIil9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigyKSxpPW4oNyksbz0xMDAscz0zZTM7ZnVuY3Rpb24gYSh0LGUpe3RoaXMuX2lucHV0c1F1ZXVlPVtdLHRoaXMuX3Rhc2s9dCx0aGlzLl9pc1BhdXNlZD0hMSx0aGlzLl9mbHVzaERlbGF5PWUmJmUuZmx1c2hEZWxheXx8byx0aGlzLl9wYXVzZUxlbmd0aD1lJiZlLnBhdXNlTGVuZ3RofHxzLHRoaXMuX2ZsdXNoVGltZW91dD12b2lkIDB9YS5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyByO3JldHVybiB0aGlzLl9pbnB1dHNRdWV1ZS5wdXNoKHtpbnB1dDp0LHRhc2tEb25lRGVmZXJyZWQ6ZX0pLHRoaXMuX3NjaGVkdWxlRmx1c2goKSxlLnByb21pc2V9LGEucHJvdG90eXBlLl9zY2hlZHVsZUZsdXNoPWZ1bmN0aW9uKCl7dGhpcy5faXNQYXVzZWR8fChjbGVhclRpbWVvdXQodGhpcy5fZmx1c2hUaW1lb3V0KSx0aGlzLl9mbHVzaFRpbWVvdXQ9c2V0VGltZW91dChpKHRoaXMuX2ZsdXNoLHRoaXMpLHRoaXMuX2ZsdXNoRGVsYXkpKX0sYS5wcm90b3R5cGUuX2ZsdXNoPWZ1bmN0aW9uKCl7dHJ5e3RoaXMuX3Rhc2suY2FsbChudWxsLHRoaXMuX2lucHV0c1F1ZXVlKX1jYXRjaCh0KXt0aGlzLl9pbnB1dHNRdWV1ZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UudGFza0RvbmVEZWZlcnJlZC5yZWplY3QodCl9KX10aGlzLl9pbnB1dHNRdWV1ZT1bXSx0aGlzLl9mbHVzaFRpbWVvdXQ9dm9pZCAwfSxhLnByb3RvdHlwZS5wYXVzZT1mdW5jdGlvbih0KXtjbGVhclRpbWVvdXQodGhpcy5fZmx1c2hUaW1lb3V0KSx0aGlzLl9pc1BhdXNlZD0hMCwhdCYmdGhpcy5fcGF1c2VMZW5ndGgmJnNldFRpbWVvdXQoaSh0aGlzLnJlc3VtZSx0aGlzKSx0aGlzLl9wYXVzZUxlbmd0aCl9LGEucHJvdG90eXBlLnJlc3VtZT1mdW5jdGlvbigpe3RoaXMuX2lzUGF1c2VkPSExLHRoaXMuX3NjaGVkdWxlRmx1c2goKX0sdC5leHBvcnRzPWF9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDcyKSxpPW4oMzEpLG89bigyKSxzPW4oNCksYT1uKDIwKSx1PW4oMjEpLGM9bigyNSksZD1uKDkpLGw9bigxMiksZj1uKDExMiksaD1uKDU5KSxwPW4oOCksbT1uKDExKSx2PW4oMyksZz1uKDApLHc9bigxKSx5PWgoZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG99KSxiPXtzaG91bGRPYnRhaW5Db29raWVDb25zZW50OiExLGZlYXR1cmVzOnt9fTt0LmV4cG9ydHM9e2xvYWQ6ZnVuY3Rpb24oKXt2YXIgdCxlLG4sbztpZih1LmllOSgpfHx1LmllMTAoKXx8Imh0dHA6IiE9PWQucHJvdG9jb2wmJiJodHRwczoiIT09ZC5wcm90b2NvbClyZXR1cm4gbC5kZXZFcnJvcigiVXNpbmcgZGVmYXVsdCBzZXR0aW5ncyBkdWUgdG8gdW5zdXBwb3J0ZWQgYnJvd3NlciBvciBwcm90b2NvbC4iKSx2b2lkIHkoKS5yZXNvbHZlKCk7dD17b3JpZ2luOmQub3JpZ2lufSxhLnNldHRpbmdzKCkuaW5kZXhPZigibG9jYWxob3N0Iik+LTEmJih0LmxvY2FsU2V0dGluZ3M9ITApLGU9bS51cmwoci5yZXNvdXJjZUJhc2VVcmwrci53aWRnZXRJZnJhbWVIdG1sUGF0aCx0KSxuPWZ1bmN0aW9uKHQpe3ZhciBuLHIsaSxvO2lmKHI9di5pc1R3aXR0ZXJVUkwodC5vcmlnaW4pLGk9ZS5zdWJzdHIoMCx0Lm9yaWdpbi5sZW5ndGgpPT09dC5vcmlnaW4sbz12LmlzVHdpbWdVUkwodC5vcmlnaW4pLGkmJnJ8fG8pdHJ5eyhuPSJzdHJpbmciPT10eXBlb2YgdC5kYXRhP2MucGFyc2UodC5kYXRhKTp0LmRhdGEpLm5hbWVzcGFjZT09PWYuc2V0dGluZ3MmJihiPWcuYXVnKGIse2ZlYXR1cmVzOm4uc2V0dGluZ3MuZmVhdHVyZXMsc2Vzc2lvbklkOm4uc2Vzc2lvbklkfSkseSgpLnJlc29sdmUoKSl9Y2F0Y2godCl7bC5kZXZFcnJvcih0KX19LHcuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsbiksbz1pKHtzcmM6ZSx0aXRsZToiVHdpdHRlciBzZXR0aW5ncyBpZnJhbWUifSx7ZGlzcGxheToibm9uZSJ9KSxzLmJvZHkuYXBwZW5kQ2hpbGQobyl9LHNldHRpbmdzTG9hZGVkOmZ1bmN0aW9uKCl7dmFyIHQsZTtyZXR1cm4gdD1wLmdldCgiZXhwZXJpbWVudE92ZXJyaWRlIikseSgpLnByb21pc2UudGhlbihmdW5jdGlvbigpe3JldHVybiB0JiZ0Lm5hbWUmJnQuYXNzaWdubWVudCYmKChlPXt9KVt0Lm5hbWVdPXtidWNrZXQ6dC5hc3NpZ25tZW50fSxiLmZlYXR1cmVzPWcuYXVnKGIuZmVhdHVyZXMsZSkpLGJ9KX19fSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz17c2V0dGluZ3M6InR3dHRyLnNldHRpbmdzIn19LGZ1bmN0aW9uKHQsZSxuKXt0LmV4cG9ydHM9W24oMTE0KSxuKDEyMCksbigxMjgpLG4oMTMwKSxuKDEzMiksbigxNDcpLG4oMTQ5KV19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDExKSxpPW4oNSksbz1uKDApLHM9bigxMyksYT1uKDE0KSgpLHU9big2MSksYz0iYS50d2l0dGVyLWRtLWJ1dHRvbiI7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBhKHQsYykubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB1KGZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0QXR0cmlidXRlKCJkYXRhLXNob3ctc2NyZWVuLW5hbWUiKSxuPXModCksYT10LmdldEF0dHJpYnV0ZSgiaHJlZiIpLHU9dC5nZXRBdHRyaWJ1dGUoImRhdGEtc2NyZWVuLW5hbWUiKSxjPWU/aS5hc0Jvb2xlYW4oZSk6bnVsbCxkPXQuZ2V0QXR0cmlidXRlKCJkYXRhLXNpemUiKSxsPXIuZGVjb2RlVVJMKGEpLGY9bC5yZWNpcGllbnRfaWQsaD10LmdldEF0dHJpYnV0ZSgiZGF0YS10ZXh0Iil8fGwudGV4dCxwPXQuZ2V0QXR0cmlidXRlKCJkYXRhLXdlbGNvbWUtbWVzc2FnZS1pZCIpfHxsLndlbGNvbWVNZXNzYWdlSWQ7cmV0dXJuIG8uYXVnKG4se3NjcmVlbk5hbWU6dSxzaG93U2NyZWVuTmFtZTpjLHNpemU6ZCx0ZXh0OmgsdXNlcklkOmYsd2VsY29tZU1lc3NhZ2VJZDpwfSl9KHQpLHQucGFyZW50Tm9kZSx0KX0pfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMCk7dC5leHBvcnRzPWZ1bmN0aW9uIHQoZSl7dmFyIG47aWYoZSlyZXR1cm4gbj1lLmxhbmd8fGUuZ2V0QXR0cmlidXRlKCJkYXRhLWxhbmciKSxyLmlzVHlwZSgic3RyaW5nIixuKT9uOnQoZS5wYXJlbnRFbGVtZW50KX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDIpO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3ZhciBpPW5ldyByO3JldHVybiBuLmUoMikudGhlbihmdW5jdGlvbihyKXt2YXIgbzt0cnl7bz1uKDgzKSxpLnJlc29sdmUobmV3IG8odCxlKSl9Y2F0Y2godCl7aS5yZWplY3QodCl9fS5iaW5kKG51bGwsbikpLmNhdGNoKGZ1bmN0aW9uKHQpe2kucmVqZWN0KHQpfSksaS5wcm9taXNlfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNjIpLGk9bigyNik7dC5leHBvcnRzPXIuaXNTdXBwb3J0ZWQoKT9yOml9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDExOSksaT1uKDEpLG89bigxMCkscz1uKDM1KSxhPW4oMTgpLHU9big1NiksYz1uKDI3KSxkPW4oNTcpLGw9big0MyksZj1uKDQ3KSxoPW4oNykscD1uKDQ0KSxtPW4oNiksdj1uKDApLGc9NTAsdz17cG9zaXRpb246ImFic29sdXRlIix2aXNpYmlsaXR5OiJoaWRkZW4iLGRpc3BsYXk6ImJsb2NrIix0cmFuc2Zvcm06InJvdGF0ZSgwZGVnKSJ9LHk9e3Bvc2l0aW9uOiJzdGF0aWMiLHZpc2liaWxpdHk6InZpc2libGUifSxiPSJ0d2l0dGVyLXdpZGdldCIsXz0ib3BlbiIsRT0iU2FuZGJveFJvb3QiLHg9Ii5TYW5kYm94Um9vdCB7IGRpc3BsYXk6IG5vbmU7IG1heC1oZWlnaHQ6IDEwMDAwcHg7IH0iO3QuZXhwb3J0cz1jLmNvdXBsZShuKDU4KSxmdW5jdGlvbih0KXt0LmRlZmluZVN0YXRpYygiaXNTdXBwb3J0ZWQiLGZ1bmN0aW9uKCl7cmV0dXJuISFpLkhUTUxFbGVtZW50LnByb3RvdHlwZS5hdHRhY2hTaGFkb3cmJmwuaW5saW5lU3R5bGUoKX0pLHQub3ZlcnJpZGVQcm9wZXJ0eSgiaWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zYW5kYm94RWwmJnRoaXMuc2FuZGJveEVsLmlkfX0pLHQub3ZlcnJpZGVQcm9wZXJ0eSgiaW5pdGlhbGl6ZWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMuX3NoYWRvd0hvc3R9fSksdC5vdmVycmlkZVByb3BlcnR5KCJ3aWR0aCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl93aWR0aH19KSx0Lm92ZXJyaWRlUHJvcGVydHkoImhlaWdodCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9oZWlnaHR9fSksdC5vdmVycmlkZVByb3BlcnR5KCJzYW5kYm94RWwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2hhZG93SG9zdH19KSx0LmRlZmluZSgiX3VwZGF0ZUNhY2hlZERpbWVuc2lvbnMiLGZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztyZXR1cm4gYS5yZWFkKGZ1bmN0aW9uKCl7dmFyIGUsbj1mKHQuc2FuZGJveEVsKTsidmlzaWJsZSI9PXQuc2FuZGJveEVsLnN0eWxlLnZpc2liaWxpdHk/dC5fd2lkdGg9bi53aWR0aDooZT1mKHQuc2FuZGJveEVsLnBhcmVudEVsZW1lbnQpLndpZHRoLHQuX3dpZHRoPU1hdGgubWluKG4ud2lkdGgsZSkpLHQuX2hlaWdodD1uLmhlaWdodH0pfSksdC5kZWZpbmUoIl9kaWRSZXNpemUiLGZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPXRoaXMuX3Jlc2l6ZUhhbmRsZXJzLnNsaWNlKDApO3JldHVybiB0aGlzLl91cGRhdGVDYWNoZWREaW1lbnNpb25zKCkudGhlbihmdW5jdGlvbigpe2UuZm9yRWFjaChmdW5jdGlvbihlKXtlKHQpfSl9KX0pLHQub3ZlcnJpZGUoImNyZWF0ZUVsZW1lbnQiLGZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnRhcmdldEdsb2JhbC5kb2N1bWVudC5jcmVhdGVFbGVtZW50KHQpfSksdC5vdmVycmlkZSgiY3JlYXRlRnJhZ21lbnQiLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGFyZ2V0R2xvYmFsLmRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKX0pLHQub3ZlcnJpZGUoImh0bWxUb0VsZW1lbnQiLGZ1bmN0aW9uKHQpe3ZhciBlO3JldHVybihlPXRoaXMuY3JlYXRlRWxlbWVudCgiZGl2IikpLmlubmVySFRNTD10LGUuZmlyc3RFbGVtZW50Q2hpbGR9KSx0Lm92ZXJyaWRlKCJoYXNTZWxlY3RlZFRleHQiLGZ1bmN0aW9uKCl7cmV0dXJuISF1LmdldFNlbGVjdGVkVGV4dCh0aGlzLnRhcmdldEdsb2JhbCl9KSx0Lm92ZXJyaWRlKCJhZGRSb290Q2xhc3MiLGZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX3NoYWRvd1Jvb3RCb2R5O3JldHVybiB0PUFycmF5LmlzQXJyYXkodCk/dDpbdF0sdGhpcy5pbml0aWFsaXplZD9hLndyaXRlKGZ1bmN0aW9uKCl7dC5mb3JFYWNoKGZ1bmN0aW9uKHQpe28uYWRkKGUsdCl9KX0pOm0ucmVqZWN0KG5ldyBFcnJvcigic2FuZGJveCBub3QgaW5pdGlhbGl6ZWQiKSl9KSx0Lm92ZXJyaWRlKCJyZW1vdmVSb290Q2xhc3MiLGZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX3NoYWRvd1Jvb3RCb2R5O3JldHVybiB0PUFycmF5LmlzQXJyYXkodCk/dDpbdF0sdGhpcy5pbml0aWFsaXplZD9hLndyaXRlKGZ1bmN0aW9uKCl7dC5mb3JFYWNoKGZ1bmN0aW9uKHQpe28ucmVtb3ZlKGUsdCl9KX0pOm0ucmVqZWN0KG5ldyBFcnJvcigic2FuZGJveCBub3QgaW5pdGlhbGl6ZWQiKSl9KSx0Lm92ZXJyaWRlKCJoYXNSb290Q2xhc3MiLGZ1bmN0aW9uKHQpe3JldHVybiBvLnByZXNlbnQodGhpcy5fc2hhZG93Um9vdEJvZHksdCl9KSx0Lm92ZXJyaWRlKCJhZGRTdHlsZVNoZWV0IixmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmFkZENzcygnQGltcG9ydCB1cmwoIicrdCsnIik7JyxlKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGQodCl9KX0pLHQub3ZlcnJpZGUoInByZXBlbmRTdHlsZVNoZWV0IixmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9zaGFkb3dSb290O3JldHVybiB0aGlzLmFkZFN0eWxlU2hlZXQodCxmdW5jdGlvbih0KXt2YXIgbj1lLmZpcnN0RWxlbWVudENoaWxkO3JldHVybiBuP2UuaW5zZXJ0QmVmb3JlKHQsbik6ZS5hcHBlbmRDaGlsZCh0KX0pfSksdC5vdmVycmlkZSgiYXBwZW5kU3R5bGVTaGVldCIsZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fc2hhZG93Um9vdDtyZXR1cm4gdGhpcy5hZGRTdHlsZVNoZWV0KHQsZnVuY3Rpb24odCl7cmV0dXJuIGUuYXBwZW5kQ2hpbGQodCl9KX0pLHQub3ZlcnJpZGUoImFkZENzcyIsZnVuY3Rpb24odCxlKXt2YXIgbjtyZXR1cm4gdGhpcy5pbml0aWFsaXplZD9sLmlubGluZVN0eWxlKCk/KChuPXRoaXMuY3JlYXRlRWxlbWVudCgic3R5bGUiKSkudHlwZT0idGV4dC9jc3MiLG4uYXBwZW5kQ2hpbGQodGhpcy50YXJnZXRHbG9iYWwuZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodCkpLGEud3JpdGUoaChlLG51bGwsbikpKTptLnJlc29sdmUoKTptLnJlamVjdChuZXcgRXJyb3IoInNhbmRib3ggbm90IGluaXRpYWxpemVkIikpfSksdC5vdmVycmlkZSgicHJlcGVuZENzcyIsZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fc2hhZG93Um9vdDtyZXR1cm4gdGhpcy5hZGRDc3ModCxmdW5jdGlvbih0KXt2YXIgbj1lLmZpcnN0RWxlbWVudENoaWxkO3JldHVybiBuP2UuaW5zZXJ0QmVmb3JlKHQsbik6ZS5hcHBlbmRDaGlsZCh0KX0pfSksdC5vdmVycmlkZSgiYXBwZW5kQ3NzIixmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9zaGFkb3dSb290O3JldHVybiB0aGlzLmFkZENzcyh0LGZ1bmN0aW9uKHQpe3JldHVybiBlLmFwcGVuZENoaWxkKHQpfSl9KSx0Lm92ZXJyaWRlKCJtYWtlVmlzaWJsZSIsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdHlsZVNlbGYoeSl9KSx0Lm92ZXJyaWRlKCJpbmplY3RXaWRnZXRFbCIsZnVuY3Rpb24odCl7dmFyIGU9dGhpcztyZXR1cm4gdGhpcy5pbml0aWFsaXplZD90aGlzLl9zaGFkb3dSb290Qm9keS5maXJzdEVsZW1lbnRDaGlsZD9tLnJlamVjdChuZXcgRXJyb3IoIndpZGdldCBhbHJlYWR5IGluamVjdGVkIikpOmEud3JpdGUoZnVuY3Rpb24oKXtlLl9zaGFkb3dSb290Qm9keS5hcHBlbmRDaGlsZCh0KX0pLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gZS5fdXBkYXRlQ2FjaGVkRGltZW5zaW9ucygpfSkudGhlbihmdW5jdGlvbigpe3ZhciB0PXAoZS5fZGlkUmVzaXplLGcsZSk7bmV3IHIoZS5fc2hhZG93Um9vdEJvZHksdCl9KTptLnJlamVjdChuZXcgRXJyb3IoInNhbmRib3ggbm90IGluaXRpYWxpemVkIikpfSksdC5vdmVycmlkZSgibWF0Y2hIZWlnaHRUb0NvbnRlbnQiLGZ1bmN0aW9uKCl7cmV0dXJuIG0ucmVzb2x2ZSgpfSksdC5vdmVycmlkZSgibWF0Y2hXaWR0aFRvQ29udGVudCIsZnVuY3Rpb24oKXtyZXR1cm4gbS5yZXNvbHZlKCl9KSx0Lm92ZXJyaWRlKCJpbnNlcnQiLGZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBpPXRoaXMudGFyZ2V0R2xvYmFsLmRvY3VtZW50LG89dGhpcy5fc2hhZG93SG9zdD1pLmNyZWF0ZUVsZW1lbnQoYiksdT10aGlzLl9zaGFkb3dSb290PW8uYXR0YWNoU2hhZG93KHttb2RlOl99KSxjPXRoaXMuX3NoYWRvd1Jvb3RCb2R5PWkuY3JlYXRlRWxlbWVudCgiZGl2Iik7cmV0dXJuIHYuZm9ySW4oZXx8e30sZnVuY3Rpb24odCxlKXtvLnNldEF0dHJpYnV0ZSh0LGUpfSksby5pZD10LHUuYXBwZW5kQ2hpbGQoYykscy5kZWxlZ2F0ZShjLCJjbGljayIsIkEiLGZ1bmN0aW9uKHQsZSl7ZS5oYXNBdHRyaWJ1dGUoInRhcmdldCIpfHxlLnNldEF0dHJpYnV0ZSgidGFyZ2V0IiwiX2JsYW5rIil9KSxtLmFsbChbdGhpcy5zdHlsZVNlbGYodyksdGhpcy5hZGRSb290Q2xhc3MoRSksdGhpcy5wcmVwZW5kQ3NzKHgpLGEud3JpdGUoci5iaW5kKG51bGwsbykpXSl9KSx0Lm92ZXJyaWRlKCJvblJlc2l6ZSIsZnVuY3Rpb24odCl7dGhpcy5fcmVzaXplSGFuZGxlcnMucHVzaCh0KX0pLHQuYWZ0ZXIoImluaXRpYWxpemUiLGZ1bmN0aW9uKCl7dGhpcy5fc2hhZG93SG9zdD10aGlzLl9zaGFkb3dSb290PXRoaXMuX3NoYWRvd1Jvb3RCb2R5PW51bGwsdGhpcy5fd2lkdGg9dGhpcy5faGVpZ2h0PTAsdGhpcy5fcmVzaXplSGFuZGxlcnM9W119KSx0LmFmdGVyKCJzdHlsZVNlbGYiLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3VwZGF0ZUNhY2hlZERpbWVuc2lvbnMoKX0pfSl9LGZ1bmN0aW9uKHQsZSl7dmFyIG47KG49ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiByKHQsZSl7aWYodC5yZXNpemVkQXR0YWNoZWQpe2lmKHQucmVzaXplZEF0dGFjaGVkKXJldHVybiB2b2lkIHQucmVzaXplZEF0dGFjaGVkLmFkZChlKX1lbHNlIHQucmVzaXplZEF0dGFjaGVkPW5ldyBmdW5jdGlvbigpe3ZhciB0LGU7dGhpcy5xPVtdLHRoaXMuYWRkPWZ1bmN0aW9uKHQpe3RoaXMucS5wdXNoKHQpfSx0aGlzLmNhbGw9ZnVuY3Rpb24oKXtmb3IodD0wLGU9dGhpcy5xLmxlbmd0aDt0PGU7dCsrKXRoaXMucVt0XS5jYWxsKCl9fSx0LnJlc2l6ZWRBdHRhY2hlZC5hZGQoZSk7dC5yZXNpemVTZW5zb3I9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IiksdC5yZXNpemVTZW5zb3IuY2xhc3NOYW1lPSJyZXNpemUtc2Vuc29yIjt2YXIgbj0icG9zaXRpb246IGFic29sdXRlOyBsZWZ0OiAwOyB0b3A6IDA7IHJpZ2h0OiAwOyBib3R0b206IDA7IG92ZXJmbG93OiBoaWRkZW47IHotaW5kZXg6IC0xOyB2aXNpYmlsaXR5OiBoaWRkZW47IixyPSJwb3NpdGlvbjogYWJzb2x1dGU7IGxlZnQ6IDA7IHRvcDogMDsgdHJhbnNpdGlvbjogMHM7Ijt0LnJlc2l6ZVNlbnNvci5zdHlsZS5jc3NUZXh0PW4sdC5yZXNpemVTZW5zb3IuaW5uZXJIVE1MPSc8ZGl2IGNsYXNzPSJyZXNpemUtc2Vuc29yLWV4cGFuZCIgc3R5bGU9IicrbisnIj48ZGl2IHN0eWxlPSInK3IrJyI+PC9kaXY+PC9kaXY+PGRpdiBjbGFzcz0icmVzaXplLXNlbnNvci1zaHJpbmsiIHN0eWxlPSInK24rJyI+PGRpdiBzdHlsZT0iJytyKycgd2lkdGg6IDIwMCU7IGhlaWdodDogMjAwJSI+PC9kaXY+PC9kaXY+Jyx0LmFwcGVuZENoaWxkKHQucmVzaXplU2Vuc29yKSx7Zml4ZWQ6MSxhYnNvbHV0ZToxfVtmdW5jdGlvbih0LGUpe3JldHVybiB0LmN1cnJlbnRTdHlsZT90LmN1cnJlbnRTdHlsZVtlXTp3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZT93aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0LG51bGwpLmdldFByb3BlcnR5VmFsdWUoZSk6dC5zdHlsZVtlXX0odCwicG9zaXRpb24iKV18fCh0LnN0eWxlLnBvc2l0aW9uPSJyZWxhdGl2ZSIpO3ZhciBpLG8scz10LnJlc2l6ZVNlbnNvci5jaGlsZE5vZGVzWzBdLGE9cy5jaGlsZE5vZGVzWzBdLHU9dC5yZXNpemVTZW5zb3IuY2hpbGROb2Rlc1sxXSxjPSh1LmNoaWxkTm9kZXNbMF0sZnVuY3Rpb24oKXthLnN0eWxlLndpZHRoPXMub2Zmc2V0V2lkdGgrMTArInB4IixhLnN0eWxlLmhlaWdodD1zLm9mZnNldEhlaWdodCsxMCsicHgiLHMuc2Nyb2xsTGVmdD1zLnNjcm9sbFdpZHRoLHMuc2Nyb2xsVG9wPXMuc2Nyb2xsSGVpZ2h0LHUuc2Nyb2xsTGVmdD11LnNjcm9sbFdpZHRoLHUuc2Nyb2xsVG9wPXUuc2Nyb2xsSGVpZ2h0LGk9dC5vZmZzZXRXaWR0aCxvPXQub2Zmc2V0SGVpZ2h0fSk7YygpO3ZhciBkPWZ1bmN0aW9uKHQsZSxuKXt0LmF0dGFjaEV2ZW50P3QuYXR0YWNoRXZlbnQoIm9uIitlLG4pOnQuYWRkRXZlbnRMaXN0ZW5lcihlLG4pfSxsPWZ1bmN0aW9uKCl7dC5vZmZzZXRXaWR0aD09aSYmdC5vZmZzZXRIZWlnaHQ9PW98fHQucmVzaXplZEF0dGFjaGVkJiZ0LnJlc2l6ZWRBdHRhY2hlZC5jYWxsKCksYygpfTtkKHMsInNjcm9sbCIsbCksZCh1LCJzY3JvbGwiLGwpfXZhciBpPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KSxvPSJbb2JqZWN0IEFycmF5XSI9PT1pfHwiW29iamVjdCBOb2RlTGlzdF0iPT09aXx8IltvYmplY3QgSFRNTENvbGxlY3Rpb25dIj09PWl8fCJ1bmRlZmluZWQiIT10eXBlb2YgalF1ZXJ5JiZ0IGluc3RhbmNlb2YgalF1ZXJ5fHwidW5kZWZpbmVkIiE9dHlwZW9mIEVsZW1lbnRzJiZ0IGluc3RhbmNlb2YgRWxlbWVudHM7aWYobylmb3IodmFyIHM9MCxhPXQubGVuZ3RoO3M8YTtzKyspcih0W3NdLGUpO2Vsc2Ugcih0LGUpO3RoaXMuZGV0YWNoPWZ1bmN0aW9uKCl7aWYobylmb3IodmFyIGU9MCxyPXQubGVuZ3RoO2U8cjtlKyspbi5kZXRhY2godFtlXSk7ZWxzZSBuLmRldGFjaCh0KX19KS5kZXRhY2g9ZnVuY3Rpb24odCl7dC5yZXNpemVTZW5zb3ImJih0LnJlbW92ZUNoaWxkKHQucmVzaXplU2Vuc29yKSxkZWxldGUgdC5yZXNpemVTZW5zb3IsZGVsZXRlIHQucmVzaXplZEF0dGFjaGVkKX0sdm9pZCAwIT09dCYmdm9pZCAwIT09dC5leHBvcnRzP3QuZXhwb3J0cz1uOndpbmRvdy5SZXNpemVTZW5zb3I9bn0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMyksaT1uKDApLG89bigxMykscz1uKDE0KSgpLGE9big2MyksdT1uKDUpLGM9ImEudHdpdHRlci1mb2xsb3ctYnV0dG9uIjt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIHModCxjKS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIGEoZnVuY3Rpb24odCl7dmFyIGU9byh0KSxuPXtzY3JlZW5OYW1lOnIuc2NyZWVuTmFtZSh0LmhyZWYpLHNob3dTY3JlZW5OYW1lOiJmYWxzZSIhPT10LmdldEF0dHJpYnV0ZSgiZGF0YS1zaG93LXNjcmVlbi1uYW1lIiksc2hvd0NvdW50OiJmYWxzZSIhPT10LmdldEF0dHJpYnV0ZSgiZGF0YS1zaG93LWNvdW50Iiksc2l6ZTp0LmdldEF0dHJpYnV0ZSgiZGF0YS1zaXplIiksY291bnQ6dC5nZXRBdHRyaWJ1dGUoImRhdGEtY291bnQiKSxwcmV2aWV3OnQuZ2V0QXR0cmlidXRlKCJkYXRhLXByZXZpZXciKX07cmV0dXJuIGkuZm9ySW4obixmdW5jdGlvbih0LG4pe3ZhciByPWVbdF07ZVt0XT11Lmhhc1ZhbHVlKHIpP3I6bn0pLGUuc2NyZWVuTmFtZT1lLnNjcmVlbk5hbWV8fGUuc2NyZWVuX25hbWUsZX0odCksdC5wYXJlbnROb2RlLHQpfSl9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigyKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXt2YXIgaT1uZXcgcjtyZXR1cm4gbi5lKDMpLnRoZW4oZnVuY3Rpb24ocil7dmFyIG87dHJ5e289big4NCksaS5yZXNvbHZlKG5ldyBvKHQsZSkpfWNhdGNoKHQpe2kucmVqZWN0KHQpfX0uYmluZChudWxsLG4pKS5jYXRjaChmdW5jdGlvbih0KXtpLnJlamVjdCh0KX0pLGkucHJvbWlzZX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDE4KSxpPW4oMTIzKSxvPW4oNTkpLHM9bigzMSksYT1uKDIpLHU9big2KSxjPW4oNyksZD1uKDApLGw9e2FsbG93ZnVsbHNjcmVlbjoidHJ1ZSJ9LGY9e3Bvc2l0aW9uOiJhYnNvbHV0ZSIsdmlzaWJpbGl0eToiaGlkZGVuIix3aWR0aDoiMHB4IixoZWlnaHQ6IjBweCJ9LGg9e3Bvc2l0aW9uOiJzdGF0aWMiLHZpc2liaWxpdHk6InZpc2libGUifSxwPXt9O2koZnVuY3Rpb24odCxlLG4pe3ZhciByPXBbdF07aWYocilyZXR1cm4gZT1lfHwxLG49bnx8MSxyLnN0eWxlU2VsZih7d2lkdGg6ZSsicHgiLGhlaWdodDpuKyJweCJ9KS50aGVuKGZ1bmN0aW9uKCl7ci5kaWRSZXNpemUoKX0pfSxmdW5jdGlvbih0KXt2YXIgZT1wW3RdO2lmKGUpcmV0dXJuIGUuX3Jlc3VsdHMucmVzb2x2ZSgpfSxmdW5jdGlvbih0KXt2YXIgZT1wW3RdO2lmKGUpcmV0dXJuIGUuX3JlbmRlcmVkLnJlc29sdmUoKX0sZnVuY3Rpb24odCxlKXt2YXIgbj1wW3RdO24mJmUmJm4uc2V0SWZyYW1lVmVyc2lvbihlKX0sZnVuY3Rpb24odCl7dmFyIGU9cFt0XTtpZihlKXJldHVybiBlLl9yZXN1bHRzLnJlamVjdCgpfSksdC5leHBvcnRzPWZ1bmN0aW9uKHQpe3Qub3ZlcnJpZGVQcm9wZXJ0eSgiaWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zYW5kYm94RWwmJnRoaXMuc2FuZGJveEVsLmlkfX0pLHQub3ZlcnJpZGVQcm9wZXJ0eSgiaW5pdGlhbGl6ZWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMuaWZyYW1lRWx9fSksdC5vdmVycmlkZVByb3BlcnR5KCJ3aWR0aCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl93aWR0aH19KSx0Lm92ZXJyaWRlUHJvcGVydHkoImhlaWdodCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9oZWlnaHR9fSksdC5vdmVycmlkZVByb3BlcnR5KCJzYW5kYm94RWwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pZnJhbWVFbH19KSx0LmRlZmluZVByb3BlcnR5KCJpZnJhbWVFbCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pZnJhbWV9fSksdC5kZWZpbmVQcm9wZXJ0eSgiaWZyYW1lVmVyc2lvbiIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pZnJhbWVWZXJzaW9ufX0pLHQuZGVmaW5lKCJ1cGRhdGVDYWNoZWREaW1lbnNpb25zIixmdW5jdGlvbigpe3ZhciB0PXRoaXM7cmV0dXJuIHRoaXMuaW5pdGlhbGl6ZWQ/ci5yZWFkKGZ1bmN0aW9uKCl7dC5fd2lkdGg9dC5zYW5kYm94RWwub2Zmc2V0V2lkdGgsdC5faGVpZ2h0PXQuc2FuZGJveEVsLm9mZnNldEhlaWdodH0pOnUucmVzb2x2ZSgpfSksdC5kZWZpbmUoInNldFRpdGxlIixmdW5jdGlvbih0KXt0aGlzLmlmcmFtZUVsLnRpdGxlPXR9KSx0LmRlZmluZSgic2V0V2FpdFRvU3dhcFVudGlsUmVuZGVyZWQiLGZ1bmN0aW9uKHQpe3RoaXMuX3dhaXRUb1N3YXBVbnRpbFJlbmRlcmVkPXR9KSx0LmRlZmluZSgic2V0SWZyYW1lVmVyc2lvbiIsZnVuY3Rpb24odCl7dGhpcy5faWZyYW1lVmVyc2lvbj10fSksdC5kZWZpbmUoImdldFJlc3VsdHNQcm9taXNlIixmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZXN1bHRzLnByb21pc2V9KSx0LmRlZmluZSgiZ2V0UmVuZGVyZWRQcm9taXNlIixmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZW5kZXJlZC5wcm9taXNlfSksdC5kZWZpbmUoIm1ha2VWaXNpYmxlIixmdW5jdGlvbigpe3JldHVybiB0aGlzLnN0eWxlU2VsZihoKX0pLHQuZGVmaW5lKCJkaWRSZXNpemUiLGZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPXQuX3Jlc2l6ZUhhbmRsZXJzLmxlbmd0aD4wO3JldHVybiB0aGlzLnVwZGF0ZUNhY2hlZERpbWVuc2lvbnMoKS50aGVuKGZ1bmN0aW9uKCl7ZSYmdC5fcmVzaXplSGFuZGxlcnMuZm9yRWFjaChmdW5jdGlvbihlKXtlKHQpfSl9KX0pLHQuZGVmaW5lKCJsb2FkRG9jdW1lbnQiLGZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBhO3JldHVybiB0aGlzLmluaXRpYWxpemVkP3RoaXMuaWZyYW1lRWwuc3JjP3UucmVqZWN0KG5ldyBFcnJvcigid2lkZ2V0IGFscmVhZHkgbG9hZGVkIikpOih0aGlzLmlmcmFtZUVsLmFkZEV2ZW50TGlzdGVuZXIoImxvYWQiLGUucmVzb2x2ZSwhMSksdGhpcy5pZnJhbWVFbC5hZGRFdmVudExpc3RlbmVyKCJlcnJvciIsZS5yZWplY3QsITEpLHRoaXMuaWZyYW1lRWwuc3JjPXQsZS5wcm9taXNlKTp1LnJlamVjdChuZXcgRXJyb3IoInNhbmRib3ggbm90IGluaXRpYWxpemVkIikpfSksdC5hZnRlcigiaW5pdGlhbGl6ZSIsZnVuY3Rpb24oKXt2YXIgdD1uZXcgYSxlPW5ldyBhO3RoaXMuX2lmcmFtZT1udWxsLHRoaXMuX2lmcmFtZVZlcnNpb249bnVsbCx0aGlzLl93aWR0aD10aGlzLl9oZWlnaHQ9MCx0aGlzLl9yZXNpemVIYW5kbGVycz1bXSx0aGlzLl9yZW5kZXJlZD10LHRoaXMuX3Jlc3VsdHM9ZSx0aGlzLl93YWl0VG9Td2FwVW50aWxSZW5kZXJlZD0hMX0pLHQub3ZlcnJpZGUoImluc2VydCIsZnVuY3Rpb24odCxlLG4saSl7dmFyIGE9dGhpcztyZXR1cm4gZT1kLmF1Zyh7aWQ6dH0sbCxlKSxuPWQuYXVnKHt9LGYsbiksdGhpcy5faWZyYW1lPXMoZSxuKSxwW3RdPXRoaXMsYS5fd2FpdFRvU3dhcFVudGlsUmVuZGVyZWR8fHRoaXMub25SZXNpemUobyhmdW5jdGlvbigpe2EubWFrZVZpc2libGUoKX0pKSxyLndyaXRlKGMoaSxudWxsLHRoaXMuX2lmcmFtZSkpfSksdC5vdmVycmlkZSgib25SZXNpemUiLGZ1bmN0aW9uKHQpe3RoaXMuX3Jlc2l6ZUhhbmRsZXJzLnB1c2godCl9KSx0LmFmdGVyKCJzdHlsZVNlbGYiLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudXBkYXRlQ2FjaGVkRGltZW5zaW9ucygpfSl9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxKSxpPW4oMTI0KSxvPW4oMTI2KSxzPW4oMjMpLGE9big1KSx1PW4oMTI3KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlLG4sYyxkKXtmdW5jdGlvbiBsKHQpe3ZhciBlPXUodGhpcyk7cy50cmlnZ2VyKHQudHlwZSx7dGFyZ2V0OmUscmVnaW9uOnQucmVnaW9uLHR5cGU6dC50eXBlLGRhdGE6dC5kYXRhfHx7fX0pfWZ1bmN0aW9uIGYoZSl7dmFyIG49dSh0aGlzKSxyPW4mJm4uaWQsaT1hLmFzSW50KGUud2lkdGgpLG89YS5hc0ludChlLmhlaWdodCk7ciYmdm9pZCAwIT09aSYmdm9pZCAwIT09byYmdChyLGksbyl9KG5ldyBpKS5hdHRhY2hSZWNlaXZlcihuZXcgby5SZWNlaXZlcihyLCJ0d3R0ci5idXR0b24iKSkuYmluZCgidHd0dHIucHJpdmF0ZS50cmlnZ2VyIixsKS5iaW5kKCJ0d3R0ci5wcml2YXRlLnJlc2l6ZUJ1dHRvbiIsZiksKG5ldyBpKS5hdHRhY2hSZWNlaXZlcihuZXcgby5SZWNlaXZlcihyLCJ0d3R0ci5lbWJlZCIpKS5iaW5kKCJ0d3R0ci5wcml2YXRlLmluaXRpYWxpemVkIixmdW5jdGlvbih0KXt2YXIgZT11KHRoaXMpLG49ZSYmZS5pZCxyPXQuaWZyYW1lX3ZlcnNpb247biYmciYmYyYmYyhuLHIpfSkuYmluZCgidHd0dHIucHJpdmF0ZS50cmlnZ2VyIixsKS5iaW5kKCJ0d3R0ci5wcml2YXRlLnJlc3VsdHMiLGZ1bmN0aW9uKCl7dmFyIHQ9dSh0aGlzKSxuPXQmJnQuaWQ7biYmZSYmZShuKX0pLmJpbmQoInR3dHRyLnByaXZhdGUucmVuZGVyZWQiLGZ1bmN0aW9uKCl7dmFyIHQ9dSh0aGlzKSxlPXQmJnQuaWQ7ZSYmbiYmbihlKX0pLmJpbmQoInR3dHRyLnByaXZhdGUubm9fcmVzdWx0cyIsZnVuY3Rpb24oKXt2YXIgdD11KHRoaXMpLGU9dCYmdC5pZDtlJiZkJiZkKGUpfSkuYmluZCgidHd0dHIucHJpdmF0ZS5yZXNpemUiLGYpfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMjUpLGk9bigxMjUpLG89bigwKSxzPW4oNiksYT1uKDI0KSx1PSIyLjAiO2Z1bmN0aW9uIGModCl7dGhpcy5yZWdpc3RyeT10fHx7fX1mdW5jdGlvbiBkKHQpe3ZhciBlLG47cmV0dXJuIGU9by5pc1R5cGUoInN0cmluZyIsdCksbj1vLmlzVHlwZSgibnVtYmVyIix0KSxlfHxufHxudWxsPT09dH1mdW5jdGlvbiBsKHQsZSl7cmV0dXJue2pzb25ycGM6dSxpZDpkKHQpP3Q6bnVsbCxlcnJvcjplfX1jLnByb3RvdHlwZS5faW52b2tlPWZ1bmN0aW9uKHQsZSl7dmFyIG4scixpO249dGhpcy5yZWdpc3RyeVt0Lm1ldGhvZF0scj10LnBhcmFtc3x8W10scj1vLmlzVHlwZSgiYXJyYXkiLHIpP3I6W3JdO3RyeXtpPW4uYXBwbHkoZS5zb3VyY2V8fG51bGwscil9Y2F0Y2godCl7aT1zLnJlamVjdCh0Lm1lc3NhZ2UpfXJldHVybiBhLmlzUHJvbWlzZShpKT9pOnMucmVzb2x2ZShpKX0sYy5wcm90b3R5cGUuX3Byb2Nlc3NSZXF1ZXN0PWZ1bmN0aW9uKHQsZSl7dmFyIG4scjtyZXR1cm4gZnVuY3Rpb24odCl7dmFyIGUsbixyO3JldHVybiEhby5pc09iamVjdCh0KSYmKGU9dC5qc29ucnBjPT09dSxuPW8uaXNUeXBlKCJzdHJpbmciLHQubWV0aG9kKSxyPSEoImlkImluIHQpfHxkKHQuaWQpLGUmJm4mJnIpfSh0KT8obj0icGFyYW1zImluIHQmJihyPXQucGFyYW1zLCFvLmlzT2JqZWN0KHIpfHxvLmlzVHlwZSgiZnVuY3Rpb24iLHIpKT9zLnJlc29sdmUobCh0LmlkLGkuSU5WQUxJRF9QQVJBTVMpKTp0aGlzLnJlZ2lzdHJ5W3QubWV0aG9kXT90aGlzLl9pbnZva2UodCx7c291cmNlOmV9KS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiBuPXQuaWQse2pzb25ycGM6dSxpZDpuLHJlc3VsdDplfTt2YXIgbn0sZnVuY3Rpb24oKXtyZXR1cm4gbCh0LmlkLGkuSU5URVJOQUxfRVJST1IpfSk6cy5yZXNvbHZlKGwodC5pZCxpLk1FVEhPRF9OT1RfRk9VTkQpKSxudWxsIT10LmlkP246cy5yZXNvbHZlKCkpOnMucmVzb2x2ZShsKHQuaWQsaS5JTlZBTElEX1JFUVVFU1QpKX0sYy5wcm90b3R5cGUuYXR0YWNoUmVjZWl2ZXI9ZnVuY3Rpb24odCl7cmV0dXJuIHQuYXR0YWNoVG8odGhpcyksdGhpc30sYy5wcm90b3R5cGUuYmluZD1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnJlZ2lzdHJ5W3RdPWUsdGhpc30sYy5wcm90b3R5cGUucmVjZWl2ZT1mdW5jdGlvbih0LGUpe3ZhciBuLGEsdSxjPXRoaXM7dHJ5e3U9dCx0PW8uaXNUeXBlKCJzdHJpbmciLHUpP3IucGFyc2UodSk6dX1jYXRjaCh0KXtyZXR1cm4gcy5yZXNvbHZlKGwobnVsbCxpLlBBUlNFX0VSUk9SKSl9cmV0dXJuIGU9ZXx8bnVsbCxhPSgobj1vLmlzVHlwZSgiYXJyYXkiLHQpKT90Olt0XSkubWFwKGZ1bmN0aW9uKHQpe3JldHVybiBjLl9wcm9jZXNzUmVxdWVzdCh0LGUpfSksbj9mdW5jdGlvbih0KXtyZXR1cm4gcy5hbGwodCkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4odD10LmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwIT09dH0pKS5sZW5ndGg/dDp2b2lkIDB9KX0oYSk6YVswXX0sdC5leHBvcnRzPWN9LGZ1bmN0aW9uKHQpe3QuZXhwb3J0cz17UEFSU0VfRVJST1I6e2NvZGU6LTMyNzAwLG1lc3NhZ2U6IlBhcnNlIGVycm9yIn0sSU5WQUxJRF9SRVFVRVNUOntjb2RlOi0zMjYwMCxtZXNzYWdlOiJJbnZhbGlkIFJlcXVlc3QifSxJTlZBTElEX1BBUkFNUzp7Y29kZTotMzI2MDIsbWVzc2FnZToiSW52YWxpZCBwYXJhbXMifSxNRVRIT0RfTk9UX0ZPVU5EOntjb2RlOi0zMjYwMSxtZXNzYWdlOiJNZXRob2Qgbm90IGZvdW5kIn0sSU5URVJOQUxfRVJST1I6e2NvZGU6LTMyNjAzLG1lc3NhZ2U6IkludGVybmFsIGVycm9yIn19fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9big5KSxpPW4oMSksbz1uKDI1KSxzPW4oMiksYT1uKDIxKSx1PW4oMCksYz1uKDMpLGQ9big3KSxsPWEuaWU5KCk7ZnVuY3Rpb24gZih0LGUsbil7dmFyIHI7dCYmdC5wb3N0TWVzc2FnZSYmKGw/cj0obnx8IiIpK28uc3RyaW5naWZ5KGUpOm4/KHI9e30pW25dPWU6cj1lLHQucG9zdE1lc3NhZ2UociwiKiIpKX1mdW5jdGlvbiBoKHQpe3JldHVybiB1LmlzVHlwZSgic3RyaW5nIix0KT90OiJKU09OUlBDIn1mdW5jdGlvbiBwKHQsZSl7cmV0dXJuIGU/dS5pc1R5cGUoInN0cmluZyIsdCkmJjA9PT10LmluZGV4T2YoZSk/dC5zdWJzdHJpbmcoZS5sZW5ndGgpOnQmJnRbZV0/dFtlXTp2b2lkIDA6dH1mdW5jdGlvbiBtKHQsZSl7dmFyIG49dC5kb2N1bWVudDt0aGlzLmZpbHRlcj1oKGUpLHRoaXMuc2VydmVyPW51bGwsdGhpcy5pc1R3aXR0ZXJGcmFtZT1jLmlzVHdpdHRlclVSTChuLmxvY2F0aW9uLmhyZWYpLHQuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsZCh0aGlzLl9vbk1lc3NhZ2UsdGhpcyksITEpfWZ1bmN0aW9uIHYodCxlKXt0aGlzLnBlbmRpbmc9e30sdGhpcy50YXJnZXQ9dCx0aGlzLmlzVHdpdHRlckhvc3Q9Yy5pc1R3aXR0ZXJVUkwoci5ocmVmKSx0aGlzLmZpbHRlcj1oKGUpLGkuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsZCh0aGlzLl9vbk1lc3NhZ2UsdGhpcyksITEpfXUuYXVnKG0ucHJvdG90eXBlLHtfb25NZXNzYWdlOmZ1bmN0aW9uKHQpe3ZhciBlLG49dGhpczt0aGlzLnNlcnZlciYmKHRoaXMuaXNUd2l0dGVyRnJhbWUmJiFjLmlzVHdpdHRlclVSTCh0Lm9yaWdpbil8fChlPXAodC5kYXRhLHRoaXMuZmlsdGVyKSkmJnRoaXMuc2VydmVyLnJlY2VpdmUoZSx0LnNvdXJjZSkudGhlbihmdW5jdGlvbihlKXtlJiZmKHQuc291cmNlLGUsbi5maWx0ZXIpfSkpfSxhdHRhY2hUbzpmdW5jdGlvbih0KXt0aGlzLnNlcnZlcj10fSxkZXRhY2g6ZnVuY3Rpb24oKXt0aGlzLnNlcnZlcj1udWxsfX0pLHUuYXVnKHYucHJvdG90eXBlLHtfcHJvY2Vzc1Jlc3BvbnNlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMucGVuZGluZ1t0LmlkXTtlJiYoZS5yZXNvbHZlKHQpLGRlbGV0ZSB0aGlzLnBlbmRpbmdbdC5pZF0pfSxfb25NZXNzYWdlOmZ1bmN0aW9uKHQpe3ZhciBlO2lmKCghdGhpcy5pc1R3aXR0ZXJIb3N0fHxjLmlzVHdpdHRlclVSTCh0Lm9yaWdpbikpJiYoZT1wKHQuZGF0YSx0aGlzLmZpbHRlcikpKXtpZih1LmlzVHlwZSgic3RyaW5nIixlKSl0cnl7ZT1vLnBhcnNlKGUpfWNhdGNoKHQpe3JldHVybn0oZT11LmlzVHlwZSgiYXJyYXkiLGUpP2U6W2VdKS5mb3JFYWNoKGQodGhpcy5fcHJvY2Vzc1Jlc3BvbnNlLHRoaXMpKX19LHNlbmQ6ZnVuY3Rpb24odCl7dmFyIGU9bmV3IHM7cmV0dXJuIHQuaWQ/dGhpcy5wZW5kaW5nW3QuaWRdPWU6ZS5yZXNvbHZlKCksZih0aGlzLnRhcmdldCx0LHRoaXMuZmlsdGVyKSxlLnByb21pc2V9fSksdC5leHBvcnRzPXtSZWNlaXZlcjptLERpc3BhdGNoZXI6dixfc3RyaW5naWZ5UGF5bG9hZDpmdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD4wJiYobD0hIXQpLGx9fX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNCk7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZSxuPXIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImlmcmFtZSIpLGk9MDtuW2ldO2krKylpZigoZT1uW2ldKS5jb250ZW50V2luZG93PT09dClyZXR1cm4gZX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDUpLGk9bigwKSxvPW4oMykscz1uKDEzKSxhPW4oMTQpKCksdT1uKDY0KSxjPSJhLnR3aXR0ZXItbW9tZW50Ijt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIGEodCxjKS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHUoZnVuY3Rpb24odCl7dmFyIGU9cyh0KSxuPXttb21lbnRJZDpvLm1vbWVudElkKHQuaHJlZiksY2hyb21lOnQuZ2V0QXR0cmlidXRlKCJkYXRhLWNocm9tZSIpLGxpbWl0OnQuZ2V0QXR0cmlidXRlKCJkYXRhLWxpbWl0Iil9O3JldHVybiBpLmZvckluKG4sZnVuY3Rpb24odCxuKXt2YXIgaT1lW3RdO2VbdF09ci5oYXNWYWx1ZShpKT9pOm59KSxlfSh0KSx0LnBhcmVudE5vZGUsdCl9KX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDIpO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3ZhciBpPW5ldyByO3JldHVybiBQcm9taXNlLmFsbChbbi5lKDApLG4uZSg0KV0pLnRoZW4oZnVuY3Rpb24ocil7dmFyIG87dHJ5e289big4NSksaS5yZXNvbHZlKG5ldyBvKHQsZSkpfWNhdGNoKHQpe2kucmVqZWN0KHQpfX0uYmluZChudWxsLG4pKS5jYXRjaChmdW5jdGlvbih0KXtpLnJlamVjdCh0KX0pLGkucHJvbWlzZX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDApLGk9bigxMyksbz1uKDE0KSgpLHM9big2NSksYT0iYS5wZXJpc2NvcGUtb24tYWlyIix1PS9eaHR0cHM/OlwvXC8oPzp3d3dcLik/KD86cGVyaXNjb3BlfHBzY3ApXC50dlwvQD8oW2EtekEtWjAtOV9dKylcLz8kL2k7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBvKHQsYSkubWFwKGZ1bmN0aW9uKHQpe3JldHVybiBzKGZ1bmN0aW9uKHQpe3ZhciBlPWkodCksbj10LmdldEF0dHJpYnV0ZSgiaHJlZiIpLG89dC5nZXRBdHRyaWJ1dGUoImRhdGEtc2l6ZSIpLHM9dS5leGVjKG4pWzFdO3JldHVybiByLmF1ZyhlLHt1c2VybmFtZTpzLHNpemU6b30pfSh0KSx0LnBhcmVudE5vZGUsdCl9KX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDIpO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3ZhciBpPW5ldyByO3JldHVybiBuLmUoNSkudGhlbihmdW5jdGlvbihyKXt2YXIgbzt0cnl7bz1uKDg2KSxpLnJlc29sdmUobmV3IG8odCxlKSl9Y2F0Y2godCl7aS5yZWplY3QodCl9fS5iaW5kKG51bGwsbikpLmNhdGNoKGZ1bmN0aW9uKHQpe2kucmVqZWN0KHQpfSksaS5wcm9taXNlfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNSksaT1uKDApLG89big2Nikscz1uKDEzKSxhPW4oMTQpKCksdT1uKDY3KSxjPW4oMyksZD1uKDEyKSxsPSJhLnR3aXR0ZXItdGltZWxpbmUsZGl2LnR3aXR0ZXItdGltZWxpbmUsYS50d2l0dGVyLWdyaWQiLGY9IkVtYmVkZGVkIFNlYXJjaCB0aW1lbGluZXMgaGF2ZSBiZWVuIGRlcHJlY2F0ZWQuIFNlZSBodHRwczovL3R3aXR0ZXJjb21tdW5pdHkuY29tL3QvZGVwcmVjYXRpbmctd2lkZ2V0LXNldHRpbmdzLzEwMjI5NS4iLGg9IllvdSBtYXkgaGF2ZSBiZWVuIGFmZmVjdGVkIGJ5IGFuIHVwZGF0ZSB0byBzZXR0aW5ncyBpbiBlbWJlZGRlZCB0aW1lbGluZXMuIFNlZSBodHRwczovL3R3aXR0ZXJjb21tdW5pdHkuY29tL3QvZGVwcmVjYXRpbmctd2lkZ2V0LXNldHRpbmdzLzEwMjI5NS4iLHA9IkVtYmVkZGVkIGdyaWRzIGhhdmUgYmVlbiBkZXByZWNhdGVkIGFuZCB3aWxsIG5vdyByZW5kZXIgYXMgdGltZWxpbmVzLiBQbGVhc2UgdXBkYXRlIHlvdXIgZW1iZWQgY29kZSB0byB1c2UgdGhlIHR3aXR0ZXItdGltZWxpbmUgY2xhc3MuIE1vcmUgaW5mbzogaHR0cHM6Ly90d2l0dGVyY29tbXVuaXR5LmNvbS90L3VwZGF0ZS1vbi10aGUtZW1iZWRkZWQtZ3JpZC1kaXNwbGF5LXR5cGUvMTE5NTY0LiI7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBhKHQsbCkubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB1KGZ1bmN0aW9uKHQpe3ZhciBlPXModCksbj10LmdldEF0dHJpYnV0ZSgiZGF0YS1zaG93LXJlcGxpZXMiKSxhPXtpc1ByZWNvbmZpZ3VyZWQ6ISF0LmdldEF0dHJpYnV0ZSgiZGF0YS13aWRnZXQtaWQiKSxjaHJvbWU6dC5nZXRBdHRyaWJ1dGUoImRhdGEtY2hyb21lIiksdHdlZXRMaW1pdDp0LmdldEF0dHJpYnV0ZSgiZGF0YS10d2VldC1saW1pdCIpfHx0LmdldEF0dHJpYnV0ZSgiZGF0YS1saW1pdCIpLGFyaWFMaXZlOnQuZ2V0QXR0cmlidXRlKCJkYXRhLWFyaWEtcG9saXRlIiksdGhlbWU6dC5nZXRBdHRyaWJ1dGUoImRhdGEtdGhlbWUiKSxib3JkZXJDb2xvcjp0LmdldEF0dHJpYnV0ZSgiZGF0YS1ib3JkZXItY29sb3IiKSxzaG93UmVwbGllczpuP3IuYXNCb29sZWFuKG4pOm51bGwscHJvZmlsZVNjcmVlbk5hbWU6dC5nZXRBdHRyaWJ1dGUoImRhdGEtc2NyZWVuLW5hbWUiKSxwcm9maWxlVXNlcklkOnQuZ2V0QXR0cmlidXRlKCJkYXRhLXVzZXItaWQiKSxmYXZvcml0ZXNTY3JlZW5OYW1lOnQuZ2V0QXR0cmlidXRlKCJkYXRhLWZhdm9yaXRlcy1zY3JlZW4tbmFtZSIpLGZhdm9yaXRlc1VzZXJJZDp0LmdldEF0dHJpYnV0ZSgiZGF0YS1mYXZvcml0ZXMtdXNlci1pZCIpLGxpa2VzU2NyZWVuTmFtZTp0LmdldEF0dHJpYnV0ZSgiZGF0YS1saWtlcy1zY3JlZW4tbmFtZSIpLGxpa2VzVXNlcklkOnQuZ2V0QXR0cmlidXRlKCJkYXRhLWxpa2VzLXVzZXItaWQiKSxsaXN0T3duZXJTY3JlZW5OYW1lOnQuZ2V0QXR0cmlidXRlKCJkYXRhLWxpc3Qtb3duZXItc2NyZWVuLW5hbWUiKSxsaXN0T3duZXJVc2VySWQ6dC5nZXRBdHRyaWJ1dGUoImRhdGEtbGlzdC1vd25lci1pZCIpLGxpc3RJZDp0LmdldEF0dHJpYnV0ZSgiZGF0YS1saXN0LWlkIiksbGlzdFNsdWc6dC5nZXRBdHRyaWJ1dGUoImRhdGEtbGlzdC1zbHVnIiksY3VzdG9tVGltZWxpbmVJZDp0LmdldEF0dHJpYnV0ZSgiZGF0YS1jdXN0b20tdGltZWxpbmUtaWQiKSxzdGF0aWNDb250ZW50OnQuZ2V0QXR0cmlidXRlKCJkYXRhLXN0YXRpYy1jb250ZW50IiksdXJsOnQuaHJlZn07cmV0dXJuIGEuaXNQcmVjb25maWd1cmVkJiYoYy5pc1NlYXJjaFVybChhLnVybCk/ZC5wdWJsaWNFcnJvcihmLHQpOmQucHVibGljTG9nKGgsdCkpLCJ0d2l0dGVyLWdyaWQiPT09dC5jbGFzc05hbWUmJmQucHVibGljTG9nKHAsdCksKGE9aS5hdWcoYSxlKSkuZGF0YVNvdXJjZT1vKGEpLGEuaWQ9YS5kYXRhU291cmNlJiZhLmRhdGFTb3VyY2UuaWQsYX0odCksdC5wYXJlbnROb2RlLHQpfSl9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigyOCk7dC5leHBvcnRzPXIuYnVpbGQoW24oMjkpLG4oMTM2KV0pfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigwKSxpPW4oMTM1KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuImVuIj09PXR8fHIuY29udGFpbnMoaSx0KX19LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPVsiaGkiLCJ6aC1jbiIsImZyIiwiemgtdHciLCJtc2EiLCJmaWwiLCJmaSIsInN2IiwicGwiLCJqYSIsImtvIiwiZGUiLCJpdCIsInB0IiwiZXMiLCJydSIsImlkIiwidHIiLCJkYSIsIm5vIiwibmwiLCJodSIsImZhIiwiYXIiLCJ1ciIsImhlIiwidGgiLCJjcyIsInVrIiwidmkiLCJybyIsImJuIiwiZWwiLCJlbi1nYiIsImd1Iiwia24iLCJtciIsInRhIiwiYmciLCJjYSIsImhyIiwic3IiLCJzayJdfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigzKSxpPW4oMCksbz1uKDIwKSxzPW4oNDgpLGE9ImNvbGxlY3Rpb246IjtmdW5jdGlvbiB1KHQsZSl7cmV0dXJuIHIuY29sbGVjdGlvbklkKHQpfHxlfXQuZXhwb3J0cz1mdW5jdGlvbih0KXt0LnBhcmFtcyh7aWQ6e30sdXJsOnt9fSksdC5vdmVycmlkZVByb3BlcnR5KCJpZCIse2dldDpmdW5jdGlvbigpe3ZhciB0PXUodGhpcy5wYXJhbXMudXJsLHRoaXMucGFyYW1zLmlkKTtyZXR1cm4gYSt0fX0pLHQub3ZlcnJpZGVQcm9wZXJ0eSgiZW5kcG9pbnQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gby50aW1lbGluZShbImNvbGxlY3Rpb24iXSl9fSksdC5hcm91bmQoInF1ZXJ5UGFyYW1zIixmdW5jdGlvbih0KXtyZXR1cm4gaS5hdWcodCgpLHtjb2xsZWN0aW9uX2lkOnUodGhpcy5wYXJhbXMudXJsLHRoaXMucGFyYW1zLmlkKX0pfSksdC5iZWZvcmUoImluaXRpYWxpemUiLGZ1bmN0aW9uKCl7aWYoIXUodGhpcy5wYXJhbXMudXJsLHRoaXMucGFyYW1zLmlkKSl0aHJvdyBuZXcgRXJyb3IoIm9uZSBvZiB1cmwgb3IgaWQgaXMgcmVxdWlyZWQiKTtzKCl9KX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDI4KTt0LmV4cG9ydHM9ci5idWlsZChbbigyOSksbigxMzgpXSl9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDMpLGk9bigwKSxvPW4oMjApLHM9ImV2ZW50OiI7ZnVuY3Rpb24gYSh0LGUpe3JldHVybiByLmV2ZW50SWQodCl8fGV9dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3QucGFyYW1zKHtpZDp7fSx1cmw6e319KSx0Lm92ZXJyaWRlUHJvcGVydHkoImlkIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIHQ9YSh0aGlzLnBhcmFtcy51cmwsdGhpcy5wYXJhbXMuaWQpO3JldHVybiBzK3R9fSksdC5vdmVycmlkZVByb3BlcnR5KCJlbmRwb2ludCIse2dldDpmdW5jdGlvbigpe3JldHVybiBvLnRpbWVsaW5lKFsiZXZlbnQiXSl9fSksdC5hcm91bmQoInF1ZXJ5UGFyYW1zIixmdW5jdGlvbih0KXtyZXR1cm4gaS5hdWcodCgpLHtldmVudF9pZDphKHRoaXMucGFyYW1zLnVybCx0aGlzLnBhcmFtcy5pZCl9KX0pLHQuYmVmb3JlKCJpbml0aWFsaXplIixmdW5jdGlvbigpe2lmKCFhKHRoaXMucGFyYW1zLnVybCx0aGlzLnBhcmFtcy5pZCkpdGhyb3cgbmV3IEVycm9yKCJvbmUgb2YgdXJsIG9yIGlkIGlzIHJlcXVpcmVkIil9KX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDI4KTt0LmV4cG9ydHM9ci5idWlsZChbbigyOSksbigxNDApXSl9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDMpLGk9bigwKSxvPW4oMjApLHM9big0OCksYT0ibGlrZXM6IjtmdW5jdGlvbiB1KHQpe3JldHVybiByLmxpa2VzU2NyZWVuTmFtZSh0LnVybCl8fHQuc2NyZWVuTmFtZX10LmV4cG9ydHM9ZnVuY3Rpb24odCl7dC5wYXJhbXMoe3NjcmVlbk5hbWU6e30sdXNlcklkOnt9LHVybDp7fX0pLHQub3ZlcnJpZGVQcm9wZXJ0eSgiaWQiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgdD11KHRoaXMucGFyYW1zKXx8dGhpcy5wYXJhbXMudXNlcklkO3JldHVybiBhK3R9fSksdC5vdmVycmlkZVByb3BlcnR5KCJlbmRwb2ludCIse2dldDpmdW5jdGlvbigpe3JldHVybiBvLnRpbWVsaW5lKFsibGlrZXMiXSl9fSksdC5kZWZpbmUoIl9nZXRMaWtlc1F1ZXJ5UGFyYW0iLGZ1bmN0aW9uKCl7dmFyIHQ9dSh0aGlzLnBhcmFtcyk7cmV0dXJuIHQ/e3NjcmVlbl9uYW1lOnR9Ont1c2VyX2lkOnRoaXMucGFyYW1zLnVzZXJJZH19KSx0LmFyb3VuZCgicXVlcnlQYXJhbXMiLGZ1bmN0aW9uKHQpe3JldHVybiBpLmF1Zyh0KCksdGhpcy5fZ2V0TGlrZXNRdWVyeVBhcmFtKCkpfSksdC5iZWZvcmUoImluaXRpYWxpemUiLGZ1bmN0aW9uKCl7aWYoIXUodGhpcy5wYXJhbXMpJiYhdGhpcy5wYXJhbXMudXNlcklkKXRocm93IG5ldyBFcnJvcigic2NyZWVuIG5hbWUgb3IgdXNlciBpZCBpcyByZXF1aXJlZCIpO3MoKX0pfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMjgpO3QuZXhwb3J0cz1yLmJ1aWxkKFtuKDI5KSxuKDE0MildKX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMyksaT1uKDApLG89bigyMCkscz0ibGlzdDoiO2Z1bmN0aW9uIGEodCl7dmFyIGU9ci5saXN0U2NyZWVuTmFtZUFuZFNsdWcodC51cmwpfHx0O3JldHVybiBpLmNvbXBhY3Qoe3NjcmVlbl9uYW1lOmUub3duZXJTY3JlZW5OYW1lLHVzZXJfaWQ6ZS5vd25lclVzZXJJZCxsaXN0X3NsdWc6ZS5zbHVnfSl9dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3QucGFyYW1zKHtpZDp7fSxvd25lclNjcmVlbk5hbWU6e30sb3duZXJVc2VySWQ6e30sc2x1Zzp7fSx1cmw6e319KSx0Lm92ZXJyaWRlUHJvcGVydHkoImlkIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIHQsZSxuO3JldHVybiB0aGlzLnBhcmFtcy5pZD9zK3RoaXMucGFyYW1zLmlkOihlPSh0PWEodGhpcy5wYXJhbXMpKSYmdC5saXN0X3NsdWcucmVwbGFjZSgvLS9nLCJfIiksbj10JiYodC5zY3JlZW5fbmFtZXx8dC51c2VyX2lkKSxzKyhuKyI6IikrZSl9fSksdC5vdmVycmlkZVByb3BlcnR5KCJlbmRwb2ludCIse2dldDpmdW5jdGlvbigpe3JldHVybiBvLnRpbWVsaW5lKFsibGlzdCJdKX19KSx0LmRlZmluZSgiX2dldExpc3RRdWVyeVBhcmFtIixmdW5jdGlvbigpe3JldHVybiB0aGlzLnBhcmFtcy5pZD97bGlzdF9pZDp0aGlzLnBhcmFtcy5pZH06YSh0aGlzLnBhcmFtcyl9KSx0LmFyb3VuZCgicXVlcnlQYXJhbXMiLGZ1bmN0aW9uKHQpe3JldHVybiBpLmF1Zyh0KCksdGhpcy5fZ2V0TGlzdFF1ZXJ5UGFyYW0oKSl9KSx0LmJlZm9yZSgiaW5pdGlhbGl6ZSIsZnVuY3Rpb24oKXt2YXIgdD1hKHRoaXMucGFyYW1zKTtpZihpLmlzRW1wdHlPYmplY3QodCkmJiF0aGlzLnBhcmFtcy5pZCl0aHJvdyBuZXcgRXJyb3IoInF1YWxpZmllZCBzbHVnIG9yIGxpc3QgaWQgcmVxdWlyZWQiKX0pfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMjgpO3QuZXhwb3J0cz1yLmJ1aWxkKFtuKDI5KSxuKDE0NCldKX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMyksaT1uKDUpLG89bigwKSxzPW4oMjApLGE9InByb2ZpbGU6IjtmdW5jdGlvbiB1KHQsZSl7cmV0dXJuIHIuc2NyZWVuTmFtZSh0KXx8ZX10LmV4cG9ydHM9ZnVuY3Rpb24odCl7dC5wYXJhbXMoe3Nob3dSZXBsaWVzOntmYWxsYmFjazohMSx0cmFuc2Zvcm06aS5hc0Jvb2xlYW59LHNjcmVlbk5hbWU6e30sdXNlcklkOnt9LHVybDp7fX0pLHQub3ZlcnJpZGVQcm9wZXJ0eSgiaWQiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgdD11KHRoaXMucGFyYW1zLnVybCx0aGlzLnBhcmFtcy5zY3JlZW5OYW1lKTtyZXR1cm4gYSsodHx8dGhpcy5wYXJhbXMudXNlcklkKX19KSx0Lm92ZXJyaWRlUHJvcGVydHkoImVuZHBvaW50Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMudGltZWxpbmUoWyJwcm9maWxlIl0pfX0pLHQuZGVmaW5lKCJfZ2V0UHJvZmlsZVF1ZXJ5UGFyYW0iLGZ1bmN0aW9uKCl7dmFyIHQ9dSh0aGlzLnBhcmFtcy51cmwsdGhpcy5wYXJhbXMuc2NyZWVuTmFtZSksZT10P3tzY3JlZW5fbmFtZTp0fTp7dXNlcl9pZDp0aGlzLnBhcmFtcy51c2VySWR9O3JldHVybiBvLmF1ZyhlLHt3aXRoX3JlcGxpZXM6dGhpcy5wYXJhbXMuc2hvd1JlcGxpZXM/InRydWUiOiJmYWxzZSJ9KX0pLHQuYXJvdW5kKCJxdWVyeVBhcmFtcyIsZnVuY3Rpb24odCl7cmV0dXJuIG8uYXVnKHQoKSx0aGlzLl9nZXRQcm9maWxlUXVlcnlQYXJhbSgpKX0pLHQuYmVmb3JlKCJpbml0aWFsaXplIixmdW5jdGlvbigpe2lmKCF1KHRoaXMucGFyYW1zLnVybCx0aGlzLnBhcmFtcy5zY3JlZW5OYW1lKSYmIXRoaXMucGFyYW1zLnVzZXJJZCl0aHJvdyBuZXcgRXJyb3IoInNjcmVlbiBuYW1lIG9yIHVzZXIgaWQgaXMgcmVxdWlyZWQiKX0pfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMik7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7dmFyIGk9bmV3IHI7cmV0dXJuIG4uZSg2KS50aGVuKGZ1bmN0aW9uKHIpe3ZhciBvO3RyeXtvPW4oODcpLGkucmVzb2x2ZShuZXcgbyh0LGUpKX1jYXRjaCh0KXtpLnJlamVjdCh0KX19LmJpbmQobnVsbCxuKSkuY2F0Y2goZnVuY3Rpb24odCl7aS5yZWplY3QodCl9KSxpLnByb21pc2V9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigyKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXt2YXIgaT1uZXcgcjtyZXR1cm4gUHJvbWlzZS5hbGwoW24uZSgwKSxuLmUoNyldKS50aGVuKGZ1bmN0aW9uKHIpe3ZhciBvO3RyeXtvPW4oODgpLGkucmVzb2x2ZShuZXcgbyh0LGUpKX1jYXRjaCh0KXtpLnJlamVjdCh0KX19LmJpbmQobnVsbCxuKSkuY2F0Y2goZnVuY3Rpb24odCl7aS5yZWplY3QodCl9KSxpLnByb21pc2V9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxMCksaT1uKDMpLG89bigwKSxzPW4oMTMpLGE9bigxNCkoKSx1PW4oNjgpLGM9ImJsb2NrcXVvdGUudHdpdHRlci10d2VldCwgYmxvY2txdW90ZS50d2l0dGVyLXZpZGVvIixkPS9cYnR3LWFsaWduLShsZWZ0fHJpZ2h0fGNlbnRlcilcYi87dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGEodCxjKS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHUoZnVuY3Rpb24odCl7dmFyIGU9cyh0KSxuPXQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIkEiKSxhPW4mJm5bbi5sZW5ndGgtMV0sdT1hJiZpLnN0YXR1cyhhLmhyZWYpLGM9dC5nZXRBdHRyaWJ1dGUoImRhdGEtY29udmVyc2F0aW9uIiksbD0ibm9uZSI9PWN8fCJoaWRkZW4iPT1jfHxyLnByZXNlbnQodCwidHctaGlkZS10aHJlYWQiKSxmPXQuZ2V0QXR0cmlidXRlKCJkYXRhLWNhcmRzIiksaD0ibm9uZSI9PWZ8fCJoaWRkZW4iPT1mfHxyLnByZXNlbnQodCwidHctaGlkZS1tZWRpYSIpLHA9dC5nZXRBdHRyaWJ1dGUoImRhdGEtYWxpZ24iKXx8dC5nZXRBdHRyaWJ1dGUoImFsaWduIiksbT10LmdldEF0dHJpYnV0ZSgiZGF0YS10aGVtZSIpO3JldHVybiFwJiZkLnRlc3QodC5jbGFzc05hbWUpJiYocD1SZWdFeHAuJDEpLG8uYXVnKGUse3R3ZWV0SWQ6dSxoaWRlVGhyZWFkOmwsaGlkZUNhcmQ6aCxhbGlnbjpwLHRoZW1lOm0saWQ6dX0pfSh0KSx0LnBhcmVudE5vZGUsdCxlKX0pfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMik7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7dmFyIGk9bmV3IHI7cmV0dXJuIG4uZSg4KS50aGVuKGZ1bmN0aW9uKHIpe3ZhciBvO3RyeXtvPW4oODkpLGkucmVzb2x2ZShuZXcgbyh0LGUpKX1jYXRjaCh0KXtpLnJlamVjdCh0KX19LmJpbmQobnVsbCxuKSkuY2F0Y2goZnVuY3Rpb24odCl7aS5yZWplY3QodCl9KSxpLnByb21pc2V9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxMCksaT1uKDApLG89bigxMykscz1uKDE0KSgpLGE9big2OSksdT1uKDUpLGM9ImEudHdpdHRlci1zaGFyZS1idXR0b24sIGEudHdpdHRlci1tZW50aW9uLWJ1dHRvbiwgYS50d2l0dGVyLWhhc2h0YWctYnV0dG9uIixkPSJ0d2l0dGVyLWhhc2h0YWctYnV0dG9uIixsPSJ0d2l0dGVyLW1lbnRpb24tYnV0dG9uIjt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIHModCxjKS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIGEoZnVuY3Rpb24odCl7dmFyIGU9byh0KSxuPXtzY3JlZW5OYW1lOnQuZ2V0QXR0cmlidXRlKCJkYXRhLWJ1dHRvbi1zY3JlZW4tbmFtZSIpLHRleHQ6dC5nZXRBdHRyaWJ1dGUoImRhdGEtdGV4dCIpLHR5cGU6dC5nZXRBdHRyaWJ1dGUoImRhdGEtdHlwZSIpLHNpemU6dC5nZXRBdHRyaWJ1dGUoImRhdGEtc2l6ZSIpLHVybDp0LmdldEF0dHJpYnV0ZSgiZGF0YS11cmwiKSxoYXNodGFnczp0LmdldEF0dHJpYnV0ZSgiZGF0YS1oYXNodGFncyIpLHZpYTp0LmdldEF0dHJpYnV0ZSgiZGF0YS12aWEiKSxidXR0b25IYXNodGFnOnQuZ2V0QXR0cmlidXRlKCJkYXRhLWJ1dHRvbi1oYXNodGFnIil9O3JldHVybiBpLmZvckluKG4sZnVuY3Rpb24odCxuKXt2YXIgcj1lW3RdO2VbdF09dS5oYXNWYWx1ZShyKT9yOm59KSxlLnNjcmVlbk5hbWU9ZS5zY3JlZW5OYW1lfHxlLnNjcmVlbl9uYW1lLGUuYnV0dG9uSGFzaHRhZz1lLmJ1dHRvbkhhc2h0YWd8fGUuYnV0dG9uX2hhc2h0YWd8fGUuaGFzaHRhZyxyLnByZXNlbnQodCxkKSYmKGUudHlwZT0iaGFzaHRhZyIpLHIucHJlc2VudCh0LGwpJiYoZS50eXBlPSJtZW50aW9uIiksZX0odCksdC5wYXJlbnROb2RlLHQpfSl9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigyKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXt2YXIgaT1uZXcgcjtyZXR1cm4gbi5lKDMpLnRoZW4oZnVuY3Rpb24ocil7dmFyIG87dHJ5e289big5MCksaS5yZXNvbHZlKG5ldyBvKHQsZSkpfWNhdGNoKHQpe2kucmVqZWN0KHQpfX0uYmluZChudWxsLG4pKS5jYXRjaChmdW5jdGlvbih0KXtpLnJlamVjdCh0KX0pLGkucHJvbWlzZX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDApO3QuZXhwb3J0cz1yLmF1Zyh7fSxuKDE1MiksbigxNTMpLG4oMTU0KSxuKDE1NSksbigxNTYpLG4oMTU3KSxuKDE1OCkpfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9big2MSksaT1uKDE3KShbInVzZXJJZCJdLHt9LHIpO3QuZXhwb3J0cz17Y3JlYXRlRE1CdXR0b246aX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDYzKSxpPW4oMTcpKFsic2NyZWVuTmFtZSJdLHt9LHIpO3QuZXhwb3J0cz17Y3JlYXRlRm9sbG93QnV0dG9uOml9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9big2NCksaT1uKDE3KShbIm1vbWVudElkIl0se30scik7dC5leHBvcnRzPXtjcmVhdGVNb21lbnQ6aX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDY1KSxpPW4oMTcpKFsidXNlcm5hbWUiXSx7fSxyKTt0LmV4cG9ydHM9e2NyZWF0ZVBlcmlzY29wZU9uQWlyQnV0dG9uOml9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9big5KSxpPW4oMTIpLG89bigzKSxzPW4oMCksYT1uKDUpLHU9big2NiksYz1uKDY3KSxkPW4oMTcpKFtdLHt9LGMpLGw9big2KSxmPSJFbWJlZGRlZCBncmlkcyBoYXZlIGJlZW4gZGVwcmVjYXRlZC4gUGxlYXNlIHVzZSB0d3R0ci53aWRnZXRzLmNyZWF0ZVRpbWVsaW5lIGluc3RlYWQuIE1vcmUgaW5mbzogaHR0cHM6Ly90d2l0dGVyY29tbXVuaXR5LmNvbS90L3VwZGF0ZS1vbi10aGUtZW1iZWRkZWQtZ3JpZC1kaXNwbGF5LXR5cGUvMTE5NTY0LiIsaD17Y3JlYXRlVGltZWxpbmU6cCxjcmVhdGVHcmlkRnJvbUNvbGxlY3Rpb246ZnVuY3Rpb24odCl7dmFyIGU9cy50b1JlYWxBcnJheShhcmd1bWVudHMpLnNsaWNlKDEpLG49e3NvdXJjZVR5cGU6ImNvbGxlY3Rpb24iLGlkOnR9O3JldHVybiBlLnVuc2hpZnQobiksaS5wdWJsaWNMb2coZikscC5hcHBseSh0aGlzLGUpfX07ZnVuY3Rpb24gcCh0KXt2YXIgZSxuPXMudG9SZWFsQXJyYXkoYXJndW1lbnRzKS5zbGljZSgxKTtyZXR1cm4gYS5pc1N0cmluZyh0KXx8YS5pc051bWJlcih0KT9sLnJlamVjdCgiRW1iZWRkZWQgdGltZWxpbmVzIHdpdGggd2lkZ2V0IHNldHRpbmdzIGhhdmUgYmVlbiBkZXByZWNhdGVkLiBTZWUgaHR0cHM6Ly90d2l0dGVyY29tbXVuaXR5LmNvbS90L2RlcHJlY2F0aW5nLXdpZGdldC1zZXR0aW5ncy8xMDIyOTUuIik6cy5pc09iamVjdCh0KT8odD10fHx7fSxuLmZvckVhY2goZnVuY3Rpb24odCl7cy5pc1R5cGUoIm9iamVjdCIsdCkmJmZ1bmN0aW9uKHQpe3QuYXJpYUxpdmU9dC5hcmlhUG9saXRlfShlPXQpfSksZXx8KGU9e30sbi5wdXNoKGUpKSx0Lmxhbmc9ZS5sYW5nLHQudHdlZXRMaW1pdD1lLnR3ZWV0TGltaXQsdC5zaG93UmVwbGllcz1lLnNob3dSZXBsaWVzLGUuZGF0YVNvdXJjZT11KHQpLGQuYXBwbHkodGhpcyxuKSk6bC5yZWplY3QoImRhdGEgc291cmNlIG11c3QgYmUgYW4gb2JqZWN0LiIpfW8uaXNUd2l0dGVyVVJMKHIuaHJlZikmJihoLmNyZWF0ZVRpbWVsaW5lUHJldmlldz1mdW5jdGlvbih0LGUsbil7dmFyIHI9e3ByZXZpZXdQYXJhbXM6dCx1c2VMZWdhY3lEZWZhdWx0czohMCxpc1ByZXZpZXdUaW1lbGluZTohMH07cmV0dXJuIHIuZGF0YVNvdXJjZT11KHIpLGQoZSxyLG4pfSksdC5leHBvcnRzPWh9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcixpPW4oMCksbz1uKDY4KSxzPW4oMTcpLGE9KHI9cyhbInR3ZWV0SWQiXSx7fSxvKSxmdW5jdGlvbigpe3JldHVybiBpLnRvUmVhbEFycmF5KGFyZ3VtZW50cykuc2xpY2UoMSkuZm9yRWFjaChmdW5jdGlvbih0KXtpLmlzVHlwZSgib2JqZWN0Iix0KSYmKHQuaGlkZUNhcmQ9Im5vbmUiPT10LmNhcmRzfHwiaGlkZGVuIj09dC5jYXJkcyx0LmhpZGVUaHJlYWQ9Im5vbmUiPT10LmNvbnZlcnNhdGlvbnx8ImhpZGRlbiI9PXQuY29udmVyc2F0aW9uKX0pLHIuYXBwbHkodGhpcyxhcmd1bWVudHMpfSk7dC5leHBvcnRzPXtjcmVhdGVUd2VldDphLGNyZWF0ZVR3ZWV0RW1iZWQ6YSxjcmVhdGVWaWRlbzphfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMCksaT1uKDY5KSxvPW4oMTcpLHM9byhbInVybCJdLHt0eXBlOiJzaGFyZSJ9LGkpLGE9byhbImJ1dHRvbkhhc2h0YWciXSx7dHlwZToiaGFzaHRhZyJ9LGkpLHU9byhbInNjcmVlbk5hbWUiXSx7dHlwZToibWVudGlvbiJ9LGkpO2Z1bmN0aW9uIGModCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHIudG9SZWFsQXJyYXkoYXJndW1lbnRzKS5zbGljZSgxKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3IuaXNUeXBlKCJvYmplY3QiLHQpJiYodC5zY3JlZW5OYW1lPXQuc2NyZWVuTmFtZXx8dC5zY3JlZW5fbmFtZSx0LmJ1dHRvbkhhc2h0YWc9dC5idXR0b25IYXNodGFnfHx0LmJ1dHRvbl9oYXNodGFnfHx0Lmhhc2h0YWcpfSksdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fXQuZXhwb3J0cz17Y3JlYXRlU2hhcmVCdXR0b246YyhzKSxjcmVhdGVIYXNodGFnQnV0dG9uOmMoYSksY3JlYXRlTWVudGlvbkJ1dHRvbjpjKHUpfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByLGksbyxzPW4oNCksYT1uKDEpLHU9MCxjPVtdLGQ9cy5jcmVhdGVFbGVtZW50KCJhIik7ZnVuY3Rpb24gbCgpe3ZhciB0LGU7Zm9yKHU9MSx0PTAsZT1jLmxlbmd0aDt0PGU7dCsrKWNbdF0oKX0vXmxvYWRlfGMvLnRlc3Qocy5yZWFkeVN0YXRlKSYmKHU9MSkscy5hZGRFdmVudExpc3RlbmVyJiZzLmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLGk9ZnVuY3Rpb24oKXtzLnJlbW92ZUV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLGksITEpLGwoKX0sITEpLGQuZG9TY3JvbGwmJnMuYXR0YWNoRXZlbnQoIm9ucmVhZHlzdGF0ZWNoYW5nZSIscj1mdW5jdGlvbigpey9eYy8udGVzdChzLnJlYWR5U3RhdGUpJiYocy5kZXRhY2hFdmVudCgib25yZWFkeXN0YXRlY2hhbmdlIixyKSxsKCkpfSksbz1kLmRvU2Nyb2xsP2Z1bmN0aW9uKHQpe2Euc2VsZiE9YS50b3A/dT90KCk6Yy5wdXNoKHQpOmZ1bmN0aW9uKCl7dHJ5e2QuZG9TY3JvbGwoImxlZnQiKX1jYXRjaChlKXtyZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpe28odCl9LDUwKX10KCl9KCl9OmZ1bmN0aW9uKHQpe3U/dCgpOmMucHVzaCh0KX0sdC5leHBvcnRzPW99LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDQ2KSxpPW4oOCk7dC5leHBvcnRzPWZ1bmN0aW9uKCl7aS5zZXQoImJ1aWxkVmVyc2lvbiIsci52ZXJzaW9uKX19LGZ1bmN0aW9uKHQsZSxuKXtuKDE2MiksbigxNjUpLG4oMTY2KX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMTYzKSxpPW4oMzApLG89big3MCkscz1uZXcgcixhPWZ1bmN0aW9uKHQpe3Qud2lkZ2V0cyYmMT09PXQud2lkZ2V0cy5sZW5ndGgmJihzLnN0YXJ0KCksaS5lbWl0dGVyLnVuYmluZChpLkFMTF9XSURHRVRTX1JFTkRFUl9TVEFSVCxhKSl9LHU9ZnVuY3Rpb24odCl7dmFyIGU7dC53aWRnZXRzJiYxPT09dC53aWRnZXRzLmxlbmd0aCYmKGU9dC53aWRnZXRzWzBdLHMuZW5kKCksZS5kYXRhc2V0JiZlLmRhdGFzZXQudHdlZXRJZCYmbyh7ZHVyYXRpb246cy5kdXJhdGlvbigpLG5hbWVzcGFjZTp7ZWxlbWVudDoidHdlZXQiLGFjdGlvbjoicmVuZGVyIn0sd2lkZ2V0SWRzOltlLmRhdGFzZXQudHdlZXRJZF19KSksaS5lbWl0dGVyLnVuYmluZChpLkFMTF9XSURHRVRTX1JFTkRFUl9FTkQsdSl9O2kuZW1pdHRlci5iaW5kKGkuQUxMX1dJREdFVFNfUkVOREVSX1NUQVJULGEpLGkuZW1pdHRlci5iaW5kKGkuQUxMX1dJREdFVFNfUkVOREVSX0VORCx1KX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMTY0KTtmdW5jdGlvbiBpKCl7fWkucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKCl7dGhpcy5fc3RhcnRUaW1lPXIoKX0saS5wcm90b3R5cGUuZW5kPWZ1bmN0aW9uKCl7dGhpcy5fZHVyYXRpb249cigpLXRoaXMuX3N0YXJ0VGltZX0saS5wcm90b3R5cGUuZHVyYXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZHVyYXRpb259LHQuZXhwb3J0cz1pfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxKTt0LmV4cG9ydHM9ZnVuY3Rpb24oKXtyZXR1cm4gci5wZXJmb3JtYW5jZSYmci5wZXJmb3JtYW5jZS5ub3c/ci5wZXJmb3JtYW5jZS5ub3coKTpEYXRlLm5vdygpfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByLGk9bigzMCksbz0wO2Z1bmN0aW9uIHMoKXtyJiZyLmxlbmd0aD09PW8mJihpLmVtaXR0ZXIudHJpZ2dlcihpLkFMTF9XSURHRVRTX0FORF9JTUFHRVNfTE9BREVELHIpLHI9bnVsbCl9aS5lbWl0dGVyLmJpbmQoaS5BTExfV0lER0VUU19SRU5ERVJfRU5ELGZ1bmN0aW9uKHQpe3I9dC53aWRnZXRzLHMoKX0pLHQuZXhwb3J0cz17cmVwb3J0SW1hZ2VzTG9hZEZvckFXaWRnZXQ6ZnVuY3Rpb24oKXtvKysscygpfX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDMwKSxpPW4oNzApLG89bigxNjcpLHM9bigzKSxhPW4oMSksdT1uKDApLGM9bigyMSksZD1uKDYyKTtmdW5jdGlvbiBsKHQpe3JldHVybiB0LnBlcmZvcm1hbmNlLmdldEVudHJpZXNCeVR5cGUoInJlc291cmNlIikuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiBzLmlzVHdpbWdVUkwodC5uYW1lKXx8cy5pc1R3aXR0ZXJVUkwodC5uYW1lKX0pLnJlZHVjZShmdW5jdGlvbih0LGUpe3JldHVybiB0W2UubmFtZV09ZS5kdXJhdGlvbix0fSx7fSl9ci5lbWl0dGVyLmJpbmQoci5BTExfV0lER0VUU19BTkRfSU1BR0VTX0xPQURFRCxmdW5jdGlvbih0KXt2YXIgZSxuLHI9W107Yy5oYXNQZXJmb3JtYW5jZUluZm9ybWF0aW9uKCkmJihlPWwoYSksZC5pc1N1cHBvcnRlZCgpfHwocj1mdW5jdGlvbih0KXtyZXR1cm4gdC5yZWR1Y2UoZnVuY3Rpb24odCxlKXtyZXR1cm4gdS5hdWcodCxsKGUuY29udGVudERvY3VtZW50LmRlZmF1bHRWaWV3KSl9LHt9KX0odCkpLG49dS5hdWcoe30sZSxyKSxPYmplY3Qua2V5cyhvKS5mb3JFYWNoKGZ1bmN0aW9uKHQpeyFmdW5jdGlvbih0LGUsbil7dmFyIHI9T2JqZWN0LmtleXModCkucmVkdWNlKGZ1bmN0aW9uKGUscil7cmV0dXJuIG4ocik/ZSt0W3JdOmV9LDApO2koe2R1cmF0aW9uOnIsbmFtZXNwYWNlOntlbGVtZW50OmUsYWN0aW9uOiJyZXNvdXJjZSJ9fSl9KG4sdCxvW3RdKX0pKX0pfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigzKSxpPXthbGw6ZnVuY3Rpb24oKXtyZXR1cm4hMH0saW1hZ2U6ZnVuY3Rpb24odCl7cmV0dXJuIHIuaXNUd2ltZ1VSTCh0KX0sc2V0dGluZ3M6ZnVuY3Rpb24odCl7cmV0dXJuIHIuaXNTZXR0aW5nc1VSTCh0KX0sd2lkZ2V0X2lmcmFtZTpmdW5jdGlvbih0KXtyZXR1cm4gci5pc1dpZGdldElmcmFtZVVSTCh0KX19O3QuZXhwb3J0cz1pfV0pKSk7" charset="utf-8"></script>
<p>（著作権とか怖いので，公式のTwitterを埋め込む．）</p>
<p>ここで集中力の質は，</p>
<ul>
<li>深さ：集中力の強度</li>
<li>長さ：集中力の継続時間</li>
<li>早さ：集中に入るまでの瞬発力</li>
</ul>
<p>の掛け算になると主人公の師匠は言う．</p>
<p>本質をつき，うまく言語化（漫画だが）した解釈だと思った． 確かに私の周辺にいる”集中力”が素晴らしい人は，3つのいずれかの能力が突出している気がする．</p>
<p>どれかが突出していれば，武器になる集中力と言えるのだろうが，このなかでも一番大事な側面は <strong>早さ：集中に入るまでの瞬発力</strong> だと私は思う．</p>
<p>他のふたつは，やればできる，時間をかければできる， と解釈できることもでき，結局”いつかはできる”能力に他ならない．</p>
<p>言い換えれば，深くor長く集中するためのスイッチが暗黙のうちに必要とされており，発動条件に受動的な側面が存在している気がする．</p>
<p>一方で，集中に入る早さの能力は能動的な能力である． これは自分で自分のピークに突入することができる力であり， アウトプットのスピードが要求される場面で強みを発揮できる．</p>
<p>スピードというものは，問答無用で価値がある． 仕事の文脈で，スピードが要求されない場面はほぼ存在しないだろう．</p>
<p>そう考えると．集中に入る早さの能力の優先順位は高いはずだ． その上で，深さ・長さを身に着ければ最強と言える．</p>
<p>私の場合，どれも足りないのだが， 特に”集中に入る早さ”が致命的に足りていない．別の言い方をすれば，切り替えが下手くそである．悲しいかな．どうしましょうか(笑)</p>
</body>
  <div style="text-align: center;">
        <a href="20200101.html"><div class="triangle_left"></div></a>
        <a href="index.html"><div class="square_center"></div></a>
        <a href="20200103.html"><div class="triangle_right"></div></a>
      </div>   
</html>